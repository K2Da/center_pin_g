var p=Object.defineProperty;var A=(e,t,s)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var u=(e,t,s)=>(A(e,typeof t!="symbol"?t+"":t,s),s);import{T as B,U as E}from"./DsNW8RRF.js";const C=[1518500249,1859775393,-1894007588,-899497514],b={sha1:1};function d(e){if(e&&!b[e]&&!b[e.toLowerCase()])throw new Error("Digest method not supported");return new D}class D{constructor(){u(this,"A",1732584193);u(this,"B",-271733879);u(this,"C",-1732584194);u(this,"D",271733878);u(this,"E",-1009589776);u(this,"_byte");u(this,"_word");u(this,"_size",0);u(this,"_sp",0);(!y||w>=8e3)&&(y=new ArrayBuffer(8e3),w=0),this._byte=new Uint8Array(y,w,80),this._word=new Int32Array(y,w,20),w+=80}update(t){if(typeof t=="string")return this._utf8(t);if(t==null)throw new TypeError("Invalid type: "+typeof t);const s=t.byteOffset,i=t.byteLength;let r=i/64|0,o=0;if(r&&!(s&3)&&!(this._size%64)){const h=new Int32Array(t.buffer,s,r*16);for(;r--;)this._int32(h,o>>2),o+=64;this._size+=o}if(t.BYTES_PER_ELEMENT!==1&&t.buffer){const h=new Uint8Array(t.buffer,s+o,i-o);return this._uint8(h)}return o===i?this:this._uint8(t,o)}_uint8(t,s){const{_byte:i,_word:r}=this,o=t.length;for(s=s||0;s<o;){const f=this._size%64;let h=f;for(;s<o&&h<64;)i[h++]=t[s++];h>=64&&this._int32(r),this._size+=h-f}return this}_utf8(t){const{_byte:s,_word:i}=this,r=t.length;let o=this._sp;for(let f=0;f<r;){const h=this._size%64;let n=h;for(;f<r&&n<64;){let c=t.charCodeAt(f++)|0;c<128?s[n++]=c:c<2048?(s[n++]=192|c>>>6,s[n++]=128|c&63):c<55296||c>57343?(s[n++]=224|c>>>12,s[n++]=128|c>>>6&63,s[n++]=128|c&63):o?(c=((o&1023)<<10)+(c&1023)+65536,s[n++]=240|c>>>18,s[n++]=128|c>>>12&63,s[n++]=128|c>>>6&63,s[n++]=128|c&63,o=0):o=c}n>=64&&(this._int32(i),i[0]=i[16]),this._size+=n-h}return this._sp=o,this}_int32(t,s){let{A:i,B:r,C:o,D:f,E:h}=this,n=0;for(s=s||0;n<16;)l[n++]=_(t[s++]);for(n=16;n<80;n++)l[n]=x(l[n-3]^l[n-8]^l[n-14]^l[n-16]);for(n=0;n<80;n++){const c=n/20|0,g=L(i)+U(c,r,o,f)+h+l[n]+C[c]|0;h=f,f=o,o=S(r),r=i,i=g}this.A=i+this.A|0,this.B=r+this.B|0,this.C=o+this.C|0,this.D=f+this.D|0,this.E=h+this.E|0}digest(t){const{_byte:s,_word:i}=this;let r=this._size%64|0;for(s[r++]=128;r&3;)s[r++]=0;if(r>>=2,r>14){for(;r<16;)i[r++]=0;r=0,this._int32(i)}for(;r<16;)i[r++]=0;const o=this._size*8,f=(o&4294967295)>>>0,h=(o-f)/4294967296;return h&&(i[14]=_(h)),f&&(i[15]=_(f)),this._int32(i),t==="hex"?this._hex():this._bin()}_hex(){const{A:t,B:s,C:i,D:r,E:o}=this;return a(t)+a(s)+a(i)+a(r)+a(o)}_bin(){const{A:t,B:s,C:i,D:r,E:o,_byte:f,_word:h}=this;return h[0]=_(t),h[1]=_(s),h[2]=_(i),h[3]=_(r),h[4]=_(o),f.slice(0,20)}}const l=new Int32Array(80);let y,w=0;const a=e=>(e+4294967296).toString(16).substr(-8),z=e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,T=e=>e,_=H()?T:z,x=e=>e<<1|e>>>31,L=e=>e<<5|e>>>27,S=e=>e<<30|e>>>2;function U(e,t,s,i){return e===0?t&s|~t&i:e===2?t&s|t&i|s&i:t^s^i}function H(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}const R=e=>[e%2===1?"tcb":"tca",e===0?"tc1":void 0],N=(e,t,s)=>[(e+t)%2===1?"tca":"tcb",e===0&&"stc1",e===s-1&&"stcL"],O=(e,t)=>{const s=new Date(e).setHours(0,0,0,0),i=new Date(t).setHours(0,0,0,0);return Math.round((s-i)/1e3/60/60/24)},P=e=>d().update(e).digest("hex"),Y=e=>{const t=B[e]??0;if(E){if(t>E.t1)return"t1";if(t>E.t2)return"t2";if(t>E.t3)return"t3"}return"t4"};export{P as a,R as c,O as d,Y as r,N as s};
