import{_ as N,a as P,b as L}from"./client-only.022e6b6b.js";import{t as M,_ as V}from"./team.cdc422a7.js";import{_ as O}from"./DateSpan.vue.4731c3bd.js";import{c as j,_ as q,a as E,l as F}from"./qeuryWatcher.ee59723f.js";import{_ as I}from"./Name.vue.73aac48c.js";import{a as T,s as K,x as z,D as B,o as m,b as u,f as v,t as y,B as C,e,m as s,u as t,F as w,h as S,w as H,C as Q,j as R,r as D,l as G,c as J,E as U,L as W}from"./entry.23762796.js";import{_ as b}from"./ToggleButton.vue.85acc310.js";import{_ as X}from"./DateTime.vue.81c75ed2.js";import{_ as Y}from"./Name.vue.4d700b36.js";import{_ as A}from"./PlayersLine.vue.cff73376.js";import{_ as Z}from"./Name.vue.5f287a74.js";import{s as tt,c as et}from"./helpers.a2347b6a.js";import{s as nt}from"./ga.9020f222.js";const st={key:0},at=e("span",{class:"muted"},"大会登録チーム名: ",-1),ot=e("span",{class:"muted"},"活動期間: ",-1),lt=e("span",{class:"muted"},"メンバー(出場回数): ",-1),it={class:"muted"},ct=T({__name:"Info",props:{detail:null},setup(a){const{detail:i}=a,l=K(),{tournaments:o}=z(l),h=B(()=>{if(i)return j(i.matches.map(n=>({key:n.tnmt_key,wl:n.wl===!0})),i.tournaments.map(n=>({key:n.tournament_key,result:n.result})),o.value)}),d=(n,_)=>n.slice().sort((r,p)=>_[p].count-_[r].count);return(n,_)=>{var $,c,g;const r=O,p=q,f=I;return m(),u("ul",null,[((c=($=a.detail.info)==null?void 0:$.aliases)==null?void 0:c.length)>0?(m(),u("li",st,[at,v(" "+y((g=a.detail.info)==null?void 0:g.aliases.join(", ")),1)])):C("",!0),e("li",null,[ot,s(r,{date1:a.detail.team.first_tournament_date,date2:a.detail.team.latest_tournament_date},null,8,["date1","date2"])]),s(p,{resultsSum:t(h)},null,8,["resultsSum"]),e("li",null,[lt,(m(!0),u(w,null,S(d(a.detail.players,a.detail.playerStats),(k,x)=>(m(),u("span",{key:k},[x!==0?(m(),u(w,{key:0},[v(", ")],64)):C("",!0),s(f,{name:k},null,8,["name"]),e("span",it,"("+y(a.detail.playerStats[k].count)+")",1)]))),128))])])}}}),mt={class:"ti",style:{width:"8em"}},rt=e("span",{class:"muted"},"r: ",-1),ut={class:"ti tac",style:{width:"2em"}},_t={class:"ti tac",style:{width:"4em"}},dt={class:"ti",style:{width:"24em"}},pt={class:"ti",style:{width:"4em"}},ht={class:"ti",style:{width:"48em"}},ft=T({__name:"Matches",props:{detail:null,tournament:null,index:null,show:{type:Boolean}},setup(a){const{detail:i,tournament:l,index:o,show:h}=a,d=i.matches.filter(n=>n.tnmt_key===l.tournament_key);return(n,_)=>{const r=E,p=Z,f=N,$=A;return m(!0),u(w,null,S(t(d),(c,g)=>H((m(),u("div",{class:R(["stc",("subContainerClass"in n?n.subContainerClass:t(tt))(g,a.index,t(d).length)]),key:`${c.bracket}_${c.round}`,style:{"margin-left":"0.5em",width:"calc(100% - 0.5em)"}},[e("div",mt,[v(y(c.bracket)+" ",1),rt,v(y(c.round),1)]),e("div",ut,[s(r,{win:c.wl},null,8,["win"])]),e("div",_t,y(c.score_text),1),e("div",dt,[s(p,{name:c.opponent_team_name,currentName:c.opponent_team_current_name},null,8,["name","currentName"])]),e("div",pt,[s(f,{rank:c.opponent_team_rank},null,8,["rank"])]),e("div",ht,[s($,{names:c.opponents_list},null,8,["names"])])],2)),[[Q,a.show]])),128)}}}),yt={class:"ti",style:{width:"2em","padding-left":"0.5em"}},$t={class:"ti tal",style:{width:"7em"}},gt={class:"ti tar",style:{width:"3em","padding-right":"4px"}},wt={class:"ti",style:{width:"32em"}},kt={class:"ti",style:{width:"24em"}},vt={class:"ti",style:{width:"36em"}},Tt=T({__name:"Tournament",props:{detail:null,tournament:null,i:null,openAll:{type:Boolean}},setup(a){const i=a,{detail:l,tournament:o,i:h}=i,d=D(!1),n=r=>{d.value=r},_=B(()=>d.value||i.openAll);return(r,p)=>{const f=b,$=X,c=N,g=Y,k=A,x=ft;return m(),u(w,null,[e("div",yt,[s(f,{id:`tournaments-toggle-${t(h)}`,value:!1,onToggle:n},null,8,["id"])]),e("div",$t,[s($,{date:t(o).tournament_date,spacing:!0},null,8,["date"])]),e("div",gt,[s(c,{rank:t(o).result},null,8,["rank"])]),e("div",wt,[s(g,{name:t(o).tournament_name,tournamentKey:t(o).tournament_key},null,8,["name","tournamentKey"])]),e("div",kt,y(t(o).name),1),e("div",vt,[s(k,{names:t(o).player_list},null,8,["names"])]),s(x,{detail:t(l),tournament:t(o),index:t(h),show:t(_)},null,8,["detail","tournament","index","show"])],64)}}}),Ct={style:{padding:"0 0 0.2em 0.5em"}},xt=e("span",null,"All",-1),St=T({__name:"Tournaments",props:{detail:null},setup(a){const i=D(!1),l=o=>{i.value=o};return(o,h)=>{const d=b,n=Tt;return m(),u(w,null,[e("div",Ct,[s(d,{id:"tournaments-all-toggle",value:!1,onToggle:l}),v(),xt]),(m(!0),u(w,null,S(a.detail.tournaments,(_,r)=>(m(),u("div",{class:R(["tc",("containerClass"in o?o.containerClass:t(et))(r)]),key:_.tournament_key},[s(n,{tournament:_,detail:a.detail,i:r,openAll:t(i)},null,8,["tournament","detail","i","openAll"])],2))),128))],64)}}}),Dt={key:0},Nt=e("h2",null,"大会結果",-1),It=T({__name:"detail",setup(a){const i=G(),l=D(null),o=async()=>{l.value=null,l.value=M(await W(i.query.m))};return nt(i.path),o(),F(o),(h,d)=>{const n=L,_=V,r=ct,p=St,f=P;return m(),u("div",null,[t(l)?(m(),J(f,{key:0},{default:U(()=>[s(n,{title:`${t(l).team.name}: 戦績`},null,8,["title"]),e("h1",null,y(t(l).team.name),1),s(_,{current:"detail",m:t(i).query.m},null,8,["m"]),s(r,{detail:t(l)},null,8,["detail"]),t(l).tournaments.length>0?(m(),u("div",Dt,[Nt,s(p,{detail:t(l)},null,8,["detail"])])):C("",!0)]),_:1})):C("",!0)])}}});export{It as default};
