import{g as M,y as C,D as N,r as T,G as B,u as l,o as n,c as r,A as L,t as a,E as d,a as m,F as y,d as f,b as V,w as q,e as A}from"./DPhsZf6b.js";import{q as F}from"./D1r4nnKM.js";const b={class:"calendar"},E={key:0},H={key:1},j={key:2,class:"event"},G={class:"ti",style:{width:"3em"}},J={class:"ti"},X=M({__name:"List",props:{day:{}},async setup(D){let c,g;const{data:w}=([c,g]=C(()=>N(()=>F("/topic").find(),"$9KyyrXfTBS")),c=await c,g(),c),{day:i}=D,u=new Date,h=i*24*60*60*1e3,k=new Date(u.getTime()-h),v=new Date(u.getTime()+h);let s=[{topic:"",path:"",date:u,title:""}];for(const o of w.value)for(const e of o.dates)i!==0&&(new Date(e.date)<k||new Date(e.date)>v)||s.push({topic:o.title||"",path:o._path||"",title:e.title,date:new Date(e.date)});s=s.sort((o,e)=>o.date<e.date?1:-1);const x=o=>{if(i===0)return"";const e=o.getDate()-u.getDate();return-2<=e&&e<=2?["一昨日","昨日","本日","明日","明後日"][e+2]:""},p=T(!1);return i===0&&(p.value=!0),B(()=>{p.value=!0}),(o,e)=>{const S=A;return l(p)?(n(!0),r(y,{key:0},L(l(s),(t,_)=>(n(),r("div",b,[_===0||t.date.getMonth()!==l(s)[_-1].date.getMonth()?(n(),r("h3",E,a(t.date.getFullYear())+"年 "+a(t.date.getMonth()+1)+"月 ",1)):d("",!0),_===0||t.date.getDate()!==l(s)[_-1].date.getDate()?(n(),r("h4",H,a(t.date.getDate())+"日 ("+a(t.date.toLocaleDateString("ja-JP",{weekday:"short"}))+") "+a(x(t.date)),1)):d("",!0),t.title!=""?(n(),r("div",j,[m("div",G,[t.date.getHours()!==0&&t.date.getMinutes()!==0?(n(),r(y,{key:0},[f(a(t.date.getHours().toString().padStart(2,"0"))+":"+a(t.date.getMinutes().toString().padStart(2,"0")),1)],64)):d("",!0)]),m("div",J,[V(S,{to:{name:"topic-detail",query:{t:t.path.substring(7)}},"no-prefetch":""},{default:q(()=>[f(a(t.topic),1)]),_:2},1032,["to"]),f(" - "+a(t.title),1)])])):d("",!0)]))),256)):d("",!0)}}});export{X as _};
