import{_ as b}from"./PageHead.vue_vue_type_script_setup_true_lang.aa7f0dd6.js";import{_ as M,a as P}from"./MatchResult.vue_vue_type_script_setup_true_lang.2eee35e1.js";import{_ as B}from"./SocialAccounts.vue_vue_type_script_setup_true_lang.3d06d43b.js";import{_ as N}from"./DateTime.vue_vue_type_script_setup_true_lang.be600193.js";import{_ as A}from"./TeamName.vue_vue_type_script_setup_true_lang.d3368347.js";import{a as D,o as _,e as r,h as d,t as m,p as k,q as l,f as t,F as w,r as C,v as F,w as x,u as g,x as E,b as L,y as V,z as I,A as R,s as j,c as q,B as S,C as z,D as K,E as O}from"./entry.b80b6c23.js";import{_ as T}from"./PlayersLine.vue_vue_type_script_setup_true_lang.5f1a09e8.js";import{_ as H}from"./TournamentName.vue_vue_type_script_setup_true_lang.790c78f5.js";import"./PlayerName.vue_vue_type_script_setup_true_lang.654dee42.js";const G={key:0},J=t("span",{class:"muted"},"\u5927\u4F1A\u51FA\u5834\u540D: ",-1),Q={key:1},U=t("span",{class:"muted"},"ratings: ",-1),W={key:2},X=t("span",{class:"muted"},"url: ",-1),Y=t("span",{class:"muted"},"\u30C1\u30FC\u30E0",-1),Z={class:"muted"},tt=d("\xA0 "),et=D({__name:"PlayerDetailInfo",props:{detail:null,resultsSum:null},setup(u){const y=$=>{const c={};for(const e of $.tournaments){const n=e.team_current_name;c[n]?(c[n].count+=1,c[n].lastMatchAt=Math.max(e.tournament_date,c[n].lastMatchAt)):c[n]={name:n,count:1,lastMatchAt:e.tournament_date}}return Object.values(c).sort(e=>-e.lastMatchAt)};return($,c)=>{var o,s,a,h,v;const e=M,n=B,p=N,i=A;return _(),r("ul",null,[((s=(o=u.detail.data)==null?void 0:o.aliases)==null?void 0:s.length)>0?(_(),r("li",G,[J,d(" "+m(u.detail.data.aliases.join(", ")),1)])):k("",!0),l(e,{resultsSum:u.resultsSum},null,8,["resultsSum"]),u.detail.player.rating?(_(),r("li",Q,[U,d(" "+m(u.detail.player.rating.toLocaleString()),1)])):k("",!0),u.detail.data?(_(),r("li",W,[X,l(n,{twitter:(a=u.detail.data)==null?void 0:a.twitter,youtube:(h=u.detail.data)==null?void 0:h.youtube,twitch:(v=u.detail.data)==null?void 0:v.twitch},null,8,["twitter","youtube","twitch"])])):k("",!0),t("li",null,[Y,t("ul",null,[(_(!0),r(w,null,C(y(u.detail),f=>(_(),r("li",{key:f.name},[t("span",Z,[l(p,{date:f.lastMatchAt,spacing:!0},null,8,["date"])]),tt,l(i,{name:f.name,currentName:f.name},null,8,["name","currentName"]),d(" ("+m(f.count)+") ",1)]))),128))])])])}}}),st={class:"ti tal",style:{width:"7em"}},nt={class:"ti tar",style:{width:"3em","padding-right":"4px"}},at=t("span",{class:"muted"},"\u4F4D",-1),lt={class:"ti",style:{width:"32em"}},ot=["href","onClick"],ut={class:"ti",style:{width:"18em"}},ct={class:"ti",style:{width:"36em"}},it={class:"ti",style:{width:"12em"}},_t=t("span",{class:"muted"},"\u{1F4C8}",-1),rt={class:"muted"},mt=D({__name:"PlayerDetailTournaments",props:{detail:null},setup(u){const{$containerClass:y}=F(),$=e=>{var n;(n=document.getElementById(e))==null||n.scrollIntoView()},c=e=>e==null?"-":e.toLocaleString();return(e,n)=>{const p=N,i=A,o=T;return _(!0),r(w,null,C(u.detail.tournaments,(s,a)=>(_(),r("div",{class:x(["tc",g(y)(a)]),key:s.tournament_key},[t("div",st,[l(p,{date:s.tournament_date,spacing:!0},null,8,["date"])]),t("div",nt,[d(m(s.team_result)+" ",1),at]),t("div",lt,[t("a",{href:`#${s.tournament_key}`,onClick:[n[0]||(n[0]=E((...h)=>e.linkClick&&e.linkClick(...h),["prevent","stop"])),h=>$(s.tournament_key)]},m(s.tournament_name),9,ot)]),t("div",ut,[l(i,{name:s.team_name,currentName:s.team_current_name},null,8,["name","currentName"])]),t("div",ct,[l(o,{names:s.mate_list},null,8,["names"])]),t("div",it,[_t,d(" "+m(c(s.rating))+" ",1),t("span",rt,"("+m(c(s.rank))+"\u4F4D / "+m(c(s.total))+"\u4EBA)",1)])],2))),128)}}}),dt=["id"],ht=t("span",{class:"muted"},"\u958B\u50AC\u65E5: ",-1),pt=t("span",{class:"muted"},"\u30C1\u30FC\u30E0: ",-1),yt=t("span",{class:"muted"},"\u30E1\u30F3\u30D0\u30FC: ",-1),$t=t("span",{class:"muted"},"\u7D50\u679C: ",-1),ft=t("span",{class:"muted"},"\u4F4D",-1),kt={class:"ti",style:{width:"8em"}},vt=t("span",{class:"muted"},"r: ",-1),wt={class:"ti tac",style:{width:"2em"}},Ct={class:"ti tac",style:{width:"4em"}},gt={class:"ti",style:{width:"24em"}},Dt={class:"ti",style:{width:"4em"}},Nt=t("span",{class:"muted"}," \u4F4D",-1),At={class:"ti",style:{width:"48em"}},Ft=D({__name:"PlayerDetailMatches",props:{detail:null},setup(u){const{$containerClass:y}=F();return($,c)=>{const e=H,n=N,p=A,i=T,o=P;return _(!0),r(w,null,C(u.detail.tournaments,s=>(_(),r("div",{key:s.tournament_key},[t("h3",{id:s.tournament_key},[l(e,{tournamentKey:s.tournament_key,name:s.tournament_name},null,8,["tournamentKey","name"])],8,dt),t("ul",null,[t("li",null,[ht,l(n,{date:s.tournament_date,spacing:!1},null,8,["date"])]),t("li",null,[pt,l(p,{name:s.team_name,currentName:s.team_current_name},null,8,["name","currentName"])]),t("li",null,[yt,d(" "+m(s.member_name)+", ",1),l(i,{names:s.mate_list},null,8,["names"])]),t("li",null,[$t,d(" "+m(s.team_result),1),ft])]),(_(!0),r(w,null,C(u.detail.matches.filter(a=>a.tnmt_key===s.tournament_key),(a,h)=>(_(),r("div",{class:x(["tc",g(y)(h)]),key:`${a.bracket}_${a.round}`},[t("div",kt,[d(m(a.bracket)+" ",1),vt,d(m(a.round),1)]),t("div",wt,[l(o,{win:a.wl},null,8,["win"])]),t("div",Ct,m(a.score_text),1),t("div",gt,[l(p,{name:a.opponent_team_name,currentName:a.opponent_team_current_name},null,8,["name","currentName"])]),t("div",Dt,[d(m(a.opponent_team_rank),1),Nt]),t("div",At,[l(i,{names:a.opponents_list},null,8,["names"])])],2))),128))]))),128)}}}),xt={key:0},St=t("h2",null,"\u5927\u4F1A\u7D50\u679C",-1),Tt={key:1},bt=t("h2",null,"\u8A66\u5408\u7D50\u679C",-1),qt=D({__name:"detail",setup(u){const{$host:y,$ratingClass:$}=F(),c=L(),e=V(null),n=()=>{$fetch(`${y()}/player/${c.query.p}.json`).then(i=>{for(const o of i.matches)o.wl=o.opponent_team_key===o.loser_key,o.score_text=o.wl?`${o.winner_score} - ${o.loser_score}`:`${o.loser_score} - ${o.winner_score}`;e.value=i})},p=I(()=>{if(e.value)return K(e.value.matches.map(i=>({key:i.tnmt_key,wl:i.wl===!0})),e.value.tournaments.map(i=>({key:i.tournament_key,result:i.team_result})),O.value)});return R(()=>c.query,async()=>{e.value=null,await n()}),j(c.path),n(),(i,o)=>{const s=b,a=et,h=mt,v=Ft,f=z;return _(),r("div",null,[e.value?(_(),q(f,{key:0},{fallback:S(()=>[]),default:S(()=>[l(s,{title:e.value.player.collated_name},null,8,["title"]),t("h1",{class:x(g($)(e.value.player.rating))},m(e.value.player.collated_name),3),l(a,{detail:e.value,resultsSum:g(p)},null,8,["detail","resultsSum"]),e.value.tournaments.length>0?(_(),r("div",xt,[St,l(h,{detail:e.value},null,8,["detail"])])):k("",!0),e.value.tournaments.length>0?(_(),r("div",Tt,[bt,l(v,{detail:e.value},null,8,["detail"])])):k("",!0)]),_:1})):k("",!0)])}}});export{qt as default};
