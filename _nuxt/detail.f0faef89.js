import{_ as g,a as B,b as R}from"./client-only.e701b950.js";import{_ as S}from"./TeamNaviLink.vue_vue_type_script_setup_true_lang.a8773668.js";import{_ as A}from"./DateSpan.vue_vue_type_script_setup_true_lang.1c7de701.js";import{_ as P,a as V}from"./MatchResult.vue_vue_type_script_setup_true_lang.4fe258bb.js";import{_ as b}from"./PlayerName.vue_vue_type_script_setup_true_lang.5a13496d.js";import{a as D,z as q,C as I,D as L,o,e as _,h as $,t as y,p as v,f as t,q as n,u as c,F as w,r as C,v as T,w as F,x as M,b as j,y as z,A as K,s as O,c as H,B as G,O as J}from"./entry.ff056bd0.js";import{_ as N}from"./DateTime.vue_vue_type_script_setup_true_lang.dc419c13.js";import{_ as x}from"./PlayersLine.vue_vue_type_script_setup_true_lang.3d37e308.js";import{_ as Q}from"./TournamentName.vue_vue_type_script_setup_true_lang.423f39ce.js";import{_ as U}from"./TeamName.vue_vue_type_script_setup_true_lang.0e0010d5.js";import"./composables.d23f5e28.js";const W={key:0},X=t("span",{class:"muted"},"\u5927\u4F1A\u767B\u9332\u30C1\u30FC\u30E0\u540D: ",-1),Y=t("span",{class:"muted"},"\u6D3B\u52D5\u671F\u9593: ",-1),Z=t("span",{class:"muted"},"\u30E1\u30F3\u30D0\u30FC(\u51FA\u5834\u56DE\u6570): ",-1),tt={class:"muted"},et=D({__name:"TeamDetailInfo",props:{detail:null},setup(i){const{detail:d}=i,p=q(()=>{if(d)return I(d.matches.map(e=>({key:e.tnmt_key,wl:e.wl===!0})),d.tournaments.map(e=>({key:e.tournament_key,result:e.result})),L.value)}),s=(e,m)=>e.slice().sort((h,r)=>m[r].count-m[h].count);return(e,m)=>{var f,a,l;const h=A,r=P,u=b;return o(),_("ul",null,[((a=(f=i.detail.info)==null?void 0:f.aliases)==null?void 0:a.length)>0?(o(),_("li",W,[X,$(" "+y((l=i.detail.info)==null?void 0:l.aliases.join(", ")),1)])):v("",!0),t("li",null,[Y,n(h,{date1:i.detail.team.first_tournament_date,date2:i.detail.team.latest_tournament_date},null,8,["date1","date2"])]),n(r,{resultsSum:c(p)},null,8,["resultsSum"]),t("li",null,[Z,(o(!0),_(w,null,C(s(i.detail.players,i.detail.playerStats),(k,E)=>(o(),_("span",{key:k},[E!==0?(o(),_(w,{key:0},[$(", ")],64)):v("",!0),n(u,{name:k},null,8,["name"]),t("span",tt,"("+y(i.detail.playerStats[k].count)+")",1)]))),128))])])}}}),nt={class:"ti tal",style:{width:"7em"}},st={class:"ti tar",style:{width:"3em","padding-right":"4px"}},at={class:"ti",style:{width:"32em"}},lt=["href","onClick"],ot={class:"ti",style:{width:"24em"}},it={class:"ti",style:{width:"36em"}},ut=D({__name:"TeamDetailTournaments",props:{detail:null},setup(i){const{$containerClass:d}=T(),p=s=>{var e;(e=document.getElementById(s))==null||e.scrollIntoView()};return(s,e)=>{const m=N,h=g,r=x;return o(!0),_(w,null,C(i.detail.tournaments,(u,f)=>(o(),_("div",{class:F(["tc",c(d)(f)]),key:u.tournament_key},[t("div",nt,[n(m,{date:u.tournament_date,spacing:!0},null,8,["date"])]),t("div",st,[n(h,{rank:u.result},null,8,["rank"])]),t("div",at,[t("a",{href:`#${u.tournament_key}`,onClick:[e[0]||(e[0]=M((...a)=>s.linkClick&&s.linkClick(...a),["prevent","stop"])),a=>p(u.tournament_key)]},y(u.tournament_name),9,lt)]),t("div",ot,y(u.name),1),t("div",it,[n(r,{names:u.player_list},null,8,["names"])])],2))),128)}}}),_t=["id"],ct=t("span",{class:"muted"},"\u958B\u50AC\u65E5: ",-1),mt=t("span",{class:"muted"},"\u30C1\u30FC\u30E0: ",-1),rt=t("span",{class:"muted"},"\u30E1\u30F3\u30D0\u30FC: ",-1),dt=t("span",{class:"muted"},"\u7D50\u679C: ",-1),pt={class:"ti",style:{width:"8em"}},ht=t("span",{class:"muted"},"r: ",-1),yt={class:"ti tac",style:{width:"2em"}},ft={class:"ti tac",style:{width:"4em"}},kt={class:"ti",style:{width:"24em"}},$t={class:"ti",style:{width:"4em"}},vt={class:"ti",style:{width:"48em"}},wt=D({__name:"TeamDetailMatches",props:{detail:null},setup(i){const{$containerClass:d}=T();return(p,s)=>{const e=Q,m=N,h=x,r=g,u=V,f=U;return o(!0),_(w,null,C(i.detail.tournaments,a=>(o(),_("div",{key:a.tournament_key},[t("h3",{id:a.tournament_key},[n(e,{tournamentKey:a.tournament_key,name:a.tournament_name},null,8,["tournamentKey","name"])],8,_t),t("ul",null,[t("li",null,[ct,n(m,{date:a.tournament_date,spacing:!1},null,8,["date"])]),t("li",null,[mt,$(" "+y(a.name),1)]),t("li",null,[rt,n(h,{names:a.player_list},null,8,["names"])]),t("li",null,[dt,n(r,{rank:a.result},null,8,["rank"])])]),(o(!0),_(w,null,C(i.detail.matches.filter(l=>l.tnmt_key===a.tournament_key),(l,k)=>(o(),_("div",{class:F(["tc",c(d)(k)]),key:`${l.bracket}_${l.round}`},[t("div",pt,[$(y(l.bracket)+" ",1),ht,$(y(l.round),1)]),t("div",yt,[n(u,{win:l.wl},null,8,["win"])]),t("div",ft,y(l.score_text),1),t("div",kt,[n(f,{name:l.opponent_team_name,currentName:l.opponent_team_current_name},null,8,["name","currentName"])]),t("div",$t,[n(r,{rank:l.opponent_team_rank},null,8,["rank"])]),t("div",vt,[n(h,{names:l.opponents_list},null,8,["names"])])],2))),128))]))),128)}}}),Ct={key:0},Dt=t("h2",null,"\u5927\u4F1A\u7D50\u679C",-1),Tt={key:1},gt=t("h2",null,"\u8A66\u5408\u7D50\u679C",-1),qt=D({__name:"detail",setup(i){const{$host:d}=T(),p=j(),s=z(null),e=()=>{$fetch(`${d()}/team/${p.query.m}.json`).then(m=>{s.value=J(m)})};return K(()=>p.query,async()=>{s.value=null,await e()}),O(p.path),e(),(m,h)=>{const r=R,u=S,f=et,a=ut,l=wt,k=B;return o(),_("div",null,[c(s)?(o(),H(k,{key:0},{default:G(()=>[n(r,{title:`${c(s).team.name}: \u6226\u7E3E`},null,8,["title"]),t("h1",null,y(c(s).team.name),1),n(u,{current:"detail",m:c(p).query.m},null,8,["m"]),n(f,{detail:c(s)},null,8,["detail"]),c(s).tournaments.length>0?(o(),_("div",Ct,[Dt,n(a,{detail:c(s)},null,8,["detail"])])):v("",!0),c(s).tournaments.length>0?(o(),_("div",Tt,[gt,n(l,{detail:c(s)},null,8,["detail"])])):v("",!0)]),_:1})):v("",!0)])}}});export{qt as default};
