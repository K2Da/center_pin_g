import{_ as R,a as L}from"./r2XhWT69.js";import{t as M,_ as V}from"./DBLhRocu.js";import{_ as O}from"./B5IFi7MH.js";import{c as q,_ as x,a as E,b,l as F}from"./DduI8hht.js";import{_ as H}from"./CjHBy5mP.js";import{g as T,x as I,y as K,H as B,o as m,c as _,d as v,t as y,D as C,a as n,b as a,i as t,F as k,r as D,n as j,E as z,G as A,m as N,k as G,l as Q,w as J,L as U}from"./v-WV_kDP.js";import{_ as W}from"./BYOly9On.js";import{_ as X}from"./DcDfpEfc.js";import{_ as P}from"./YeEekQkM.js";import{s as Y,_ as Z,c as ee}from"./DqTz4PXw.js";import{_ as te}from"./BCwr-WtB.js";import{s as ne}from"./DdAE7WWJ.js";import"./j6JVBN0Z.js";const se={key:0},ae=n("span",{class:"muted"},"大会登録チーム名: ",-1),oe=n("span",{class:"muted"},"活動期間: ",-1),le=n("span",{class:"muted"},"メンバー(出場回数): ",-1),ie={class:"muted"},me=T({__name:"Info",props:{detail:{}},setup(p){const{detail:l}=p,o=I(),{tournaments:s}=K(o),h=B(()=>{if(l)return q(l.matches.map(e=>({key:e.tnmt_key,wl:e.wl===!0})),l.tournaments.map(e=>({key:e.tournament_key,result:e.result})),s.value)}),u=(e,c)=>e.slice().sort((r,d)=>c[d].count-c[r].count);return(e,c)=>{var $,i,g;const r=O,d=x,f=H;return m(),_("ul",null,[((i=($=e.detail.info)==null?void 0:$.aliases)==null?void 0:i.length)>0?(m(),_("li",se,[ae,v(" "+y((g=e.detail.info)==null?void 0:g.aliases.join(", ")),1)])):C("",!0),n("li",null,[oe,a(r,{date1:e.detail.team.first_tournament_date,date2:e.detail.team.latest_tournament_date},null,8,["date1","date2"])]),a(d,{resultsSum:t(h)},null,8,["resultsSum"]),n("li",null,[le,(m(!0),_(k,null,D(u(e.detail.players,e.detail.playerStats),(w,S)=>(m(),_("span",{key:w},[S!==0?(m(),_(k,{key:0},[v(", ")],64)):C("",!0),a(f,{name:w},null,8,["name"]),n("span",ie,"("+y(e.detail.playerStats[w].count)+")",1)]))),128))])])}}}),re={class:"ti",style:{width:"8em"}},_e=n("span",{class:"muted"},"r: ",-1),ce={class:"ti tac",style:{width:"2em"}},ue={class:"ti tac",style:{width:"4em"}},de={class:"ti",style:{width:"24em"}},pe={class:"ti",style:{width:"4em"}},he={class:"ti",style:{width:"48em"}},fe=T({__name:"Matches",props:{detail:{},tournament:{},index:{},show:{type:Boolean}},setup(p){const{detail:l,tournament:o,index:s,show:h}=p,u=l.matches.filter(e=>e.tnmt_key===o.tournament_key);return(e,c)=>{const r=E,d=Z,f=R,$=P;return m(!0),_(k,null,D(t(u),(i,g)=>j((m(),_("div",{class:A(["stc",("subContainerClass"in e?e.subContainerClass:t(Y))(g,e.index,t(u).length)]),key:`${i.bracket}_${i.round}`,style:{"margin-left":"0.5em",width:"calc(100% - 0.5em)"}},[n("div",re,[v(y(i.bracket)+" ",1),_e,v(y(i.round),1)]),n("div",ce,[a(r,{win:i.wl},null,8,["win"])]),n("div",ue,y(i.score_text),1),n("div",de,[a(d,{name:i.opponent_team_name,currentName:i.opponent_team_current_name},null,8,["name","currentName"])]),n("div",pe,[a(f,{rank:i.opponent_team_rank},null,8,["rank"])]),n("div",he,[a($,{names:i.opponents_list},null,8,["names"])])],2)),[[z,e.show]])),128)}}}),ye={class:"ti",style:{width:"2em","padding-left":"0.5em"}},$e={class:"ti tal",style:{width:"7em"}},ge={class:"ti tar",style:{width:"3em","padding-right":"4px"}},ke={class:"ti",style:{width:"32em"}},we={class:"ti",style:{width:"24em"}},ve={class:"ti",style:{width:"36em"}},Te=T({__name:"Tournament",props:{detail:{},tournament:{},i:{},openAll:{type:Boolean}},setup(p){const l=p,{detail:o,tournament:s,i:h}=l,u=N(!1),e=r=>{u.value=r},c=B(()=>u.value||l.openAll);return(r,d)=>{const f=b,$=W,i=R,g=X,w=P,S=fe;return m(),_(k,null,[n("div",ye,[a(f,{id:`tournaments-toggle-${t(h)}`,value:!1,onToggle:e},null,8,["id"])]),n("div",$e,[a($,{date:t(s).tournament_date,spacing:!0},null,8,["date"])]),n("div",ge,[a(i,{rank:t(s).result},null,8,["rank"])]),n("div",ke,[a(g,{name:t(s).tournament_name,tournamentKey:t(s).tournament_key},null,8,["name","tournamentKey"])]),n("div",we,y(t(s).name),1),n("div",ve,[a(w,{names:t(s).player_list},null,8,["names"])]),a(S,{detail:t(o),tournament:t(s),index:t(h),show:t(c)},null,8,["detail","tournament","index","show"])],64)}}}),Ce={style:{padding:"0 0 0.2em 0.5em"}},Se=n("span",null,"All",-1),De=T({__name:"Tournaments",props:{detail:{}},setup(p){const l=N(!1),o=s=>{l.value=s};return(s,h)=>{const u=b,e=Te;return m(),_(k,null,[n("div",Ce,[a(u,{id:"tournaments-all-toggle",value:!1,onToggle:o}),v(),Se]),(m(!0),_(k,null,D(s.detail.tournaments,(c,r)=>(m(),_("div",{class:A(["tc",("containerClass"in s?s.containerClass:t(ee))(r)]),key:c.tournament_key},[a(e,{tournament:c,detail:s.detail,i:r,openAll:t(l)},null,8,["tournament","detail","i","openAll"])],2))),128))],64)}}}),Ne={key:0},Re=n("h2",null,"大会結果",-1),Ie=T({__name:"detail",setup(p){const l=G(),o=N(null),s=async()=>{o.value=null,o.value=M(await U(l.query.m))};return ne(l.path),s(),F(s),(h,u)=>{const e=L,c=V,r=me,d=De,f=te;return m(),_("div",null,[t(o)?(m(),Q(f,{key:0},{default:J(()=>[a(e,{title:`${t(o).team.name}: 戦績`},null,8,["title"]),n("h1",null,y(t(o).team.name),1),a(c,{current:"detail",m:t(l).query.m},null,8,["m"]),a(r,{detail:t(o)},null,8,["detail"]),t(o).tournaments.length>0?(m(),_("div",Ne,[Re,a(d,{detail:t(o)},null,8,["detail"])])):C("",!0)]),_:1})):C("",!0)])}}});export{Ie as default};
