import{_ as S,a as b,b as E}from"./client-only.1dc37e90.js";import{t as M,_ as P}from"./team.a413234a.js";import{_ as V}from"./DateSpan.vue_vue_type_script_setup_true_lang.c12f98f9.js";import{c as L,_ as O,a as q,b as A,l as j}from"./qeuryWatcher.e50b496d.js";import{_ as z}from"./Name.vue_vue_type_script_setup_true_lang.dd0d9fe9.js";import{a as T,e as I,s as H,A as N,o as m,f as r,i as v,t as h,q as x,h as e,v as s,u as t,F as g,w as D,x as Q,y as G,z as F,r as B,O as J,b as K,c as U,B as W,N as X}from"./entry.3a775051.js";import{_ as Y}from"./DateTime.vue_vue_type_script_setup_true_lang.f46abd33.js";import{_ as R}from"./PlayersLine.vue_vue_type_script_setup_true_lang.6a30bd4d.js";import{s as Z,_ as tt,c as et}from"./Name.vue_vue_type_script_setup_true_lang.2acfae67.js";import{s as nt}from"./ga.f67a14fd.js";import"./composables.fcbaa4b9.js";const st={key:0},at=e("span",{class:"muted"},"\u5927\u4F1A\u767B\u9332\u30C1\u30FC\u30E0\u540D: ",-1),ot=e("span",{class:"muted"},"\u6D3B\u52D5\u671F\u9593: ",-1),lt=e("span",{class:"muted"},"\u30E1\u30F3\u30D0\u30FC(\u51FA\u5834\u56DE\u6570): ",-1),it={class:"muted"},ut=T({__name:"Info",props:{detail:null},setup(n){const{detail:u}=n,l=I(),{tournaments:a}=H(l),f=N(()=>{if(u)return L(u.matches.map(o=>({key:o.tnmt_key,wl:o.wl===!0})),u.tournaments.map(o=>({key:o.tournament_key,result:o.result})),a.value)}),p=(o,d)=>o.slice().sort((i,_)=>d[_].count-d[i].count);return(o,d)=>{var $,c,k;const i=V,_=O,y=z;return m(),r("ul",null,[((c=($=n.detail.info)==null?void 0:$.aliases)==null?void 0:c.length)>0?(m(),r("li",st,[at,v(" "+h((k=n.detail.info)==null?void 0:k.aliases.join(", ")),1)])):x("",!0),e("li",null,[ot,s(i,{date1:n.detail.team.first_tournament_date,date2:n.detail.team.latest_tournament_date},null,8,["date1","date2"])]),s(_,{resultsSum:t(f)},null,8,["resultsSum"]),e("li",null,[lt,(m(!0),r(g,null,D(p(n.detail.players,n.detail.playerStats),(w,C)=>(m(),r("span",{key:w},[C!==0?(m(),r(g,{key:0},[v(", ")],64)):x("",!0),s(y,{name:w},null,8,["name"]),e("span",it,"("+h(n.detail.playerStats[w].count)+")",1)]))),128))])])}}}),ct={class:"ti",style:{width:"8em"}},mt=e("span",{class:"muted"},"r: ",-1),rt={class:"ti tac",style:{width:"2em"}},_t={class:"ti tac",style:{width:"4em"}},dt={class:"ti",style:{width:"24em"}},pt={class:"ti",style:{width:"4em"}},ht={class:"ti",style:{width:"48em"}},ft=T({__name:"Matches",props:{detail:null,tournament:null,index:null,show:{type:Boolean}},setup(n){const{detail:u,tournament:l,index:a,show:f}=n,p=u.matches.filter(o=>o.tnmt_key===l.tournament_key);return(o,d)=>{const i=q,_=tt,y=S,$=R;return m(!0),r(g,null,D(t(p),(c,k)=>Q((m(),r("div",{class:F(["stc",t(Z)(k,n.index,t(p).length)]),key:`${c.bracket}_${c.round}`,style:{"margin-left":"0.5em",width:"calc(100% - 0.5em)"}},[e("div",ct,[v(h(c.bracket)+" ",1),mt,v(h(c.round),1)]),e("div",rt,[s(i,{win:c.wl},null,8,["win"])]),e("div",_t,h(c.score_text),1),e("div",dt,[s(_,{name:c.opponent_team_name,currentName:c.opponent_team_current_name},null,8,["name","currentName"])]),e("div",pt,[s(y,{rank:c.opponent_team_rank},null,8,["rank"])]),e("div",ht,[s($,{names:c.opponents_list},null,8,["names"])])],2)),[[G,n.show]])),128)}}}),yt={class:"ti",style:{width:"2em","padding-left":"0.5em"}},$t={class:"ti tal",style:{width:"7em"}},kt={class:"ti tar",style:{width:"3em","padding-right":"4px"}},gt={class:"ti",style:{width:"32em"}},wt=["href"],vt={class:"ti",style:{width:"24em"}},Tt={class:"ti",style:{width:"36em"}},Ct=T({__name:"Tournament",props:{detail:null,tournament:null,i:null,openAll:{type:Boolean}},setup(n){const u=n,{detail:l,tournament:a,i:f}=u,p=B(!1),o=i=>{p.value=i},d=N(()=>p.value||u.openAll);return(i,_)=>{const y=A,$=Y,c=S,k=R,w=ft;return m(),r(g,null,[e("div",yt,[s(y,{id:`tournaments-toggle-${t(f)}`,onToggle:o},null,8,["id"])]),e("div",$t,[s($,{date:t(a).tournament_date,spacing:!0},null,8,["date"])]),e("div",kt,[s(c,{rank:t(a).result},null,8,["rank"])]),e("div",gt,[e("a",{href:`#${t(a).tournament_key}`,onClick:[_[0]||(_[0]=J((...C)=>i.linkClick&&i.linkClick(...C),["prevent","stop"])),_[1]||(_[1]=C=>i.linkTo(t(a).tournament_key))]},h(t(a).tournament_name),9,wt)]),e("div",vt,h(t(a).name),1),e("div",Tt,[s(k,{names:t(a).player_list},null,8,["names"])]),s(w,{detail:t(l),tournament:t(a),index:t(f),show:t(d)},null,8,["detail","tournament","index","show"])],64)}}}),xt={style:{padding:"0 0 0.2em 0.5em"}},Dt=e("span",null,"All",-1),Bt=T({__name:"Tournaments",props:{detail:null},setup(n){const u=B(!1),l=a=>{u.value=a};return(a,f)=>{const p=A,o=Ct;return m(),r(g,null,[e("div",xt,[s(p,{id:"tournaments-all-toggle",onToggle:l}),v(),Dt]),(m(!0),r(g,null,D(n.detail.tournaments,(d,i)=>(m(),r("div",{class:F(["tc",t(et)(i)]),key:d.tournament_key},[s(o,{tournament:d,detail:n.detail,i,openAll:t(u)},null,8,["tournament","detail","i","openAll"])],2))),128))],64)}}}),St={key:0},At=e("h2",null,"\u5927\u4F1A\u7D50\u679C",-1),jt=T({__name:"detail",setup(n){const u=K(),l=B(null),a=async()=>{l.value=null,l.value=M(await $fetch(`${X()}/team/${u.query.m}.json`))};return nt(u.path),a(),j(a),(f,p)=>{const o=E,d=P,i=ut,_=Bt,y=b;return m(),r("div",null,[t(l)?(m(),U(y,{key:0},{default:W(()=>[s(o,{title:`${t(l).team.name}: \u6226\u7E3E`},null,8,["title"]),e("h1",null,h(t(l).team.name),1),s(d,{current:"detail",m:t(u).query.m},null,8,["m"]),s(i,{detail:t(l)},null,8,["detail"]),t(l).tournaments.length>0?(m(),r("div",St,[At,s(_,{detail:t(l)},null,8,["detail"])])):x("",!0)]),_:1})):x("",!0)])}}});export{jt as default};
