import{_ as F}from"./PageHead.vue_vue_type_script_setup_true_lang.87be36da.js";import{_ as B}from"./TeamNaviLink.vue_vue_type_script_setup_true_lang.811e29ba.js";import{_ as D}from"./PlayerName.vue_vue_type_script_setup_true_lang.844e2bea.js";import{_ as A}from"./TeamName.vue_vue_type_script_setup_true_lang.806cde21.js";import{_ as V}from"./TournamentName.vue_vue_type_script_setup_true_lang.95053e47.js";import{_ as q}from"./DateTime.vue_vue_type_script_setup_true_lang.2a75c6de.js";import{a as T,z as $,K as C,o as a,e as o,f as s,N as E,u as i,F as p,r as k,t as N,q as h,c as w,p as y,h as x,v as M,b as O,y as K,A as P,s as S,B as z,O as L,C as j}from"./entry.a2997cac.js";const H=s("h2",null,"\u51FA\u5834\u30E1\u30F3\u30D0\u30FC",-1),R={style:{"overflow-y":"scroll"}},G=s("th",{style:{width:"12em"}},null,-1),I=s("th",{class:"tal",style:{width:"12em"}},"\u524D\u30C1\u30FC\u30E0",-1),J=s("th",{class:"tal nw",style:{width:"12em"}},"\u6700\u65B0\u30C1\u30FC\u30E0",-1),Q={class:"tal"},U={class:"tal"},W=["src"],X={class:"tal"},Y={key:0},Z=x(" \xA0 "),ee=T({__name:"TeamDetailMember",props:{detail:null},setup(f){const{detail:d}=f,r=$(()=>d.tournaments.slice().reverse()),m=$(()=>{var _;const l={};if(C.value)for(const n of d.players)l[n]=((_=C.value.filter(t=>t.name===n)[0])==null?void 0:_.latest.team_current)||"",l[n]===d.team.name&&(l[n]="");return l}),g=$(()=>{const l={};for(const n of d.players){l[n]=[];for(const[t,c]of r.value.entries())c.player_list.indexOf(n)!==-1&&l[n].push(t)}const _={};for(const n of d.players){_[n]=[];for(let t=0;t<r.value.length;t++){const c=l[n];let e="";const u=Math.min(...c),v=Math.max(...c),b=t===r.value.length-1;c.includes(t)?c.length===1?e=b?"one":"spot":u===t?e="start":v===t?e=b?"current":"end":e="on":u<t&&t<v&&(e="off"),_[n].push(e)}}return _});return(l,_)=>{const n=D,t=A,c=V;return a(),o(p,null,[H,s("div",R,[s("table",{style:E({width:`${12+12+3*i(r).length+12+2}em`})},[s("thead",null,[s("tr",null,[G,I,(a(!0),o(p,null,k(i(r),(e,u)=>(a(),o("th",{class:"tac",style:{width:"3em","padding-left":"0","padding-right":"0","margin-left":"0","margin-right":"0"},key:u},N(u+1),1))),128)),J])]),s("tbody",null,[(a(!0),o(p,null,k(f.detail.players,e=>(a(),o("tr",{key:e},[s("td",Q,[h(n,{name:e,page:"member"},null,8,["name"])]),s("td",U,[f.detail.previous_teams[e]?(a(),w(t,{key:0,name:f.detail.previous_teams[e],currentName:f.detail.previous_teams[e],page:"member"},null,8,["name","currentName"])):y("",!0)]),(a(!0),o(p,null,k(i(g)[e],(u,v)=>(a(),o("td",{key:v,class:"tight"},[u!==""?(a(),o("img",{key:0,src:`/parts/${u}.svg`,style:{width:"3em",height:"2em"}},null,8,W)):y("",!0)]))),128)),s("td",X,[i(m)[e]?(a(),o("span",Y,[i(m)[e]?(a(),w(t,{key:0,name:i(m)[e],currentName:i(m)[e],page:"member"},null,8,["name","currentName"])):y("",!0)])):y("",!0)])]))),128))])],4),s("ul",null,[(a(!0),o(p,null,k(i(r),(e,u)=>(a(),o("li",{key:u},[x(N(u+1)+". ",1),h(q,{date:e.tournament_date,spacing:!0},null,8,["date"]),Z,h(c,{name:e.tournament_name,tournamentKey:e.tournament_key},null,8,["name","tournamentKey"]),x(" \xA0 ("+N(e.result)+"\u4F4D) ",1)]))),128))])])],64)}}}),me=T({__name:"member",setup(f){const{$host:d}=M(),r=O(),m=K(null),g=()=>{$fetch(`${d()}/team/${r.query.m}.json`).then(l=>{m.value=L(l)})};return P(()=>r.query,async()=>{m.value=null,await g()}),S(r.path),g(),(l,_)=>{const n=F,t=B,c=ee,e=j;return a(),o("div",null,[m.value?(a(),w(e,{key:0},{default:z(()=>[h(n,{title:m.value.team.name},null,8,["title"]),s("h1",null,N(m.value.team.name),1),h(t,{current:"member",m:i(r).query.m},null,8,["m"]),h(c,{detail:m.value},null,8,["detail"])]),_:1})):y("",!0)])}}});export{me as default};
