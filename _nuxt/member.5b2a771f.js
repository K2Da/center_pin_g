import{_ as F}from"./PageHead.vue_vue_type_script_setup_true_lang.aa7f0dd6.js";import{_ as B}from"./TeamNaviLink.vue_vue_type_script_setup_true_lang.e9dab56f.js";import{_ as D}from"./PlayerName.vue_vue_type_script_setup_true_lang.654dee42.js";import{_ as V}from"./TeamName.vue_vue_type_script_setup_true_lang.d3368347.js";import{_ as q}from"./TournamentName.vue_vue_type_script_setup_true_lang.790c78f5.js";import{_ as A}from"./DateTime.vue_vue_type_script_setup_true_lang.be600193.js";import{a as b,z as w,K as C,o as a,e as o,f as s,R as E,u as i,F as p,r as k,t as N,q as h,c as $,p as y,h as T,v as M,b as K,y as O,A as P,s as S,B as z,N as L,C as R}from"./entry.b80b6c23.js";const j=s("h2",null,"\u51FA\u5834\u30E1\u30F3\u30D0\u30FC",-1),H={style:{"overflow-y":"scroll"}},G=s("th",{style:{width:"12em"}},null,-1),I=s("th",{class:"tal",style:{width:"12em"}},"\u524D\u30C1\u30FC\u30E0",-1),J=s("th",{class:"tal nw",style:{width:"12em"}},"\u6700\u65B0\u30C1\u30FC\u30E0",-1),Q={class:"tal"},U={class:"tal nw"},W=["src"],X={class:"tal nw"},Y={key:0},Z=T(" \xA0 "),ee=b({__name:"TeamDetailMember",props:{detail:null},setup(f){const{detail:d}=f,r=w(()=>d.tournaments.slice().reverse()),m=w(()=>{var _;const l={};if(C.value)for(const n of d.players)l[n]=((_=C.value.filter(t=>t.name===n)[0])==null?void 0:_.latest.team_current)||"",l[n]===d.team.name&&(l[n]="");return l}),g=w(()=>{const l={};for(const n of d.players){l[n]=[];for(const[t,c]of r.value.entries())c.player_list.indexOf(n)!==-1&&l[n].push(t)}const _={};for(const n of d.players){_[n]=[];for(let t=0;t<r.value.length;t++){const c=l[n];let e="";const u=Math.min(...c),v=Math.max(...c),x=t===r.value.length-1;c.includes(t)?c.length===1?e=x?"one":"spot":u===t?e="start":v===t?e=x?"current":"end":e="on":u<t&&t<v&&(e="off"),_[n].push(e)}}return _});return(l,_)=>{const n=D,t=V,c=q;return a(),o(p,null,[j,s("div",H,[s("table",{style:E({width:`${12+12+3*i(r).length+12+2}em`})},[s("thead",null,[s("tr",null,[G,I,(a(!0),o(p,null,k(i(r),(e,u)=>(a(),o("th",{class:"tac",style:{width:"3em","padding-left":"0","padding-right":"0","margin-left":"0","margin-right":"0"},key:u},N(u+1),1))),128)),J])]),s("tbody",null,[(a(!0),o(p,null,k(f.detail.players,e=>(a(),o("tr",{key:e},[s("td",Q,[h(n,{name:e},null,8,["name"])]),s("td",U,[f.detail.previous_teams[e]?(a(),$(t,{key:0,name:f.detail.previous_teams[e],currentName:f.detail.previous_teams[e],page:"member"},null,8,["name","currentName"])):y("",!0)]),(a(!0),o(p,null,k(i(g)[e],(u,v)=>(a(),o("td",{key:v,class:"tight"},[u!==""?(a(),o("img",{key:0,src:`/parts/${u}.svg`,style:{width:"3em",height:"2em"}},null,8,W)):y("",!0)]))),128)),s("td",X,[i(m)[e]?(a(),o("span",Y,[i(m)[e]?(a(),$(t,{key:0,name:i(m)[e],currentName:i(m)[e],page:"member"},null,8,["name","currentName"])):y("",!0)])):y("",!0)])]))),128))])],4),s("ul",null,[(a(!0),o(p,null,k(i(r),(e,u)=>(a(),o("li",{key:u},[T(N(u+1)+". ",1),h(A,{date:e.tournament_date,spacing:!0},null,8,["date"]),Z,h(c,{name:e.tournament_name,tournamentKey:e.tournament_key},null,8,["name","tournamentKey"])]))),128))])])],64)}}}),me=b({__name:"member",setup(f){const{$host:d}=M(),r=K(),m=O(null),g=()=>{$fetch(`${d()}/team/${r.query.m}.json`).then(l=>{m.value=L(l)})};return P(()=>r.query,async()=>{m.value=null,await g()}),S(r.path),g(),(l,_)=>{const n=F,t=B,c=ee,e=R;return a(),o("div",null,[m.value?(a(),$(e,{key:0},{default:z(()=>[h(n,{title:m.value.team.name},null,8,["title"]),s("h1",null,N(m.value.team.name),1),h(t,{current:"member",m:i(r).query.m},null,8,["m"]),h(c,{detail:m.value},null,8,["detail"])]),_:1})):y("",!0)])}}});export{me as default};
