import{S as pe,i as ge,s as be,e as b,t as F,c as v,a as k,h as U,d as m,g as M,K as i,j as te,l as ne,b as z,k as S,w as W,m as P,x as X,y as Z,q as y,o as O,B as x,P as me,n as re,p as ae,R as de,E as ke,f as ue}from"../../../chunks/index-15dce5f7.js";import{a as ut}from"../../../chunks/navigation-13fd7038.js";import{w as st,d as He}from"../../../chunks/index-0695a55f.js";import{k as ot,m as it,h as mt,i as je}from"../../../chunks/global-58d77b15.js";import{H as _t}from"../../../chunks/Header-5840f848.js";import{T as ct,P as ye}from"../../../chunks/PageTab-c423608e.js";import{D as De,T as ce,P as ht}from"../../../chunks/PopUpA-48cdbe0a.js";import{S as $t}from"../../../chunks/Span-b0df71fe.js";import{T as we,a as Ee}from"../../../chunks/TeamName-7f392c74.js";import{P as ve}from"../../../chunks/PlayersLine-3dc6171f.js";import{M as ft}from"../../../chunks/MatchResult-fc4c9239.js";import{T as dt}from"../../../chunks/TournamentName-2b882573.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/PlayerName-9ef9c90a.js";import"../../../chunks/Twitch-55dc744f.js";const Re=st(""),he=st(null);function pt(u){for(const e of u.matches)e.wl=e.opponent_team_key===e.loser_key,e.score_text=e.wl?`${e.winner_score} - ${e.loser_score}`:`${e.loser_score} - ${e.winner_score}`;he.set(u)}function Oe(u){let e,n,t,l=[...new Set(u[0].tournaments.map(Me))].join(", ")+"",a;return{c(){e=b("dt"),n=F("\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),t=b("dd"),a=F(l)},l(s){e=v(s,"DT",{});var o=k(e);n=U(o,"\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),o.forEach(m),t=v(s,"DD",{});var r=k(t);a=U(r,l),r.forEach(m)},m(s,o){M(s,e,o),i(e,n),M(s,t,o),i(t,a)},p(s,o){o&1&&l!==(l=[...new Set(s[0].tournaments.map(Me))].join(", ")+"")&&te(a,l)},d(s){s&&m(e),s&&m(t)}}}function Ae(u){let e,n,t,l=u[0].data.twitter&&Le(u),a=u[0].data.youtube&&Se(u),s=u[0].data.twitch&&Pe(u);return{c(){l&&l.c(),e=ne(),a&&a.c(),n=ne(),s&&s.c(),t=ne()},l(o){l&&l.l(o),e=ne(),a&&a.l(o),n=ne(),s&&s.l(o),t=ne()},m(o,r){l&&l.m(o,r),M(o,e,r),a&&a.m(o,r),M(o,n,r),s&&s.m(o,r),M(o,t,r)},p(o,r){o[0].data.twitter?l?l.p(o,r):(l=Le(o),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o[0].data.youtube?a?a.p(o,r):(a=Se(o),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),o[0].data.twitch?s?s.p(o,r):(s=Pe(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){l&&l.d(o),o&&m(e),a&&a.d(o),o&&m(n),s&&s.d(o),o&&m(t)}}}function Le(u){let e,n,t,l,a,s=u[0].data.twitter+"",o,r;return{c(){e=b("dt"),n=b("i"),t=F(" twitter"),l=b("dd"),a=b("a"),o=F(s),this.h()},l(f){e=v(f,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," twitter"),_.forEach(m),l=v(f,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var T=k(a);o=U(T,s),T.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitter"),z(a,"href",r="https://twitter.com/"+u[0].data.twitter)},m(f,_){M(f,e,_),i(e,n),i(e,t),M(f,l,_),i(l,a),i(a,o)},p(f,_){_&1&&s!==(s=f[0].data.twitter+"")&&te(o,s),_&1&&r!==(r="https://twitter.com/"+f[0].data.twitter)&&z(a,"href",r)},d(f){f&&m(e),f&&m(l)}}}function Se(u){let e,n,t,l,a,s=u[0].data.youtube[1]+"",o,r;return{c(){e=b("dt"),n=b("i"),t=F(" youtube"),l=b("dd"),a=b("a"),o=F(s),this.h()},l(f){e=v(f,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," youtube"),_.forEach(m),l=v(f,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var T=k(a);o=U(T,s),T.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-youtube"),z(a,"href",r="https://www.youtube.com/channel/"+u[0].data.youtube[0])},m(f,_){M(f,e,_),i(e,n),i(e,t),M(f,l,_),i(l,a),i(a,o)},p(f,_){_&1&&s!==(s=f[0].data.youtube[1]+"")&&te(o,s),_&1&&r!==(r="https://www.youtube.com/channel/"+f[0].data.youtube[0])&&z(a,"href",r)},d(f){f&&m(e),f&&m(l)}}}function Pe(u){let e,n,t,l,a,s=u[0].data.twitch+"",o,r;return{c(){e=b("dt"),n=b("i"),t=F(" twitch"),l=b("dd"),a=b("a"),o=F(s),this.h()},l(f){e=v(f,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," twitch"),_.forEach(m),l=v(f,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var T=k(a);o=U(T,s),T.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitch"),z(a,"href",r="https://www.twitch.tv/"+u[0].data.twitch)},m(f,_){M(f,e,_),i(e,n),i(e,t),M(f,l,_),i(l,a),i(a,o)},p(f,_){_&1&&s!==(s=f[0].data.twitch+"")&&te(o,s),_&1&&r!==(r="https://www.twitch.tv/"+f[0].data.twitch)&&z(a,"href",r)},d(f){f&&m(e),f&&m(l)}}}function gt(u){var h;let e,n,t,l,a,s,o,r,f,_,g,T,A=((h=u[0].player.rating)!=null?h:0).toLocaleString()+"",j,Y,d=u[0].data&&Oe(u);r=new ct({props:{stats:{...u[0].player,tournament_count:u[0].player.entries}}});let w=u[0].data&&Ae(u);return{c(){e=b("h2"),n=F("\u57FA\u672C\u60C5\u5831"),t=S(),l=b("dl"),d&&d.c(),a=b("dt"),s=F("\u6226\u7E3E"),o=b("dd"),W(r.$$.fragment),f=S(),_=b("dt"),g=F("\u30EC\u30FC\u30C8"),T=b("dd"),j=F(A),w&&w.c()},l(p){e=v(p,"H2",{});var $=k(e);n=U($,"\u57FA\u672C\u60C5\u5831"),$.forEach(m),t=P(p),l=v(p,"DL",{});var c=k(l);d&&d.l(c),a=v(c,"DT",{});var E=k(a);s=U(E,"\u6226\u7E3E"),E.forEach(m),o=v(c,"DD",{});var q=k(o);X(r.$$.fragment,q),f=P(q),q.forEach(m),_=v(c,"DT",{});var C=k(_);g=U(C,"\u30EC\u30FC\u30C8"),C.forEach(m),T=v(c,"DD",{});var B=k(T);j=U(B,A),B.forEach(m),w&&w.l(c),c.forEach(m)},m(p,$){M(p,e,$),i(e,n),M(p,t,$),M(p,l,$),d&&d.m(l,null),i(l,a),i(a,s),i(l,o),Z(r,o,null),i(o,f),i(l,_),i(_,g),i(l,T),i(T,j),w&&w.m(l,null),Y=!0},p(p,[$]){var E;p[0].data?d?d.p(p,$):(d=Oe(p),d.c(),d.m(l,a)):d&&(d.d(1),d=null);const c={};$&1&&(c.stats={...p[0].player,tournament_count:p[0].player.entries}),r.$set(c),(!Y||$&1)&&A!==(A=((E=p[0].player.rating)!=null?E:0).toLocaleString()+"")&&te(j,A),p[0].data?w?w.p(p,$):(w=Ae(p),w.c(),w.m(l,null)):w&&(w.d(1),w=null)},i(p){Y||(y(r.$$.fragment,p),Y=!0)},o(p){O(r.$$.fragment,p),Y=!1},d(p){p&&m(e),p&&m(t),p&&m(l),d&&d.d(),x(r),w&&w.d()}}}const Me=u=>u.member_name;function bt(u,e,n){let t;return me(u,he,l=>n(0,t=l)),[t]}class vt extends pe{constructor(e){super(),ge(this,e,bt,gt,be,{})}}const kt=He(he,u=>{if(u==null)return[];const e={};for(const n of u.tournaments){const t=n.team_current_name;e[t]===void 0?e[t]={name:t,tournament_count:1,last_match_at:n.tournament_date,first_match_at:n.tournament_date}:(e[t].tournament_count+=1,e[t].last_match_at=Math.max(n.tournament_date,e[t].last_match_at),e[t].first_match_at=Math.min(n.tournament_date,e[t].first_match_at))}return Object.values(e).sort(n=>-n.last_match_at)});function Ye(u,e,n){const t=u.slice();return t[1]=e[n],t}function wt(u){let e,n;return e=new $t({props:{date1:u[1].first_match_at,date2:u[1].last_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.date1=t[1].first_match_at),l&1&&(a.date2=t[1].last_match_at),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Et(u){let e,n;return e=new De({props:{date:u[1].first_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.date=t[1].first_match_at),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function qe(u){let e,n,t,l=u[1].tournament_count+"",a,s,o,r,f,_,g,T;n=new we({props:{name:u[1].name,current_name:u[1].name}});const A=[Et,wt],j=[];function Y(d,w){return d[1].first_match_at===d[1].last_match_at?0:1}return f=Y(u),_=j[f]=A[f](u),{c(){e=b("dt"),W(n.$$.fragment),t=b("dd"),a=F(l),s=F("\u56DE\u51FA\u5834"),o=b("br"),r=S(),_.c(),g=S(),this.h()},l(d){e=v(d,"DT",{class:!0});var w=k(e);X(n.$$.fragment,w),w.forEach(m),t=v(d,"DD",{});var h=k(t);a=U(h,l),s=U(h,"\u56DE\u51FA\u5834"),o=v(h,"BR",{}),r=P(h),_.l(h),g=P(h),h.forEach(m),this.h()},h(){z(e,"class","tal nw")},m(d,w){M(d,e,w),Z(n,e,null),M(d,t,w),i(t,a),i(t,s),i(t,o),i(t,r),j[f].m(t,null),i(t,g),T=!0},p(d,w){const h={};w&1&&(h.name=d[1].name),w&1&&(h.current_name=d[1].name),n.$set(h),(!T||w&1)&&l!==(l=d[1].tournament_count+"")&&te(a,l);let p=f;f=Y(d),f===p?j[f].p(d,w):(re(),O(j[p],1,1,()=>{j[p]=null}),ae(),_=j[f],_?_.p(d,w):(_=j[f]=A[f](d),_.c()),y(_,1),_.m(t,g))},i(d){T||(y(n.$$.fragment,d),y(_),T=!0)},o(d){O(n.$$.fragment,d),O(_),T=!1},d(d){d&&m(e),x(n),d&&m(t),j[f].d()}}}function Tt(u){let e,n,t,l,a,s=u[0],o=[];for(let f=0;f<s.length;f+=1)o[f]=qe(Ye(u,s,f));const r=f=>O(o[f],1,1,()=>{o[f]=null});return{c(){e=b("h2"),n=F("\u30C1\u30FC\u30E0\u5C65\u6B74"),t=S(),l=b("dl");for(let f=0;f<o.length;f+=1)o[f].c()},l(f){e=v(f,"H2",{});var _=k(e);n=U(_,"\u30C1\u30FC\u30E0\u5C65\u6B74"),_.forEach(m),t=P(f),l=v(f,"DL",{});var g=k(l);for(let T=0;T<o.length;T+=1)o[T].l(g);g.forEach(m)},m(f,_){M(f,e,_),i(e,n),M(f,t,_),M(f,l,_);for(let g=0;g<o.length;g+=1)o[g].m(l,null);a=!0},p(f,[_]){if(_&1){s=f[0];let g;for(g=0;g<s.length;g+=1){const T=Ye(f,s,g);o[g]?(o[g].p(T,_),y(o[g],1)):(o[g]=qe(T),o[g].c(),y(o[g],1),o[g].m(l,null))}for(re(),g=s.length;g<o.length;g+=1)r(g);ae()}},i(f){if(!a){for(let _=0;_<s.length;_+=1)y(o[_]);a=!0}},o(f){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)O(o[_]);a=!1},d(f){f&&m(e),f&&m(t),f&&m(l),de(o,f)}}}function Dt(u,e,n){let t;return me(u,kt,l=>n(0,t=l)),[t]}class yt extends pe{constructor(e){super(),ge(this,e,Dt,Tt,be,{})}}function Ie(u,e,n){const t=u.slice();return t[2]=e[n],t}function Fe(u,e,n){const t=u.slice();return t[2]=e[n],t[4]=n,t}function Ue(u){let e,n,t,l;const a=[Bt,Ht],s=[];function o(r,f){return r[1]?0:1}return e=o(u),n=s[e]=a[e](u),{c(){n.c(),t=ne()},l(r){n.l(r),t=ne()},m(r,f){s[e].m(r,f),M(r,t,f),l=!0},p(r,f){let _=e;e=o(r),e===_?s[e].p(r,f):(re(),O(s[_],1,1,()=>{s[_]=null}),ae(),n=s[e],n?n.p(r,f):(n=s[e]=a[e](r),n.c()),y(n,1),n.m(t.parentNode,t))},i(r){l||(y(n),l=!0)},o(r){O(n),l=!1},d(r){s[e].d(r),r&&m(t)}}}function Ht(u){let e,n,t,l,a,s,o,r,f,_,g,T,A,j,Y,d,w,h,p,$,c,E,q,C=u[0].tournaments,B=[];for(let H=0;H<C.length;H+=1)B[H]=Ce(Ie(u,C,H));const I=H=>O(B[H],1,1,()=>{B[H]=null});return{c(){e=b("table"),n=b("thead"),t=b("tr"),l=b("th"),a=F("\u958B\u50AC\u65E5"),s=S(),o=b("th"),r=F("\u5927\u4F1A\u540D"),f=S(),_=b("th"),g=F("\u7D50\u679C"),T=S(),A=b("th"),j=F("rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),Y=S(),d=b("th"),w=F("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),h=S(),p=b("th"),$=F("\u30E1\u30F3\u30D0\u30FC"),c=S(),E=b("tbody");for(let H=0;H<B.length;H+=1)B[H].c();this.h()},l(H){e=v(H,"TABLE",{});var R=k(e);n=v(R,"THEAD",{});var L=k(n);t=v(L,"TR",{});var G=k(t);l=v(G,"TH",{});var N=k(l);a=U(N,"\u958B\u50AC\u65E5"),N.forEach(m),s=P(G),o=v(G,"TH",{class:!0});var K=k(o);r=U(K,"\u5927\u4F1A\u540D"),K.forEach(m),f=P(G),_=v(G,"TH",{});var D=k(_);g=U(D,"\u7D50\u679C"),D.forEach(m),T=P(G),A=v(G,"TH",{colspan:!0});var V=k(A);j=U(V,"rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),V.forEach(m),Y=P(G),d=v(G,"TH",{class:!0});var ee=k(d);w=U(ee,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),ee.forEach(m),h=P(G),p=v(G,"TH",{class:!0});var J=k(p);$=U(J,"\u30E1\u30F3\u30D0\u30FC"),J.forEach(m),G.forEach(m),L.forEach(m),c=P(R),E=v(R,"TBODY",{});var Q=k(E);for(let le=0;le<B.length;le+=1)B[le].l(Q);Q.forEach(m),R.forEach(m),this.h()},h(){z(o,"class","tal"),z(A,"colspan","3"),z(d,"class","tal"),z(p,"class","tal")},m(H,R){M(H,e,R),i(e,n),i(n,t),i(t,l),i(l,a),i(t,s),i(t,o),i(o,r),i(t,f),i(t,_),i(_,g),i(t,T),i(t,A),i(A,j),i(t,Y),i(t,d),i(d,w),i(t,h),i(t,p),i(p,$),i(e,c),i(e,E);for(let L=0;L<B.length;L+=1)B[L].m(E,null);q=!0},p(H,R){if(R&1){C=H[0].tournaments;let L;for(L=0;L<C.length;L+=1){const G=Ie(H,C,L);B[L]?(B[L].p(G,R),y(B[L],1)):(B[L]=Ce(G),B[L].c(),y(B[L],1),B[L].m(E,null))}for(re(),L=C.length;L<B.length;L+=1)I(L);ae()}},i(H){if(!q){for(let R=0;R<C.length;R+=1)y(B[R]);q=!0}},o(H){B=B.filter(Boolean);for(let R=0;R<B.length;R+=1)O(B[R]);q=!1},d(H){H&&m(e),de(B,H)}}}function Bt(u){let e,n,t,l=u[0].tournaments,a=[];for(let o=0;o<l.length;o+=1)a[o]=Ke(Fe(u,l,o));const s=o=>O(a[o],1,1,()=>{a[o]=null});return{c(){e=b("table"),n=b("tbody");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=v(o,"TABLE",{});var r=k(e);n=v(r,"TBODY",{class:!0});var f=k(n);for(let _=0;_<a.length;_+=1)a[_].l(f);f.forEach(m),r.forEach(m),this.h()},h(){z(n,"class","double")},m(o,r){M(o,e,r),i(e,n);for(let f=0;f<a.length;f+=1)a[f].m(n,null);t=!0},p(o,r){if(r&1){l=o[0].tournaments;let f;for(f=0;f<l.length;f+=1){const _=Fe(o,l,f);a[f]?(a[f].p(_,r),y(a[f],1)):(a[f]=Ke(_),a[f].c(),y(a[f],1),a[f].m(n,null))}for(re(),f=l.length;f<a.length;f+=1)s(f);ae()}},i(o){if(!t){for(let r=0;r<l.length;r+=1)y(a[r]);t=!0}},o(o){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)O(a[r]);t=!1},d(o){o&&m(e),de(a,o)}}}function Ce(u){let e,n,t,l,a,s,o=u[2].tournament_name+"",r,f,_,g,T,A,j,Y=ie(u[2].rating)+"",d,w,h,p=ie(u[2].rank)+"",$,c,E,q=ie(u[2].total)+"",C,B,I,H,R,L,G=u[2].member_name+"",N,K,D,V,ee;return t=new De({props:{date:u[2].tournament_date}}),T=new Ee({props:{rank:u[2].team_result}}),H=new we({props:{name:u[2].team_name,current_name:u[2].team_current_name}}),D=new ve({props:{players:u[2].mate_list}}),{c(){e=b("tr"),n=b("td"),W(t.$$.fragment),l=S(),a=b("td"),s=b("a"),r=F(o),_=S(),g=b("td"),W(T.$$.fragment),A=S(),j=b("td"),d=F(Y),w=S(),h=b("td"),$=F(p),c=S(),E=b("td"),C=F(q),B=S(),I=b("td"),W(H.$$.fragment),R=S(),L=b("td"),N=F(G),K=F(", "),W(D.$$.fragment),V=S(),this.h()},l(J){e=v(J,"TR",{});var Q=k(e);n=v(Q,"TD",{});var le=k(n);X(t.$$.fragment,le),le.forEach(m),l=P(Q),a=v(Q,"TD",{class:!0});var se=k(a);s=v(se,"A",{href:!0});var oe=k(s);r=U(oe,o),oe.forEach(m),se.forEach(m),_=P(Q),g=v(Q,"TD",{});var fe=k(g);X(T.$$.fragment,fe),fe.forEach(m),A=P(Q),j=v(Q,"TD",{});var $e=k(j);d=U($e,Y),$e.forEach(m),w=P(Q),h=v(Q,"TD",{class:!0});var _e=k(h);$=U(_e,p),_e.forEach(m),c=P(Q),E=v(Q,"TD",{class:!0});var Be=k(E);C=U(Be,q),Be.forEach(m),B=P(Q),I=v(Q,"TD",{class:!0});var Ne=k(I);X(H.$$.fragment,Ne),Ne.forEach(m),R=P(Q),L=v(Q,"TD",{class:!0});var Te=k(L);N=U(Te,G),K=U(Te,", "),X(D.$$.fragment,Te),Te.forEach(m),V=P(Q),Q.forEach(m),this.h()},h(){z(s,"href",f="#"+u[2].tournament_key),z(a,"class","tal"),z(h,"class","tar"),z(E,"class","tar"),z(I,"class","tal"),z(L,"class","tal")},m(J,Q){M(J,e,Q),i(e,n),Z(t,n,null),i(e,l),i(e,a),i(a,s),i(s,r),i(e,_),i(e,g),Z(T,g,null),i(e,A),i(e,j),i(j,d),i(e,w),i(e,h),i(h,$),i(e,c),i(e,E),i(E,C),i(e,B),i(e,I),Z(H,I,null),i(e,R),i(e,L),i(L,N),i(L,K),Z(D,L,null),i(e,V),ee=!0},p(J,Q){const le={};Q&1&&(le.date=J[2].tournament_date),t.$set(le),(!ee||Q&1)&&o!==(o=J[2].tournament_name+"")&&te(r,o),(!ee||Q&1&&f!==(f="#"+J[2].tournament_key))&&z(s,"href",f);const se={};Q&1&&(se.rank=J[2].team_result),T.$set(se),(!ee||Q&1)&&Y!==(Y=ie(J[2].rating)+"")&&te(d,Y),(!ee||Q&1)&&p!==(p=ie(J[2].rank)+"")&&te($,p),(!ee||Q&1)&&q!==(q=ie(J[2].total)+"")&&te(C,q);const oe={};Q&1&&(oe.name=J[2].team_name),Q&1&&(oe.current_name=J[2].team_current_name),H.$set(oe),(!ee||Q&1)&&G!==(G=J[2].member_name+"")&&te(N,G);const fe={};Q&1&&(fe.players=J[2].mate_list),D.$set(fe)},i(J){ee||(y(t.$$.fragment,J),y(T.$$.fragment,J),y(H.$$.fragment,J),y(D.$$.fragment,J),ee=!0)},o(J){O(t.$$.fragment,J),O(T.$$.fragment,J),O(H.$$.fragment,J),O(D.$$.fragment,J),ee=!1},d(J){J&&m(e),x(t),x(T),x(H),x(D)}}}function Nt(u){let e,n=u[4]+1+"",t;return{c(){e=F("#"),t=F(n)},l(l){e=U(l,"#"),t=U(l,n)},m(l,a){M(l,e,a),M(l,t,a)},p:ke,d(l){l&&m(e),l&&m(t)}}}function jt(u){let e=ie(u[2].rating)+"",n,t,l,a;return l=new ce({props:{$$slots:{default:[Ot]},$$scope:{ctx:u}}}),{c(){n=F(e),t=S(),W(l.$$.fragment)},l(s){n=U(s,e),t=P(s),X(l.$$.fragment,s)},m(s,o){M(s,n,o),M(s,t,o),Z(l,s,o),a=!0},p(s,o){(!a||o&1)&&e!==(e=ie(s[2].rating)+"")&&te(n,e);const r={};o&129&&(r.$$scope={dirty:o,ctx:s}),l.$set(r)},i(s){a||(y(l.$$.fragment,s),a=!0)},o(s){O(l.$$.fragment,s),a=!1},d(s){s&&m(n),s&&m(t),x(l,s)}}}function Rt(u){let e;return{c(){e=F("-")},l(n){e=U(n,"-")},m(n,t){M(n,e,t)},p:ke,i:ke,o:ke,d(n){n&&m(e)}}}function Ot(u){let e,n=ie(u[2].rank)+"",t,l,a=ie(u[2].total)+"",s,o;return{c(){e=F("("),t=F(n),l=F("\u4F4D / "),s=F(a),o=F("\u4EBA)")},l(r){e=U(r,"("),t=U(r,n),l=U(r,"\u4F4D / "),s=U(r,a),o=U(r,"\u4EBA)")},m(r,f){M(r,e,f),M(r,t,f),M(r,l,f),M(r,s,f),M(r,o,f)},p(r,f){f&1&&n!==(n=ie(r[2].rank)+"")&&te(t,n),f&1&&a!==(a=ie(r[2].total)+"")&&te(s,a)},d(r){r&&m(e),r&&m(t),r&&m(l),r&&m(s),r&&m(o)}}}function Ke(u){let e,n,t,l,a,s,o,r,f,_,g,T,A,j,Y,d,w=u[2].tournament_name+"",h,p,$,c;t=new ce({props:{$$slots:{default:[Nt]},$$scope:{ctx:u}}}),a=new De({props:{date:u[2].tournament_date,spacing:!1}}),r=new Ee({props:{rank:u[2].team_result}});const E=[Rt,jt],q=[];function C(B,I){return B[2].rating==null?0:1}return g=C(u),T=q[g]=E[g](u),{c(){e=b("tr"),n=b("td"),W(t.$$.fragment),l=S(),W(a.$$.fragment),s=S(),o=b("td"),W(r.$$.fragment),f=S(),_=b("td"),T.c(),A=S(),j=b("tr"),Y=b("td"),d=b("a"),h=F(w),$=S(),this.h()},l(B){e=v(B,"TR",{});var I=k(e);n=v(I,"TD",{class:!0});var H=k(n);X(t.$$.fragment,H),l=P(H),X(a.$$.fragment,H),H.forEach(m),s=P(I),o=v(I,"TD",{class:!0});var R=k(o);X(r.$$.fragment,R),f=P(R),R.forEach(m),_=v(I,"TD",{class:!0});var L=k(_);T.l(L),L.forEach(m),I.forEach(m),A=P(B),j=v(B,"TR",{});var G=k(j);Y=v(G,"TD",{colspan:!0,class:!0});var N=k(Y);d=v(N,"A",{href:!0});var K=k(d);h=U(K,w),K.forEach(m),N.forEach(m),$=P(G),G.forEach(m),this.h()},h(){z(n,"class","tal"),z(o,"class","nw"),z(_,"class","nw"),z(d,"href",p="#"+u[2].tournament_key),z(Y,"colspan","3"),z(Y,"class","tal")},m(B,I){M(B,e,I),i(e,n),Z(t,n,null),i(n,l),Z(a,n,null),i(e,s),i(e,o),Z(r,o,null),i(o,f),i(e,_),q[g].m(_,null),M(B,A,I),M(B,j,I),i(j,Y),i(Y,d),i(d,h),i(j,$),c=!0},p(B,I){const H={};I&128&&(H.$$scope={dirty:I,ctx:B}),t.$set(H);const R={};I&1&&(R.date=B[2].tournament_date),a.$set(R);const L={};I&1&&(L.rank=B[2].team_result),r.$set(L);let G=g;g=C(B),g===G?q[g].p(B,I):(re(),O(q[G],1,1,()=>{q[G]=null}),ae(),T=q[g],T?T.p(B,I):(T=q[g]=E[g](B),T.c()),y(T,1),T.m(_,null)),(!c||I&1)&&w!==(w=B[2].tournament_name+"")&&te(h,w),(!c||I&1&&p!==(p="#"+B[2].tournament_key))&&z(d,"href",p)},i(B){c||(y(t.$$.fragment,B),y(a.$$.fragment,B),y(r.$$.fragment,B),y(T),c=!0)},o(B){O(t.$$.fragment,B),O(a.$$.fragment,B),O(r.$$.fragment,B),O(T),c=!1},d(B){B&&m(e),x(t),x(a),x(r),q[g].d(),B&&m(A),B&&m(j)}}}function At(u){let e,n,t=u[0]&&Ue(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),M(l,e,a),n=!0},p(l,[a]){l[0]?t?(t.p(l,a),a&1&&y(t,1)):(t=Ue(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),O(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){O(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function ie(u){return u==null?"-":u.toLocaleString()}function Lt(u,e,n){let t,l;return me(u,he,a=>n(0,t=a)),me(u,ot,a=>n(1,l=a)),[t,l]}class St extends pe{constructor(e){super(),ge(this,e,Lt,At,be,{})}}function Ve(u,e,n){const t=u.slice();return t[2]=e[n],t}function ze(u,e,n){const t=u.slice();return t[5]=e[n],t}function Ge(u,e,n){const t=u.slice();return t[5]=e[n],t}function Pt(u){let e,n,t,l,a,s,o,r,f,_,g,T,A,j,Y,d,w,h,p,$,c,E,q,C,B,I,H,R=u[0].matches,L=[];for(let N=0;N<R.length;N+=1)L[N]=Qe(ze(u,R,N));const G=N=>O(L[N],1,1,()=>{L[N]=null});return{c(){e=b("table"),n=b("thead"),t=b("tr"),l=b("th"),a=F("\u30D6\u30E9\u30B1\u30C3\u30C8"),s=S(),o=b("th"),r=F("\u30E9\u30A6\u30F3\u30C9"),f=S(),_=b("th"),g=F("\u52DD\u6557"),T=S(),A=b("th"),j=F("\u30B9\u30B3\u30A2"),Y=S(),d=b("th"),w=F("\u5BFE\u6226\u76F8\u624B"),h=S(),p=b("th"),$=F("\u9806\u4F4D"),c=S(),E=b("th"),q=F("\u30E1\u30F3\u30D0\u30FC"),C=S(),B=b("tbody");for(let N=0;N<L.length;N+=1)L[N].c();I=S(),this.h()},l(N){e=v(N,"TABLE",{});var K=k(e);n=v(K,"THEAD",{});var D=k(n);t=v(D,"TR",{});var V=k(t);l=v(V,"TH",{style:!0});var ee=k(l);a=U(ee,"\u30D6\u30E9\u30B1\u30C3\u30C8"),ee.forEach(m),s=P(V),o=v(V,"TH",{style:!0});var J=k(o);r=U(J,"\u30E9\u30A6\u30F3\u30C9"),J.forEach(m),f=P(V),_=v(V,"TH",{style:!0});var Q=k(_);g=U(Q,"\u52DD\u6557"),Q.forEach(m),T=P(V),A=v(V,"TH",{style:!0});var le=k(A);j=U(le,"\u30B9\u30B3\u30A2"),le.forEach(m),Y=P(V),d=v(V,"TH",{style:!0});var se=k(d);w=U(se,"\u5BFE\u6226\u76F8\u624B"),se.forEach(m),h=P(V),p=v(V,"TH",{style:!0});var oe=k(p);$=U(oe,"\u9806\u4F4D"),oe.forEach(m),c=P(V),E=v(V,"TH",{style:!0});var fe=k(E);q=U(fe,"\u30E1\u30F3\u30D0\u30FC"),fe.forEach(m),V.forEach(m),D.forEach(m),C=P(K),B=v(K,"TBODY",{});var $e=k(B);for(let _e=0;_e<L.length;_e+=1)L[_e].l($e);$e.forEach(m),I=P(K),K.forEach(m),this.h()},h(){ue(l,"width","6%"),ue(o,"width","6%"),ue(_,"width","6%"),ue(A,"width","6%"),ue(d,"width","23%"),ue(d,"text-align","left"),ue(p,"width","6%"),ue(E,"width","47%"),ue(E,"text-align","left")},m(N,K){M(N,e,K),i(e,n),i(n,t),i(t,l),i(l,a),i(t,s),i(t,o),i(o,r),i(t,f),i(t,_),i(_,g),i(t,T),i(t,A),i(A,j),i(t,Y),i(t,d),i(d,w),i(t,h),i(t,p),i(p,$),i(t,c),i(t,E),i(E,q),i(e,C),i(e,B);for(let D=0;D<L.length;D+=1)L[D].m(B,null);i(e,I),H=!0},p(N,K){if(K&1){R=N[0].matches;let D;for(D=0;D<R.length;D+=1){const V=ze(N,R,D);L[D]?(L[D].p(V,K),y(L[D],1)):(L[D]=Qe(V),L[D].c(),y(L[D],1),L[D].m(B,null))}for(re(),D=R.length;D<L.length;D+=1)G(D);ae()}},i(N){if(!H){for(let K=0;K<R.length;K+=1)y(L[K]);H=!0}},o(N){L=L.filter(Boolean);for(let K=0;K<L.length;K+=1)O(L[K]);H=!1},d(N){N&&m(e),de(L,N)}}}function Mt(u){let e,n,t,l,a=u[0].matches,s=[];for(let r=0;r<a.length;r+=1)s[r]=Xe(Ge(u,a,r));const o=r=>O(s[r],1,1,()=>{s[r]=null});return{c(){e=b("table"),n=b("tbody");for(let r=0;r<s.length;r+=1)s[r].c();t=S(),this.h()},l(r){e=v(r,"TABLE",{});var f=k(e);n=v(f,"TBODY",{class:!0});var _=k(n);for(let g=0;g<s.length;g+=1)s[g].l(_);_.forEach(m),t=P(f),f.forEach(m),this.h()},h(){z(n,"class","triple")},m(r,f){M(r,e,f),i(e,n);for(let _=0;_<s.length;_+=1)s[_].m(n,null);i(e,t),l=!0},p(r,f){if(f&1){a=r[0].matches;let _;for(_=0;_<a.length;_+=1){const g=Ge(r,a,_);s[_]?(s[_].p(g,f),y(s[_],1)):(s[_]=Xe(g),s[_].c(),y(s[_],1),s[_].m(n,null))}for(re(),_=a.length;_<s.length;_+=1)o(_);ae()}},i(r){if(!l){for(let f=0;f<a.length;f+=1)y(s[f]);l=!0}},o(r){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)O(s[f]);l=!1},d(r){r&&m(e),de(s,r)}}}function Je(u){let e,n,t=u[5].bracket+"",l,a,s,o=u[5].round+"",r,f,_,g,T,A,j=u[5].score_text+"",Y,d,w,h,p,$,c,E,q,C,B,I;return g=new ft({props:{win:u[5].wl}}),h=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),c=new Ee({props:{rank:u[5].opponent_team_rank}}),C=new ve({props:{players:u[5].opponents_list}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=S(),s=b("td"),r=F(o),f=S(),_=b("td"),W(g.$$.fragment),T=S(),A=b("td"),Y=F(j),d=S(),w=b("td"),W(h.$$.fragment),p=S(),$=b("td"),W(c.$$.fragment),E=S(),q=b("td"),W(C.$$.fragment),B=S(),this.h()},l(H){e=v(H,"TR",{});var R=k(e);n=v(R,"TD",{});var L=k(n);l=U(L,t),L.forEach(m),a=P(R),s=v(R,"TD",{});var G=k(s);r=U(G,o),G.forEach(m),f=P(R),_=v(R,"TD",{});var N=k(_);X(g.$$.fragment,N),N.forEach(m),T=P(R),A=v(R,"TD",{});var K=k(A);Y=U(K,j),K.forEach(m),d=P(R),w=v(R,"TD",{class:!0});var D=k(w);X(h.$$.fragment,D),D.forEach(m),p=P(R),$=v(R,"TD",{});var V=k($);X(c.$$.fragment,V),V.forEach(m),E=P(R),q=v(R,"TD",{class:!0});var ee=k(q);X(C.$$.fragment,ee),ee.forEach(m),B=P(R),R.forEach(m),this.h()},h(){z(w,"class","tal"),z(q,"class","tal")},m(H,R){M(H,e,R),i(e,n),i(n,l),i(e,a),i(e,s),i(s,r),i(e,f),i(e,_),Z(g,_,null),i(e,T),i(e,A),i(A,Y),i(e,d),i(e,w),Z(h,w,null),i(e,p),i(e,$),Z(c,$,null),i(e,E),i(e,q),Z(C,q,null),i(e,B),I=!0},p(H,R){(!I||R&1)&&t!==(t=H[5].bracket+"")&&te(l,t),(!I||R&1)&&o!==(o=H[5].round+"")&&te(r,o);const L={};R&1&&(L.win=H[5].wl),g.$set(L),(!I||R&1)&&j!==(j=H[5].score_text+"")&&te(Y,j);const G={};R&1&&(G.name=H[5].opponent_team_name),R&1&&(G.current_name=H[5].opponent_team_current_name),h.$set(G);const N={};R&1&&(N.rank=H[5].opponent_team_rank),c.$set(N);const K={};R&1&&(K.players=H[5].opponents_list),C.$set(K)},i(H){I||(y(g.$$.fragment,H),y(h.$$.fragment,H),y(c.$$.fragment,H),y(C.$$.fragment,H),I=!0)},o(H){O(g.$$.fragment,H),O(h.$$.fragment,H),O(c.$$.fragment,H),O(C.$$.fragment,H),I=!1},d(H){H&&m(e),x(g),x(h),x(c),x(C)}}}function Qe(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&Je(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),M(l,e,a),n=!0},p(l,a){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,a),a&1&&y(t,1)):(t=Je(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),O(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){O(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function We(u){let e,n,t=u[5].bracket+"",l,a,s,o,r=u[5].round+"",f,_,g,T,A,j=u[5].score_text+"",Y,d,w,h,p,$,c,E,q,C,B,I,H,R,L,G;return s=new ce({props:{t:"R"}}),g=new ft({props:{win:u[5].wl}}),p=new ce({props:{t:"vs."}}),c=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),C=new Ee({props:{rank:u[5].opponent_team_rank}}),R=new ve({props:{players:u[5].opponents_list}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=S(),W(s.$$.fragment),o=S(),f=F(r),_=S(),W(g.$$.fragment),T=S(),A=b("td"),Y=F(j),d=S(),w=b("tr"),h=b("td"),W(p.$$.fragment),$=S(),W(c.$$.fragment),E=S(),q=b("td"),W(C.$$.fragment),B=S(),I=b("tr"),H=b("td"),W(R.$$.fragment),L=S(),this.h()},l(N){e=v(N,"TR",{});var K=k(e);n=v(K,"TD",{class:!0});var D=k(n);l=U(D,t),a=P(D),X(s.$$.fragment,D),o=P(D),f=U(D,r),_=P(D),X(g.$$.fragment,D),D.forEach(m),T=P(K),A=v(K,"TD",{class:!0});var V=k(A);Y=U(V,j),V.forEach(m),K.forEach(m),d=P(N),w=v(N,"TR",{});var ee=k(w);h=v(ee,"TD",{class:!0});var J=k(h);X(p.$$.fragment,J),$=P(J),X(c.$$.fragment,J),J.forEach(m),E=P(ee),q=v(ee,"TD",{class:!0});var Q=k(q);X(C.$$.fragment,Q),Q.forEach(m),ee.forEach(m),B=P(N),I=v(N,"TR",{});var le=k(I);H=v(le,"TD",{colspan:!0,class:!0,style:!0});var se=k(H);X(R.$$.fragment,se),se.forEach(m),L=P(le),le.forEach(m),this.h()},h(){z(n,"class","tal"),z(A,"class","nw"),z(h,"class","tal"),z(q,"class","nw"),z(H,"colspan","2"),z(H,"class","tal"),ue(H,"padding-left","1em")},m(N,K){M(N,e,K),i(e,n),i(n,l),i(n,a),Z(s,n,null),i(n,o),i(n,f),i(n,_),Z(g,n,null),i(e,T),i(e,A),i(A,Y),M(N,d,K),M(N,w,K),i(w,h),Z(p,h,null),i(h,$),Z(c,h,null),i(w,E),i(w,q),Z(C,q,null),M(N,B,K),M(N,I,K),i(I,H),Z(R,H,null),i(I,L),G=!0},p(N,K){(!G||K&1)&&t!==(t=N[5].bracket+"")&&te(l,t),(!G||K&1)&&r!==(r=N[5].round+"")&&te(f,r);const D={};K&1&&(D.win=N[5].wl),g.$set(D),(!G||K&1)&&j!==(j=N[5].score_text+"")&&te(Y,j);const V={};K&1&&(V.name=N[5].opponent_team_name),K&1&&(V.current_name=N[5].opponent_team_current_name),c.$set(V);const ee={};K&1&&(ee.rank=N[5].opponent_team_rank),C.$set(ee);const J={};K&1&&(J.players=N[5].opponents_list),R.$set(J)},i(N){G||(y(s.$$.fragment,N),y(g.$$.fragment,N),y(p.$$.fragment,N),y(c.$$.fragment,N),y(C.$$.fragment,N),y(R.$$.fragment,N),G=!0)},o(N){O(s.$$.fragment,N),O(g.$$.fragment,N),O(p.$$.fragment,N),O(c.$$.fragment,N),O(C.$$.fragment,N),O(R.$$.fragment,N),G=!1},d(N){N&&m(e),x(s),x(g),N&&m(d),N&&m(w),x(p),x(c),x(C),N&&m(B),N&&m(I),x(R)}}}function Xe(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&We(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),M(l,e,a),n=!0},p(l,a){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,a),a&1&&y(t,1)):(t=We(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),O(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){O(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function Ze(u){let e,n,t,l,a,s,o,r,f,_,g,T,A,j,Y,d,w=u[2].member_name+"",h,p,$,c,E,q,C,B,I,H,R,L;n=new dt({props:{name:u[2].tournament_name,key:u[2].tournament_key,official:!1}}),f=new De({props:{date:u[2].tournament_date}}),A=new we({props:{name:u[2].team_name,current_name:u[2].team_name}}),$=new ve({props:{players:u[2].mate_list}}),C=new Ee({props:{rank:u[2].team_result}});const G=[Mt,Pt],N=[];function K(D,V){return D[1]?0:1}return I=K(u),H=N[I]=G[I](u),{c(){e=b("h3"),W(n.$$.fragment),l=S(),a=b("dl"),s=b("dt"),o=F("\u958B\u50AC\u65E5"),r=b("dd"),W(f.$$.fragment),_=b("dt"),g=F("\u30C1\u30FC\u30E0"),T=b("dd"),W(A.$$.fragment),j=b("dt"),Y=F("\u30E1\u30F3\u30D0\u30FC"),d=b("dd"),h=F(w),p=F(", "),W($.$$.fragment),c=b("dt"),E=F("\u7D50\u679C"),q=b("dd"),W(C.$$.fragment),B=S(),H.c(),R=ne(),this.h()},l(D){e=v(D,"H3",{id:!0});var V=k(e);X(n.$$.fragment,V),V.forEach(m),l=P(D),a=v(D,"DL",{});var ee=k(a);s=v(ee,"DT",{});var J=k(s);o=U(J,"\u958B\u50AC\u65E5"),J.forEach(m),r=v(ee,"DD",{});var Q=k(r);X(f.$$.fragment,Q),Q.forEach(m),_=v(ee,"DT",{});var le=k(_);g=U(le,"\u30C1\u30FC\u30E0"),le.forEach(m),T=v(ee,"DD",{});var se=k(T);X(A.$$.fragment,se),se.forEach(m),j=v(ee,"DT",{});var oe=k(j);Y=U(oe,"\u30E1\u30F3\u30D0\u30FC"),oe.forEach(m),d=v(ee,"DD",{});var fe=k(d);h=U(fe,w),p=U(fe,", "),X($.$$.fragment,fe),fe.forEach(m),c=v(ee,"DT",{});var $e=k(c);E=U($e,"\u7D50\u679C"),$e.forEach(m),q=v(ee,"DD",{});var _e=k(q);X(C.$$.fragment,_e),_e.forEach(m),ee.forEach(m),B=P(D),H.l(D),R=ne(),this.h()},h(){z(e,"id",t=u[2].tournament_key)},m(D,V){M(D,e,V),Z(n,e,null),M(D,l,V),M(D,a,V),i(a,s),i(s,o),i(a,r),Z(f,r,null),i(a,_),i(_,g),i(a,T),Z(A,T,null),i(a,j),i(j,Y),i(a,d),i(d,h),i(d,p),Z($,d,null),i(a,c),i(c,E),i(a,q),Z(C,q,null),M(D,B,V),N[I].m(D,V),M(D,R,V),L=!0},p(D,V){const ee={};V&1&&(ee.name=D[2].tournament_name),V&1&&(ee.key=D[2].tournament_key),n.$set(ee),(!L||V&1&&t!==(t=D[2].tournament_key))&&z(e,"id",t);const J={};V&1&&(J.date=D[2].tournament_date),f.$set(J);const Q={};V&1&&(Q.name=D[2].team_name),V&1&&(Q.current_name=D[2].team_name),A.$set(Q),(!L||V&1)&&w!==(w=D[2].member_name+"")&&te(h,w);const le={};V&1&&(le.players=D[2].mate_list),$.$set(le);const se={};V&1&&(se.rank=D[2].team_result),C.$set(se);let oe=I;I=K(D),I===oe?N[I].p(D,V):(re(),O(N[oe],1,1,()=>{N[oe]=null}),ae(),H=N[I],H?H.p(D,V):(H=N[I]=G[I](D),H.c()),y(H,1),H.m(R.parentNode,R))},i(D){L||(y(n.$$.fragment,D),y(f.$$.fragment,D),y(A.$$.fragment,D),y($.$$.fragment,D),y(C.$$.fragment,D),y(H),L=!0)},o(D){O(n.$$.fragment,D),O(f.$$.fragment,D),O(A.$$.fragment,D),O($.$$.fragment,D),O(C.$$.fragment,D),O(H),L=!1},d(D){D&&m(e),x(n),D&&m(l),D&&m(a),x(f),x(A),x($),x(C),D&&m(B),N[I].d(D),D&&m(R)}}}function Yt(u){let e,n,t=u[0].tournaments,l=[];for(let s=0;s<t.length;s+=1)l[s]=Ze(Ve(u,t,s));const a=s=>O(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ne()},l(s){for(let o=0;o<l.length;o+=1)l[o].l(s);e=ne()},m(s,o){for(let r=0;r<l.length;r+=1)l[r].m(s,o);M(s,e,o),n=!0},p(s,[o]){if(o&3){t=s[0].tournaments;let r;for(r=0;r<t.length;r+=1){const f=Ve(s,t,r);l[r]?(l[r].p(f,o),y(l[r],1)):(l[r]=Ze(f),l[r].c(),y(l[r],1),l[r].m(e.parentNode,e))}for(re(),r=t.length;r<l.length;r+=1)a(r);ae()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)y(l[o]);n=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)O(l[o]);n=!1},d(s){de(l,s),s&&m(e)}}}function qt(u,e,n){let t,l;return me(u,he,a=>n(0,t=a)),me(u,ot,a=>n(1,l=a)),[t,l]}class It extends pe{constructor(e){super(),ge(this,e,qt,Yt,be,{})}}const Ft=He(he,u=>{if(u==null)return[];const e={},n=[];for(const a of u.tournaments){const s={key:a.tournament_key,win:0,lose:0};for(const o of u.matches)o.tnmt_key===a.tournament_key&&(o.opponent_team_key===o.loser_key?s.win+=1:s.lose+=1);for(const o of a.mate_list)e[o]===void 0?e[o]={name:o,tournaments:[a.tournament_key]}:e[o].tournaments.push(a.tournament_key);n.push(s)}const t=Object.values(e);return[...new Set(Object.values(e).map(a=>a.tournaments.join("	")))].map(a=>a.split("	")).sort((a,s)=>s.length-a.length).map(a=>{const s=n.filter(o=>a.includes(o.key));return{names:t.filter(o=>o.tournaments.sort().join("	")===a.sort().join("	")).map(o=>o.name),entry:a.length,win:s.reduce((o,r)=>o+r.win,0),lose:s.reduce((o,r)=>o+r.lose,0)}})});function xe(u,e,n){const t=u.slice();return t[1]=e[n],t}function et(u){let e,n,t=u[1].entry+"",l,a,s,o,r=u[1].win+"",f,_,g,T=u[1].lose+"",A,j,Y,d,w,h,p;return a=new ce({props:{t:" \u5927\u4F1A"}}),_=new ce({props:{t:" \u52DD"}}),j=new ce({props:{t:" \u6557"}}),w=new ve({props:{players:u[1].names}}),{c(){e=b("tr"),n=b("td"),l=F(t),W(a.$$.fragment),s=S(),o=b("td"),f=F(r),W(_.$$.fragment),g=S(),A=F(T),W(j.$$.fragment),Y=S(),d=b("td"),W(w.$$.fragment),h=S(),this.h()},l($){e=v($,"TR",{});var c=k(e);n=v(c,"TD",{class:!0});var E=k(n);l=U(E,t),X(a.$$.fragment,E),E.forEach(m),s=P(c),o=v(c,"TD",{class:!0});var q=k(o);f=U(q,r),X(_.$$.fragment,q),g=P(q),A=U(q,T),X(j.$$.fragment,q),q.forEach(m),Y=P(c),d=v(c,"TD",{class:!0});var C=k(d);X(w.$$.fragment,C),C.forEach(m),h=P(c),c.forEach(m),this.h()},h(){z(n,"class","nw"),z(o,"class","nw"),z(d,"class","tal")},m($,c){M($,e,c),i(e,n),i(n,l),Z(a,n,null),i(e,s),i(e,o),i(o,f),Z(_,o,null),i(o,g),i(o,A),Z(j,o,null),i(e,Y),i(e,d),Z(w,d,null),i(e,h),p=!0},p($,c){(!p||c&1)&&t!==(t=$[1].entry+"")&&te(l,t),(!p||c&1)&&r!==(r=$[1].win+"")&&te(f,r),(!p||c&1)&&T!==(T=$[1].lose+"")&&te(A,T);const E={};c&1&&(E.players=$[1].names),w.$set(E)},i($){p||(y(a.$$.fragment,$),y(_.$$.fragment,$),y(j.$$.fragment,$),y(w.$$.fragment,$),p=!0)},o($){O(a.$$.fragment,$),O(_.$$.fragment,$),O(j.$$.fragment,$),O(w.$$.fragment,$),p=!1},d($){$&&m(e),x(a),x(_),x(j),x(w)}}}function Ut(u){let e,n,t,l,a,s,o,r,f,_,g,T,A,j,Y,d,w=u[0],h=[];for(let $=0;$<w.length;$+=1)h[$]=et(xe(u,w,$));const p=$=>O(h[$],1,1,()=>{h[$]=null});return{c(){e=b("h3"),n=F("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),t=S(),l=b("table"),a=b("thead"),s=b("tr"),o=b("th"),r=F("\u540C\u30C1\u30FC\u30E0"),f=S(),_=b("th"),g=F("\u6210\u7E3E"),T=S(),A=b("th"),j=S(),Y=b("tbody");for(let $=0;$<h.length;$+=1)h[$].c();this.h()},l($){e=v($,"H3",{});var c=k(e);n=U(c,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),c.forEach(m),t=P($),l=v($,"TABLE",{});var E=k(l);a=v(E,"THEAD",{});var q=k(a);s=v(q,"TR",{});var C=k(s);o=v(C,"TH",{class:!0,style:!0});var B=k(o);r=U(B,"\u540C\u30C1\u30FC\u30E0"),B.forEach(m),f=P(C),_=v(C,"TH",{class:!0,style:!0});var I=k(_);g=U(I,"\u6210\u7E3E"),I.forEach(m),T=P(C),A=v(C,"TH",{}),k(A).forEach(m),C.forEach(m),q.forEach(m),j=P(E),Y=v(E,"TBODY",{});var H=k(Y);for(let R=0;R<h.length;R+=1)h[R].l(H);H.forEach(m),E.forEach(m),this.h()},h(){z(o,"class","nw"),ue(o,"width","5em"),z(_,"class","nw"),ue(_,"width","7em")},m($,c){M($,e,c),i(e,n),M($,t,c),M($,l,c),i(l,a),i(a,s),i(s,o),i(o,r),i(s,f),i(s,_),i(_,g),i(s,T),i(s,A),i(l,j),i(l,Y);for(let E=0;E<h.length;E+=1)h[E].m(Y,null);d=!0},p($,[c]){if(c&1){w=$[0];let E;for(E=0;E<w.length;E+=1){const q=xe($,w,E);h[E]?(h[E].p(q,c),y(h[E],1)):(h[E]=et(q),h[E].c(),y(h[E],1),h[E].m(Y,null))}for(re(),E=w.length;E<h.length;E+=1)p(E);ae()}},i($){if(!d){for(let c=0;c<w.length;c+=1)y(h[c]);d=!0}},o($){h=h.filter(Boolean);for(let c=0;c<h.length;c+=1)O(h[c]);d=!1},d($){$&&m(e),$&&m(t),$&&m(l),de(h,$)}}}function Ct(u,e,n){let t;return me(u,Ft,l=>n(0,t=l)),[t]}class Kt extends pe{constructor(e){super(),ge(this,e,Ct,Ut,be,{})}}const Vt=He(he,u=>{if(u==null)return[];const e={};for(const t of u.matches)for(const l of t.opponents_list){const a=t.opponent_team_key===t.loser_key,s=`${t.tnmt_key}/${t.bracket}/${t.round}`;e[l]===void 0?e[l]={name:l,win:a?1:0,lose:a?0:1,matches:[s]}:(e[l].matches.push(s),a?e[l].win+=1:e[l].lose+=1)}const n=Object.values(e);return[...new Set(Object.values(e).map(t=>t.matches.join("	")))].map(t=>t.split("	")).sort((t,l)=>l.length-t.length).filter(t=>t.length>=3).map(t=>{const l=n.filter(a=>a.matches.join("	")===t.join("	"));return{names:l.map(a=>a.name),win:l[0].win,lose:l[0].lose}}).sort((t,l)=>l.win-t.win)});function tt(u,e,n){const t=u.slice();return t[1]=e[n],t}function lt(u){let e,n,t=u[1].win+"",l,a,s,o,r=u[1].lose+"",f,_,g,T,A,j,Y,d;return s=new ce({props:{t:"\u52DD"}}),g=new ce({props:{t:"\u6557"}}),j=new ve({props:{players:u[1].names}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=S(),W(s.$$.fragment),o=S(),f=F(r),_=S(),W(g.$$.fragment),T=S(),A=b("td"),W(j.$$.fragment),Y=S(),this.h()},l(w){e=v(w,"TR",{});var h=k(e);n=v(h,"TD",{class:!0});var p=k(n);l=U(p,t),a=P(p),X(s.$$.fragment,p),o=P(p),f=U(p,r),_=P(p),X(g.$$.fragment,p),p.forEach(m),T=P(h),A=v(h,"TD",{class:!0});var $=k(A);X(j.$$.fragment,$),$.forEach(m),Y=P(h),h.forEach(m),this.h()},h(){z(n,"class","nw"),z(A,"class","tal")},m(w,h){M(w,e,h),i(e,n),i(n,l),i(n,a),Z(s,n,null),i(n,o),i(n,f),i(n,_),Z(g,n,null),i(e,T),i(e,A),Z(j,A,null),i(e,Y),d=!0},p(w,h){(!d||h&1)&&t!==(t=w[1].win+"")&&te(l,t),(!d||h&1)&&r!==(r=w[1].lose+"")&&te(f,r);const p={};h&1&&(p.players=w[1].names),j.$set(p)},i(w){d||(y(s.$$.fragment,w),y(g.$$.fragment,w),y(j.$$.fragment,w),d=!0)},o(w){O(s.$$.fragment,w),O(g.$$.fragment,w),O(j.$$.fragment,w),d=!1},d(w){w&&m(e),x(s),x(g),x(j)}}}function zt(u){let e,n,t,l,a,s,o,r,f,_,g,T,A,j,Y=u[0],d=[];for(let h=0;h<Y.length;h+=1)d[h]=lt(tt(u,Y,h));const w=h=>O(d[h],1,1,()=>{d[h]=null});return{c(){e=b("h3"),n=F("\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),t=S(),l=b("table"),a=b("thead"),s=b("tr"),o=b("th"),r=F("\u901A\u7B97\u6210\u7E3E"),f=S(),_=b("th"),g=F("\u30D7\u30EC\u30A4\u30E4\u30FC"),T=S(),A=b("tbody");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=v(h,"H3",{});var p=k(e);n=U(p,"\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),p.forEach(m),t=P(h),l=v(h,"TABLE",{});var $=k(l);a=v($,"THEAD",{});var c=k(a);s=v(c,"TR",{});var E=k(s);o=v(E,"TH",{class:!0,style:!0});var q=k(o);r=U(q,"\u901A\u7B97\u6210\u7E3E"),q.forEach(m),f=P(E),_=v(E,"TH",{class:!0});var C=k(_);g=U(C,"\u30D7\u30EC\u30A4\u30E4\u30FC"),C.forEach(m),E.forEach(m),c.forEach(m),T=P($),A=v($,"TBODY",{});var B=k(A);for(let I=0;I<d.length;I+=1)d[I].l(B);B.forEach(m),$.forEach(m),this.h()},h(){z(o,"class","nw"),ue(o,"width","7em"),z(_,"class","tal")},m(h,p){M(h,e,p),i(e,n),M(h,t,p),M(h,l,p),i(l,a),i(a,s),i(s,o),i(o,r),i(s,f),i(s,_),i(_,g),i(l,T),i(l,A);for(let $=0;$<d.length;$+=1)d[$].m(A,null);j=!0},p(h,[p]){if(p&1){Y=h[0];let $;for($=0;$<Y.length;$+=1){const c=tt(h,Y,$);d[$]?(d[$].p(c,p),y(d[$],1)):(d[$]=lt(c),d[$].c(),y(d[$],1),d[$].m(A,null))}for(re(),$=Y.length;$<d.length;$+=1)w($);ae()}},i(h){if(!j){for(let p=0;p<Y.length;p+=1)y(d[p]);j=!0}},o(h){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)O(d[p]);j=!1},d(h){h&&m(e),h&&m(t),h&&m(l),de(d,h)}}}function Gt(u,e,n){let t;return me(u,Vt,l=>n(0,t=l)),[t]}class Jt extends pe{constructor(e){super(),ge(this,e,Gt,zt,be,{})}}function Qt(u){let e,n;return e=new ht({}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p:ke,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Wt(u){let e,n,t,l=u[3].player.collated_name+"",a,s,o,r,f,_,g,T,A,j,Y,d,w;e=new _t({props:{title:u[3].player.collated_name+" : "+u[1],type:"article",url:"player/detail/?q="+u[2],description:""}}),r=new ye({props:{current_mode:u[0],mode:"basic",name:"\u57FA\u672C",url:"/player/detail?p="+u[2]+"&mode=basic"}}),_=new ye({props:{current_mode:u[0],mode:"tournament",name:"\u5927\u4F1A",url:"/player/detail?p="+u[2]+"&mode=tournament"}}),T=new ye({props:{current_mode:u[0],mode:"relation",name:"\u95A2\u9023",url:"/player/detail?p="+u[2]+"&mode=relation"}});let h=u[0]==="basic"&&nt(),p=u[0]==="tournament"&&rt(),$=u[0]==="relation"&&at();return{c(){W(e.$$.fragment),n=S(),t=b("h1"),a=F(l),s=S(),o=b("div"),W(r.$$.fragment),f=F(` |
    `),W(_.$$.fragment),g=F(` |
    `),W(T.$$.fragment),A=S(),h&&h.c(),j=S(),p&&p.c(),Y=S(),$&&$.c(),d=ne(),this.h()},l(c){X(e.$$.fragment,c),n=P(c),t=v(c,"H1",{});var E=k(t);a=U(E,l),E.forEach(m),s=P(c),o=v(c,"DIV",{class:!0});var q=k(o);X(r.$$.fragment,q),f=U(q,` |
    `),X(_.$$.fragment,q),g=U(q,` |
    `),X(T.$$.fragment,q),q.forEach(m),A=P(c),h&&h.l(c),j=P(c),p&&p.l(c),Y=P(c),$&&$.l(c),d=ne(),this.h()},h(){z(o,"class","detail-tab")},m(c,E){Z(e,c,E),M(c,n,E),M(c,t,E),i(t,a),M(c,s,E),M(c,o,E),Z(r,o,null),i(o,f),Z(_,o,null),i(o,g),Z(T,o,null),M(c,A,E),h&&h.m(c,E),M(c,j,E),p&&p.m(c,E),M(c,Y,E),$&&$.m(c,E),M(c,d,E),w=!0},p(c,E){const q={};E&10&&(q.title=c[3].player.collated_name+" : "+c[1]),E&4&&(q.url="player/detail/?q="+c[2]),e.$set(q),(!w||E&8)&&l!==(l=c[3].player.collated_name+"")&&te(a,l);const C={};E&1&&(C.current_mode=c[0]),E&4&&(C.url="/player/detail?p="+c[2]+"&mode=basic"),r.$set(C);const B={};E&1&&(B.current_mode=c[0]),E&4&&(B.url="/player/detail?p="+c[2]+"&mode=tournament"),_.$set(B);const I={};E&1&&(I.current_mode=c[0]),E&4&&(I.url="/player/detail?p="+c[2]+"&mode=relation"),T.$set(I),c[0]==="basic"?h?E&1&&y(h,1):(h=nt(),h.c(),y(h,1),h.m(j.parentNode,j)):h&&(re(),O(h,1,1,()=>{h=null}),ae()),c[0]==="tournament"?p?E&1&&y(p,1):(p=rt(),p.c(),y(p,1),p.m(Y.parentNode,Y)):p&&(re(),O(p,1,1,()=>{p=null}),ae()),c[0]==="relation"?$?E&1&&y($,1):($=at(),$.c(),y($,1),$.m(d.parentNode,d)):$&&(re(),O($,1,1,()=>{$=null}),ae())},i(c){w||(y(e.$$.fragment,c),y(r.$$.fragment,c),y(_.$$.fragment,c),y(T.$$.fragment,c),y(h),y(p),y($),w=!0)},o(c){O(e.$$.fragment,c),O(r.$$.fragment,c),O(_.$$.fragment,c),O(T.$$.fragment,c),O(h),O(p),O($),w=!1},d(c){x(e,c),c&&m(n),c&&m(t),c&&m(s),c&&m(o),x(r),x(_),x(T),c&&m(A),h&&h.d(c),c&&m(j),p&&p.d(c),c&&m(Y),$&&$.d(c),c&&m(d)}}}function nt(u){let e,n,t,l;return e=new vt({}),t=new yt({}),{c(){W(e.$$.fragment),n=S(),W(t.$$.fragment)},l(a){X(e.$$.fragment,a),n=P(a),X(t.$$.fragment,a)},m(a,s){Z(e,a,s),M(a,n,s),Z(t,a,s),l=!0},i(a){l||(y(e.$$.fragment,a),y(t.$$.fragment,a),l=!0)},o(a){O(e.$$.fragment,a),O(t.$$.fragment,a),l=!1},d(a){x(e,a),a&&m(n),x(t,a)}}}function rt(u){let e,n,t,l,a,s,o;return l=new St({}),s=new It({}),{c(){e=b("h2"),n=F("\u53C2\u52A0\u5927\u4F1A"),t=S(),W(l.$$.fragment),a=S(),W(s.$$.fragment)},l(r){e=v(r,"H2",{});var f=k(e);n=U(f,"\u53C2\u52A0\u5927\u4F1A"),f.forEach(m),t=P(r),X(l.$$.fragment,r),a=P(r),X(s.$$.fragment,r)},m(r,f){M(r,e,f),i(e,n),M(r,t,f),Z(l,r,f),M(r,a,f),Z(s,r,f),o=!0},i(r){o||(y(l.$$.fragment,r),y(s.$$.fragment,r),o=!0)},o(r){O(l.$$.fragment,r),O(s.$$.fragment,r),o=!1},d(r){r&&m(e),r&&m(t),x(l,r),r&&m(a),x(s,r)}}}function at(u){let e,n,t,l,a,s,o;return l=new Kt({}),s=new Jt({}),{c(){e=b("h2"),n=F("\u95A2\u9023\u60C5\u5831"),t=S(),W(l.$$.fragment),a=S(),W(s.$$.fragment)},l(r){e=v(r,"H2",{});var f=k(e);n=U(f,"\u95A2\u9023\u60C5\u5831"),f.forEach(m),t=P(r),X(l.$$.fragment,r),a=P(r),X(s.$$.fragment,r)},m(r,f){M(r,e,f),i(e,n),M(r,t,f),Z(l,r,f),M(r,a,f),Z(s,r,f),o=!0},i(r){o||(y(l.$$.fragment,r),y(s.$$.fragment,r),o=!0)},o(r){O(l.$$.fragment,r),O(s.$$.fragment,r),o=!1},d(r){r&&m(e),r&&m(t),x(l,r),r&&m(a),x(s,r)}}}function Xt(u){let e,n,t,l;const a=[Wt,Qt],s=[];function o(r,f){return r[3]?0:1}return e=o(u),n=s[e]=a[e](u),{c(){n.c(),t=ne()},l(r){n.l(r),t=ne()},m(r,f){s[e].m(r,f),M(r,t,f),l=!0},p(r,[f]){let _=e;e=o(r),e===_?s[e].p(r,f):(re(),O(s[_],1,1,()=>{s[_]=null}),ae(),n=s[e],n?n.p(r,f):(n=s[e]=a[e](r),n.c()),y(n,1),n.m(t.parentNode,t))},i(r){l||(y(n),l=!0)},o(r){O(n),l=!1},d(r){s[e].d(r),r&&m(t)}}}function Zt(u,e,n){let t,l,a;me(u,Re,f=>n(2,l=f)),me(u,he,f=>n(3,a=f));let s="basic";ut(()=>{r(null)});async function o(f){je("player/player_aliases.json").then(_=>_.json()).then(_=>r(_[f])).catch(()=>[])}async function r(f){n(0,s=it("basic","mode"));const _=mt(f,"p");l===_||_===null||(he.set(null),Re.set(_),je(`player/${l}.json`).then(g=>{if([403,404].indexOf(g.status)!==-1)throw new Error("NOT FOUND");return g.json()}).then(g=>{pt(g)}).catch(g=>{g.message==="NOT FOUND"&&f===null&&o(l)}))}return u.$$.update=()=>{u.$$.dirty&1&&n(1,t={basic:"\u57FA\u672C",tournament:"\u5927\u4F1A",relation:"\u95A2\u9023"}[s])},[s,t,l,a]}class $l extends pe{constructor(e){super(),ge(this,e,Zt,Xt,be,{})}}export{$l as default};
