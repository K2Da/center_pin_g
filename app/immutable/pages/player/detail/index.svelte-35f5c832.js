import{S as pe,i as ge,s as ve,e as v,t as I,c as b,a as k,h as C,d as m,g as Y,K as i,j as te,l as ne,b as z,k as P,w as W,m as M,x as X,y as Z,q as H,o as L,B as x,P as me,n as ae,p as se,R as de,E as ke,f as ue}from"../../../chunks/index-15dce5f7.js";import{a as it}from"../../../chunks/navigation-13fd7038.js";import{w as ot,d as He}from"../../../chunks/index-0695a55f.js";import{o as ft,q as mt,j as _t,k as je,h as Re}from"../../../chunks/global-fab70934.js";import{H as ct}from"../../../chunks/Header-eb40b04b.js";import{T as ht,P as ye}from"../../../chunks/PageTab-9361fc35.js";import{D as De,T as ce,P as $t}from"../../../chunks/PopUpA-022d3435.js";import{S as dt}from"../../../chunks/Span-465bde08.js";import{T as we,a as Ee}from"../../../chunks/TeamName-7fa6d4ae.js";import{P as be}from"../../../chunks/PlayersLine-6e2a82ff.js";import{M as ut}from"../../../chunks/MatchResult-fc4c9239.js";import{T as pt}from"../../../chunks/TournamentName-bac5c1ec.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/PlayerName-5dd83597.js";import"../../../chunks/Twitch-55dc744f.js";const Oe=ot(""),he=ot(null);function gt(u){for(const e of u.matches)e.wl=e.opponent_team_key===e.loser_key,e.score_text=e.wl?`${e.winner_score} - ${e.loser_score}`:`${e.loser_score} - ${e.winner_score}`;he.set(u)}function Ae(u){let e,n,t,l=[...new Set(u[0].tournaments.map(Ye))].join(", ")+"",r;return{c(){e=v("dt"),n=I("\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),t=v("dd"),r=I(l)},l(s){e=b(s,"DT",{});var o=k(e);n=C(o,"\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),o.forEach(m),t=b(s,"DD",{});var a=k(t);r=C(a,l),a.forEach(m)},m(s,o){Y(s,e,o),i(e,n),Y(s,t,o),i(t,r)},p(s,o){o&1&&l!==(l=[...new Set(s[0].tournaments.map(Ye))].join(", ")+"")&&te(r,l)},d(s){s&&m(e),s&&m(t)}}}function Le(u){let e,n,t,l=u[0].data.twitter&&Se(u),r=u[0].data.youtube&&Pe(u),s=u[0].data.twitch&&Me(u);return{c(){l&&l.c(),e=ne(),r&&r.c(),n=ne(),s&&s.c(),t=ne()},l(o){l&&l.l(o),e=ne(),r&&r.l(o),n=ne(),s&&s.l(o),t=ne()},m(o,a){l&&l.m(o,a),Y(o,e,a),r&&r.m(o,a),Y(o,n,a),s&&s.m(o,a),Y(o,t,a)},p(o,a){o[0].data.twitter?l?l.p(o,a):(l=Se(o),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o[0].data.youtube?r?r.p(o,a):(r=Pe(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),o[0].data.twitch?s?s.p(o,a):(s=Me(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){l&&l.d(o),o&&m(e),r&&r.d(o),o&&m(n),s&&s.d(o),o&&m(t)}}}function Se(u){let e,n,t,l,r,s=u[0].data.twitter+"",o,a;return{c(){e=v("dt"),n=v("i"),t=I(" twitter"),l=v("dd"),r=v("a"),o=I(s),this.h()},l(f){e=b(f,"DT",{});var _=k(e);n=b(_,"I",{class:!0}),k(n).forEach(m),t=C(_," twitter"),_.forEach(m),l=b(f,"DD",{});var g=k(l);r=b(g,"A",{href:!0});var B=k(r);o=C(B,s),B.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitter"),z(r,"href",a="https://twitter.com/"+u[0].data.twitter)},m(f,_){Y(f,e,_),i(e,n),i(e,t),Y(f,l,_),i(l,r),i(r,o)},p(f,_){_&1&&s!==(s=f[0].data.twitter+"")&&te(o,s),_&1&&a!==(a="https://twitter.com/"+f[0].data.twitter)&&z(r,"href",a)},d(f){f&&m(e),f&&m(l)}}}function Pe(u){let e,n,t,l,r,s=u[0].data.youtube[1]+"",o,a;return{c(){e=v("dt"),n=v("i"),t=I(" youtube"),l=v("dd"),r=v("a"),o=I(s),this.h()},l(f){e=b(f,"DT",{});var _=k(e);n=b(_,"I",{class:!0}),k(n).forEach(m),t=C(_," youtube"),_.forEach(m),l=b(f,"DD",{});var g=k(l);r=b(g,"A",{href:!0});var B=k(r);o=C(B,s),B.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-youtube"),z(r,"href",a="https://www.youtube.com/channel/"+u[0].data.youtube[0])},m(f,_){Y(f,e,_),i(e,n),i(e,t),Y(f,l,_),i(l,r),i(r,o)},p(f,_){_&1&&s!==(s=f[0].data.youtube[1]+"")&&te(o,s),_&1&&a!==(a="https://www.youtube.com/channel/"+f[0].data.youtube[0])&&z(r,"href",a)},d(f){f&&m(e),f&&m(l)}}}function Me(u){let e,n,t,l,r,s=u[0].data.twitch+"",o,a;return{c(){e=v("dt"),n=v("i"),t=I(" twitch"),l=v("dd"),r=v("a"),o=I(s),this.h()},l(f){e=b(f,"DT",{});var _=k(e);n=b(_,"I",{class:!0}),k(n).forEach(m),t=C(_," twitch"),_.forEach(m),l=b(f,"DD",{});var g=k(l);r=b(g,"A",{href:!0});var B=k(r);o=C(B,s),B.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitch"),z(r,"href",a="https://www.twitch.tv/"+u[0].data.twitch)},m(f,_){Y(f,e,_),i(e,n),i(e,t),Y(f,l,_),i(l,r),i(r,o)},p(f,_){_&1&&s!==(s=f[0].data.twitch+"")&&te(o,s),_&1&&a!==(a="https://www.twitch.tv/"+f[0].data.twitch)&&z(r,"href",a)},d(f){f&&m(e),f&&m(l)}}}function vt(u){var d;let e,n,t,l,r,s,o,a,f,_,g,B,R=((d=u[0].player.rating)!=null?d:0).toLocaleString()+"",j,q,$=u[0].data&&Ae(u);a=new ht({props:{stats:{...u[0].player,tournament_count:u[0].player.entries}}});let w=u[0].data&&Le(u);return{c(){e=v("h2"),n=I("\u57FA\u672C\u60C5\u5831"),t=P(),l=v("dl"),$&&$.c(),r=v("dt"),s=I("\u6226\u7E3E"),o=v("dd"),W(a.$$.fragment),f=P(),_=v("dt"),g=I("\u30EC\u30FC\u30C8"),B=v("dd"),j=I(R),w&&w.c()},l(p){e=b(p,"H2",{});var c=k(e);n=C(c,"\u57FA\u672C\u60C5\u5831"),c.forEach(m),t=M(p),l=b(p,"DL",{});var E=k(l);$&&$.l(E),r=b(E,"DT",{});var h=k(r);s=C(h,"\u6226\u7E3E"),h.forEach(m),o=b(E,"DD",{});var N=k(o);X(a.$$.fragment,N),f=M(N),N.forEach(m),_=b(E,"DT",{});var F=k(_);g=C(F,"\u30EC\u30FC\u30C8"),F.forEach(m),B=b(E,"DD",{});var y=k(B);j=C(y,R),y.forEach(m),w&&w.l(E),E.forEach(m)},m(p,c){Y(p,e,c),i(e,n),Y(p,t,c),Y(p,l,c),$&&$.m(l,null),i(l,r),i(r,s),i(l,o),Z(a,o,null),i(o,f),i(l,_),i(_,g),i(l,B),i(B,j),w&&w.m(l,null),q=!0},p(p,[c]){var h;p[0].data?$?$.p(p,c):($=Ae(p),$.c(),$.m(l,r)):$&&($.d(1),$=null);const E={};c&1&&(E.stats={...p[0].player,tournament_count:p[0].player.entries}),a.$set(E),(!q||c&1)&&R!==(R=((h=p[0].player.rating)!=null?h:0).toLocaleString()+"")&&te(j,R),p[0].data?w?w.p(p,c):(w=Le(p),w.c(),w.m(l,null)):w&&(w.d(1),w=null)},i(p){q||(H(a.$$.fragment,p),q=!0)},o(p){L(a.$$.fragment,p),q=!1},d(p){p&&m(e),p&&m(t),p&&m(l),$&&$.d(),x(a),w&&w.d()}}}const Ye=u=>u.member_name;function bt(u,e,n){let t;return me(u,he,l=>n(0,t=l)),[t]}class kt extends pe{constructor(e){super(),ge(this,e,bt,vt,ve,{})}}const wt=He(he,u=>{if(u==null)return[];const e={};for(const n of u.tournaments){const t=n.team_current_name;e[t]===void 0?e[t]={name:t,tournament_count:1,last_match_at:n.tournament_date,first_match_at:n.tournament_date}:(e[t].tournament_count+=1,e[t].last_match_at=Math.max(n.tournament_date,e[t].last_match_at),e[t].first_match_at=Math.min(n.tournament_date,e[t].first_match_at))}return Object.values(e).sort(n=>-n.last_match_at)});function qe(u,e,n){const t=u.slice();return t[1]=e[n],t}function Et(u){let e,n;return e=new dt({props:{date1:u[1].first_match_at,date2:u[1].last_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.date1=t[1].first_match_at),l&1&&(r.date2=t[1].last_match_at),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Tt(u){let e,n;return e=new De({props:{date:u[1].first_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.date=t[1].first_match_at),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ie(u){let e,n,t,l=u[1].tournament_count+"",r,s,o,a,f,_,g,B;n=new we({props:{name:u[1].name,current_name:u[1].name}});const R=[Tt,Et],j=[];function q($,w){return $[1].first_match_at===$[1].last_match_at?0:1}return f=q(u),_=j[f]=R[f](u),{c(){e=v("dt"),W(n.$$.fragment),t=v("dd"),r=I(l),s=I("\u56DE\u51FA\u5834"),o=v("br"),a=P(),_.c(),g=P(),this.h()},l($){e=b($,"DT",{class:!0});var w=k(e);X(n.$$.fragment,w),w.forEach(m),t=b($,"DD",{});var d=k(t);r=C(d,l),s=C(d,"\u56DE\u51FA\u5834"),o=b(d,"BR",{}),a=M(d),_.l(d),g=M(d),d.forEach(m),this.h()},h(){z(e,"class","tal nw")},m($,w){Y($,e,w),Z(n,e,null),Y($,t,w),i(t,r),i(t,s),i(t,o),i(t,a),j[f].m(t,null),i(t,g),B=!0},p($,w){const d={};w&1&&(d.name=$[1].name),w&1&&(d.current_name=$[1].name),n.$set(d),(!B||w&1)&&l!==(l=$[1].tournament_count+"")&&te(r,l);let p=f;f=q($),f===p?j[f].p($,w):(ae(),L(j[p],1,1,()=>{j[p]=null}),se(),_=j[f],_?_.p($,w):(_=j[f]=R[f]($),_.c()),H(_,1),_.m(t,g))},i($){B||(H(n.$$.fragment,$),H(_),B=!0)},o($){L(n.$$.fragment,$),L(_),B=!1},d($){$&&m(e),x(n),$&&m(t),j[f].d()}}}function Dt(u){let e,n,t,l,r,s=u[0],o=[];for(let f=0;f<s.length;f+=1)o[f]=Ie(qe(u,s,f));const a=f=>L(o[f],1,1,()=>{o[f]=null});return{c(){e=v("h2"),n=I("\u30C1\u30FC\u30E0\u5C65\u6B74"),t=P(),l=v("dl");for(let f=0;f<o.length;f+=1)o[f].c()},l(f){e=b(f,"H2",{});var _=k(e);n=C(_,"\u30C1\u30FC\u30E0\u5C65\u6B74"),_.forEach(m),t=M(f),l=b(f,"DL",{});var g=k(l);for(let B=0;B<o.length;B+=1)o[B].l(g);g.forEach(m)},m(f,_){Y(f,e,_),i(e,n),Y(f,t,_),Y(f,l,_);for(let g=0;g<o.length;g+=1)o[g].m(l,null);r=!0},p(f,[_]){if(_&1){s=f[0];let g;for(g=0;g<s.length;g+=1){const B=qe(f,s,g);o[g]?(o[g].p(B,_),H(o[g],1)):(o[g]=Ie(B),o[g].c(),H(o[g],1),o[g].m(l,null))}for(ae(),g=s.length;g<o.length;g+=1)a(g);se()}},i(f){if(!r){for(let _=0;_<s.length;_+=1)H(o[_]);r=!0}},o(f){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)L(o[_]);r=!1},d(f){f&&m(e),f&&m(t),f&&m(l),de(o,f)}}}function yt(u,e,n){let t;return me(u,wt,l=>n(0,t=l)),[t]}class Ht extends pe{constructor(e){super(),ge(this,e,yt,Dt,ve,{})}}function Ce(u,e,n){const t=u.slice();return t[2]=e[n],t}function Fe(u,e,n){const t=u.slice();return t[2]=e[n],t[4]=n,t}function Ue(u){let e,n,t,l;const r=[Nt,Bt],s=[];function o(a,f){return a[1]?0:1}return e=o(u),n=s[e]=r[e](u),{c(){n.c(),t=ne()},l(a){n.l(a),t=ne()},m(a,f){s[e].m(a,f),Y(a,t,f),l=!0},p(a,f){let _=e;e=o(a),e===_?s[e].p(a,f):(ae(),L(s[_],1,1,()=>{s[_]=null}),se(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),H(n,1),n.m(t.parentNode,t))},i(a){l||(H(n),l=!0)},o(a){L(n),l=!1},d(a){s[e].d(a),a&&m(t)}}}function Bt(u){let e,n,t,l,r,s,o,a,f,_,g,B,R,j,q,$,w,d,p,c,E,h,N,F=u[0].tournaments,y=[];for(let D=0;D<F.length;D+=1)y[D]=Ke(Ce(u,F,D));const U=D=>L(y[D],1,1,()=>{y[D]=null});return{c(){e=v("table"),n=v("thead"),t=v("tr"),l=v("th"),r=I("\u958B\u50AC\u65E5"),s=P(),o=v("th"),a=I("\u5927\u4F1A\u540D"),f=P(),_=v("th"),g=I("\u7D50\u679C"),B=P(),R=v("th"),j=I("rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),q=P(),$=v("th"),w=I("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),d=P(),p=v("th"),c=I("\u30E1\u30F3\u30D0\u30FC"),E=P(),h=v("tbody");for(let D=0;D<y.length;D+=1)y[D].c();this.h()},l(D){e=b(D,"TABLE",{});var O=k(e);n=b(O,"THEAD",{});var A=k(n);t=b(A,"TR",{});var J=k(t);l=b(J,"TH",{});var K=k(l);r=C(K,"\u958B\u50AC\u65E5"),K.forEach(m),s=M(J),o=b(J,"TH",{class:!0});var S=k(o);a=C(S,"\u5927\u4F1A\u540D"),S.forEach(m),f=M(J),_=b(J,"TH",{});var T=k(_);g=C(T,"\u7D50\u679C"),T.forEach(m),B=M(J),R=b(J,"TH",{colspan:!0});var V=k(R);j=C(V,"rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),V.forEach(m),q=M(J),$=b(J,"TH",{class:!0});var ee=k($);w=C(ee,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),ee.forEach(m),d=M(J),p=b(J,"TH",{class:!0});var Q=k(p);c=C(Q,"\u30E1\u30F3\u30D0\u30FC"),Q.forEach(m),J.forEach(m),A.forEach(m),E=M(O),h=b(O,"TBODY",{});var G=k(h);for(let le=0;le<y.length;le+=1)y[le].l(G);G.forEach(m),O.forEach(m),this.h()},h(){z(o,"class","tal"),z(R,"colspan","3"),z($,"class","tal"),z(p,"class","tal")},m(D,O){Y(D,e,O),i(e,n),i(n,t),i(t,l),i(l,r),i(t,s),i(t,o),i(o,a),i(t,f),i(t,_),i(_,g),i(t,B),i(t,R),i(R,j),i(t,q),i(t,$),i($,w),i(t,d),i(t,p),i(p,c),i(e,E),i(e,h);for(let A=0;A<y.length;A+=1)y[A].m(h,null);N=!0},p(D,O){if(O&1){F=D[0].tournaments;let A;for(A=0;A<F.length;A+=1){const J=Ce(D,F,A);y[A]?(y[A].p(J,O),H(y[A],1)):(y[A]=Ke(J),y[A].c(),H(y[A],1),y[A].m(h,null))}for(ae(),A=F.length;A<y.length;A+=1)U(A);se()}},i(D){if(!N){for(let O=0;O<F.length;O+=1)H(y[O]);N=!0}},o(D){y=y.filter(Boolean);for(let O=0;O<y.length;O+=1)L(y[O]);N=!1},d(D){D&&m(e),de(y,D)}}}function Nt(u){let e,n,t,l=u[0].tournaments,r=[];for(let o=0;o<l.length;o+=1)r[o]=Ve(Fe(u,l,o));const s=o=>L(r[o],1,1,()=>{r[o]=null});return{c(){e=v("table"),n=v("tbody");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=b(o,"TABLE",{});var a=k(e);n=b(a,"TBODY",{class:!0});var f=k(n);for(let _=0;_<r.length;_+=1)r[_].l(f);f.forEach(m),a.forEach(m),this.h()},h(){z(n,"class","double")},m(o,a){Y(o,e,a),i(e,n);for(let f=0;f<r.length;f+=1)r[f].m(n,null);t=!0},p(o,a){if(a&1){l=o[0].tournaments;let f;for(f=0;f<l.length;f+=1){const _=Fe(o,l,f);r[f]?(r[f].p(_,a),H(r[f],1)):(r[f]=Ve(_),r[f].c(),H(r[f],1),r[f].m(n,null))}for(ae(),f=l.length;f<r.length;f+=1)s(f);se()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)H(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)L(r[a]);t=!1},d(o){o&&m(e),de(r,o)}}}function Ke(u){let e,n,t,l,r,s,o=u[2].tournament_name+"",a,f,_,g,B,R,j,q=ie(u[2].rating)+"",$,w,d,p=ie(u[2].rank)+"",c,E,h,N=ie(u[2].total)+"",F,y,U,D,O,A,J=u[2].member_name+"",K,S,T,V,ee;return t=new De({props:{date:u[2].tournament_date}}),B=new Ee({props:{rank:u[2].team_result}}),D=new we({props:{name:u[2].team_name,current_name:u[2].team_current_name}}),T=new be({props:{players:u[2].mate_list}}),{c(){e=v("tr"),n=v("td"),W(t.$$.fragment),l=P(),r=v("td"),s=v("a"),a=I(o),_=P(),g=v("td"),W(B.$$.fragment),R=P(),j=v("td"),$=I(q),w=P(),d=v("td"),c=I(p),E=P(),h=v("td"),F=I(N),y=P(),U=v("td"),W(D.$$.fragment),O=P(),A=v("td"),K=I(J),S=I(", "),W(T.$$.fragment),V=P(),this.h()},l(Q){e=b(Q,"TR",{});var G=k(e);n=b(G,"TD",{});var le=k(n);X(t.$$.fragment,le),le.forEach(m),l=M(G),r=b(G,"TD",{class:!0});var oe=k(r);s=b(oe,"A",{href:!0});var re=k(s);a=C(re,o),re.forEach(m),oe.forEach(m),_=M(G),g=b(G,"TD",{});var fe=k(g);X(B.$$.fragment,fe),fe.forEach(m),R=M(G),j=b(G,"TD",{});var $e=k(j);$=C($e,q),$e.forEach(m),w=M(G),d=b(G,"TD",{class:!0});var _e=k(d);c=C(_e,p),_e.forEach(m),E=M(G),h=b(G,"TD",{class:!0});var Be=k(h);F=C(Be,N),Be.forEach(m),y=M(G),U=b(G,"TD",{class:!0});var Ne=k(U);X(D.$$.fragment,Ne),Ne.forEach(m),O=M(G),A=b(G,"TD",{class:!0});var Te=k(A);K=C(Te,J),S=C(Te,", "),X(T.$$.fragment,Te),Te.forEach(m),V=M(G),G.forEach(m),this.h()},h(){z(s,"href",f="#"+u[2].tournament_key),z(r,"class","tal"),z(d,"class","tar"),z(h,"class","tar"),z(U,"class","tal"),z(A,"class","tal")},m(Q,G){Y(Q,e,G),i(e,n),Z(t,n,null),i(e,l),i(e,r),i(r,s),i(s,a),i(e,_),i(e,g),Z(B,g,null),i(e,R),i(e,j),i(j,$),i(e,w),i(e,d),i(d,c),i(e,E),i(e,h),i(h,F),i(e,y),i(e,U),Z(D,U,null),i(e,O),i(e,A),i(A,K),i(A,S),Z(T,A,null),i(e,V),ee=!0},p(Q,G){const le={};G&1&&(le.date=Q[2].tournament_date),t.$set(le),(!ee||G&1)&&o!==(o=Q[2].tournament_name+"")&&te(a,o),(!ee||G&1&&f!==(f="#"+Q[2].tournament_key))&&z(s,"href",f);const oe={};G&1&&(oe.rank=Q[2].team_result),B.$set(oe),(!ee||G&1)&&q!==(q=ie(Q[2].rating)+"")&&te($,q),(!ee||G&1)&&p!==(p=ie(Q[2].rank)+"")&&te(c,p),(!ee||G&1)&&N!==(N=ie(Q[2].total)+"")&&te(F,N);const re={};G&1&&(re.name=Q[2].team_name),G&1&&(re.current_name=Q[2].team_current_name),D.$set(re),(!ee||G&1)&&J!==(J=Q[2].member_name+"")&&te(K,J);const fe={};G&1&&(fe.players=Q[2].mate_list),T.$set(fe)},i(Q){ee||(H(t.$$.fragment,Q),H(B.$$.fragment,Q),H(D.$$.fragment,Q),H(T.$$.fragment,Q),ee=!0)},o(Q){L(t.$$.fragment,Q),L(B.$$.fragment,Q),L(D.$$.fragment,Q),L(T.$$.fragment,Q),ee=!1},d(Q){Q&&m(e),x(t),x(B),x(D),x(T)}}}function jt(u){let e,n=u[4]+1+"",t;return{c(){e=I("#"),t=I(n)},l(l){e=C(l,"#"),t=C(l,n)},m(l,r){Y(l,e,r),Y(l,t,r)},p:ke,d(l){l&&m(e),l&&m(t)}}}function Rt(u){let e=ie(u[2].rating)+"",n,t,l,r;return l=new ce({props:{$$slots:{default:[At]},$$scope:{ctx:u}}}),{c(){n=I(e),t=P(),W(l.$$.fragment)},l(s){n=C(s,e),t=M(s),X(l.$$.fragment,s)},m(s,o){Y(s,n,o),Y(s,t,o),Z(l,s,o),r=!0},p(s,o){(!r||o&1)&&e!==(e=ie(s[2].rating)+"")&&te(n,e);const a={};o&129&&(a.$$scope={dirty:o,ctx:s}),l.$set(a)},i(s){r||(H(l.$$.fragment,s),r=!0)},o(s){L(l.$$.fragment,s),r=!1},d(s){s&&m(n),s&&m(t),x(l,s)}}}function Ot(u){let e;return{c(){e=I("-")},l(n){e=C(n,"-")},m(n,t){Y(n,e,t)},p:ke,i:ke,o:ke,d(n){n&&m(e)}}}function At(u){let e,n=ie(u[2].rank)+"",t,l,r=ie(u[2].total)+"",s,o;return{c(){e=I("("),t=I(n),l=I("\u4F4D / "),s=I(r),o=I("\u4EBA)")},l(a){e=C(a,"("),t=C(a,n),l=C(a,"\u4F4D / "),s=C(a,r),o=C(a,"\u4EBA)")},m(a,f){Y(a,e,f),Y(a,t,f),Y(a,l,f),Y(a,s,f),Y(a,o,f)},p(a,f){f&1&&n!==(n=ie(a[2].rank)+"")&&te(t,n),f&1&&r!==(r=ie(a[2].total)+"")&&te(s,r)},d(a){a&&m(e),a&&m(t),a&&m(l),a&&m(s),a&&m(o)}}}function Ve(u){let e,n,t,l,r,s,o,a,f,_,g,B,R,j,q,$,w=u[2].tournament_name+"",d,p,c,E;t=new ce({props:{$$slots:{default:[jt]},$$scope:{ctx:u}}}),r=new De({props:{date:u[2].tournament_date,spacing:!1}}),a=new Ee({props:{rank:u[2].team_result}});const h=[Ot,Rt],N=[];function F(y,U){return y[2].rating==null?0:1}return g=F(u),B=N[g]=h[g](u),{c(){e=v("tr"),n=v("td"),W(t.$$.fragment),l=P(),W(r.$$.fragment),s=P(),o=v("td"),W(a.$$.fragment),f=P(),_=v("td"),B.c(),R=P(),j=v("tr"),q=v("td"),$=v("a"),d=I(w),c=P(),this.h()},l(y){e=b(y,"TR",{});var U=k(e);n=b(U,"TD",{class:!0});var D=k(n);X(t.$$.fragment,D),l=M(D),X(r.$$.fragment,D),D.forEach(m),s=M(U),o=b(U,"TD",{class:!0});var O=k(o);X(a.$$.fragment,O),f=M(O),O.forEach(m),_=b(U,"TD",{class:!0});var A=k(_);B.l(A),A.forEach(m),U.forEach(m),R=M(y),j=b(y,"TR",{});var J=k(j);q=b(J,"TD",{colspan:!0,class:!0});var K=k(q);$=b(K,"A",{href:!0});var S=k($);d=C(S,w),S.forEach(m),K.forEach(m),c=M(J),J.forEach(m),this.h()},h(){z(n,"class","tal"),z(o,"class","nw"),z(_,"class","nw"),z($,"href",p="#"+u[2].tournament_key),z(q,"colspan","3"),z(q,"class","tal")},m(y,U){Y(y,e,U),i(e,n),Z(t,n,null),i(n,l),Z(r,n,null),i(e,s),i(e,o),Z(a,o,null),i(o,f),i(e,_),N[g].m(_,null),Y(y,R,U),Y(y,j,U),i(j,q),i(q,$),i($,d),i(j,c),E=!0},p(y,U){const D={};U&128&&(D.$$scope={dirty:U,ctx:y}),t.$set(D);const O={};U&1&&(O.date=y[2].tournament_date),r.$set(O);const A={};U&1&&(A.rank=y[2].team_result),a.$set(A);let J=g;g=F(y),g===J?N[g].p(y,U):(ae(),L(N[J],1,1,()=>{N[J]=null}),se(),B=N[g],B?B.p(y,U):(B=N[g]=h[g](y),B.c()),H(B,1),B.m(_,null)),(!E||U&1)&&w!==(w=y[2].tournament_name+"")&&te(d,w),(!E||U&1&&p!==(p="#"+y[2].tournament_key))&&z($,"href",p)},i(y){E||(H(t.$$.fragment,y),H(r.$$.fragment,y),H(a.$$.fragment,y),H(B),E=!0)},o(y){L(t.$$.fragment,y),L(r.$$.fragment,y),L(a.$$.fragment,y),L(B),E=!1},d(y){y&&m(e),x(t),x(r),x(a),N[g].d(),y&&m(R),y&&m(j)}}}function Lt(u){let e,n,t=u[0]&&Ue(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,r){t&&t.m(l,r),Y(l,e,r),n=!0},p(l,[r]){l[0]?t?(t.p(l,r),r&1&&H(t,1)):(t=Ue(l),t.c(),H(t,1),t.m(e.parentNode,e)):t&&(ae(),L(t,1,1,()=>{t=null}),se())},i(l){n||(H(t),n=!0)},o(l){L(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function ie(u){return u==null?"-":u.toLocaleString()}function St(u,e,n){let t,l;return me(u,he,r=>n(0,t=r)),me(u,ft,r=>n(1,l=r)),[t,l]}class Pt extends pe{constructor(e){super(),ge(this,e,St,Lt,ve,{})}}function ze(u,e,n){const t=u.slice();return t[2]=e[n],t}function Ge(u,e,n){const t=u.slice();return t[5]=e[n],t}function Je(u,e,n){const t=u.slice();return t[5]=e[n],t}function Mt(u){let e,n,t,l,r,s,o,a,f,_,g,B,R,j,q,$,w,d,p,c,E,h,N,F,y,U,D,O=u[0].matches,A=[];for(let K=0;K<O.length;K+=1)A[K]=We(Ge(u,O,K));const J=K=>L(A[K],1,1,()=>{A[K]=null});return{c(){e=v("table"),n=v("thead"),t=v("tr"),l=v("th"),r=I("\u30D6\u30E9\u30B1\u30C3\u30C8"),s=P(),o=v("th"),a=I("\u30E9\u30A6\u30F3\u30C9"),f=P(),_=v("th"),g=I("\u52DD\u6557"),B=P(),R=v("th"),j=I("\u30B9\u30B3\u30A2"),q=P(),$=v("th"),w=I("\u5BFE\u6226\u76F8\u624B"),d=P(),p=v("th"),c=I("\u9806\u4F4D"),E=P(),h=v("th"),N=I("\u30E1\u30F3\u30D0\u30FC"),F=P(),y=v("tbody");for(let K=0;K<A.length;K+=1)A[K].c();U=P(),this.h()},l(K){e=b(K,"TABLE",{});var S=k(e);n=b(S,"THEAD",{});var T=k(n);t=b(T,"TR",{});var V=k(t);l=b(V,"TH",{style:!0});var ee=k(l);r=C(ee,"\u30D6\u30E9\u30B1\u30C3\u30C8"),ee.forEach(m),s=M(V),o=b(V,"TH",{style:!0});var Q=k(o);a=C(Q,"\u30E9\u30A6\u30F3\u30C9"),Q.forEach(m),f=M(V),_=b(V,"TH",{style:!0});var G=k(_);g=C(G,"\u52DD\u6557"),G.forEach(m),B=M(V),R=b(V,"TH",{style:!0});var le=k(R);j=C(le,"\u30B9\u30B3\u30A2"),le.forEach(m),q=M(V),$=b(V,"TH",{style:!0});var oe=k($);w=C(oe,"\u5BFE\u6226\u76F8\u624B"),oe.forEach(m),d=M(V),p=b(V,"TH",{style:!0});var re=k(p);c=C(re,"\u9806\u4F4D"),re.forEach(m),E=M(V),h=b(V,"TH",{style:!0});var fe=k(h);N=C(fe,"\u30E1\u30F3\u30D0\u30FC"),fe.forEach(m),V.forEach(m),T.forEach(m),F=M(S),y=b(S,"TBODY",{});var $e=k(y);for(let _e=0;_e<A.length;_e+=1)A[_e].l($e);$e.forEach(m),U=M(S),S.forEach(m),this.h()},h(){ue(l,"width","6%"),ue(o,"width","6%"),ue(_,"width","6%"),ue(R,"width","6%"),ue($,"width","23%"),ue($,"text-align","left"),ue(p,"width","6%"),ue(h,"width","47%"),ue(h,"text-align","left")},m(K,S){Y(K,e,S),i(e,n),i(n,t),i(t,l),i(l,r),i(t,s),i(t,o),i(o,a),i(t,f),i(t,_),i(_,g),i(t,B),i(t,R),i(R,j),i(t,q),i(t,$),i($,w),i(t,d),i(t,p),i(p,c),i(t,E),i(t,h),i(h,N),i(e,F),i(e,y);for(let T=0;T<A.length;T+=1)A[T].m(y,null);i(e,U),D=!0},p(K,S){if(S&1){O=K[0].matches;let T;for(T=0;T<O.length;T+=1){const V=Ge(K,O,T);A[T]?(A[T].p(V,S),H(A[T],1)):(A[T]=We(V),A[T].c(),H(A[T],1),A[T].m(y,null))}for(ae(),T=O.length;T<A.length;T+=1)J(T);se()}},i(K){if(!D){for(let S=0;S<O.length;S+=1)H(A[S]);D=!0}},o(K){A=A.filter(Boolean);for(let S=0;S<A.length;S+=1)L(A[S]);D=!1},d(K){K&&m(e),de(A,K)}}}function Yt(u){let e,n,t,l,r=u[0].matches,s=[];for(let a=0;a<r.length;a+=1)s[a]=Ze(Je(u,r,a));const o=a=>L(s[a],1,1,()=>{s[a]=null});return{c(){e=v("table"),n=v("tbody");for(let a=0;a<s.length;a+=1)s[a].c();t=P(),this.h()},l(a){e=b(a,"TABLE",{});var f=k(e);n=b(f,"TBODY",{class:!0});var _=k(n);for(let g=0;g<s.length;g+=1)s[g].l(_);_.forEach(m),t=M(f),f.forEach(m),this.h()},h(){z(n,"class","triple")},m(a,f){Y(a,e,f),i(e,n);for(let _=0;_<s.length;_+=1)s[_].m(n,null);i(e,t),l=!0},p(a,f){if(f&1){r=a[0].matches;let _;for(_=0;_<r.length;_+=1){const g=Je(a,r,_);s[_]?(s[_].p(g,f),H(s[_],1)):(s[_]=Ze(g),s[_].c(),H(s[_],1),s[_].m(n,null))}for(ae(),_=r.length;_<s.length;_+=1)o(_);se()}},i(a){if(!l){for(let f=0;f<r.length;f+=1)H(s[f]);l=!0}},o(a){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)L(s[f]);l=!1},d(a){a&&m(e),de(s,a)}}}function Qe(u){let e,n,t=u[5].bracket+"",l,r,s,o=u[5].round+"",a,f,_,g,B,R,j=u[5].score_text+"",q,$,w,d,p,c,E,h,N,F,y,U;return g=new ut({props:{win:u[5].wl}}),d=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),E=new Ee({props:{rank:u[5].opponent_team_rank}}),F=new be({props:{players:u[5].opponents_list}}),{c(){e=v("tr"),n=v("td"),l=I(t),r=P(),s=v("td"),a=I(o),f=P(),_=v("td"),W(g.$$.fragment),B=P(),R=v("td"),q=I(j),$=P(),w=v("td"),W(d.$$.fragment),p=P(),c=v("td"),W(E.$$.fragment),h=P(),N=v("td"),W(F.$$.fragment),y=P(),this.h()},l(D){e=b(D,"TR",{});var O=k(e);n=b(O,"TD",{});var A=k(n);l=C(A,t),A.forEach(m),r=M(O),s=b(O,"TD",{});var J=k(s);a=C(J,o),J.forEach(m),f=M(O),_=b(O,"TD",{});var K=k(_);X(g.$$.fragment,K),K.forEach(m),B=M(O),R=b(O,"TD",{});var S=k(R);q=C(S,j),S.forEach(m),$=M(O),w=b(O,"TD",{class:!0});var T=k(w);X(d.$$.fragment,T),T.forEach(m),p=M(O),c=b(O,"TD",{});var V=k(c);X(E.$$.fragment,V),V.forEach(m),h=M(O),N=b(O,"TD",{class:!0});var ee=k(N);X(F.$$.fragment,ee),ee.forEach(m),y=M(O),O.forEach(m),this.h()},h(){z(w,"class","tal"),z(N,"class","tal")},m(D,O){Y(D,e,O),i(e,n),i(n,l),i(e,r),i(e,s),i(s,a),i(e,f),i(e,_),Z(g,_,null),i(e,B),i(e,R),i(R,q),i(e,$),i(e,w),Z(d,w,null),i(e,p),i(e,c),Z(E,c,null),i(e,h),i(e,N),Z(F,N,null),i(e,y),U=!0},p(D,O){(!U||O&1)&&t!==(t=D[5].bracket+"")&&te(l,t),(!U||O&1)&&o!==(o=D[5].round+"")&&te(a,o);const A={};O&1&&(A.win=D[5].wl),g.$set(A),(!U||O&1)&&j!==(j=D[5].score_text+"")&&te(q,j);const J={};O&1&&(J.name=D[5].opponent_team_name),O&1&&(J.current_name=D[5].opponent_team_current_name),d.$set(J);const K={};O&1&&(K.rank=D[5].opponent_team_rank),E.$set(K);const S={};O&1&&(S.players=D[5].opponents_list),F.$set(S)},i(D){U||(H(g.$$.fragment,D),H(d.$$.fragment,D),H(E.$$.fragment,D),H(F.$$.fragment,D),U=!0)},o(D){L(g.$$.fragment,D),L(d.$$.fragment,D),L(E.$$.fragment,D),L(F.$$.fragment,D),U=!1},d(D){D&&m(e),x(g),x(d),x(E),x(F)}}}function We(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&Qe(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,r){t&&t.m(l,r),Y(l,e,r),n=!0},p(l,r){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,r),r&1&&H(t,1)):(t=Qe(l),t.c(),H(t,1),t.m(e.parentNode,e)):t&&(ae(),L(t,1,1,()=>{t=null}),se())},i(l){n||(H(t),n=!0)},o(l){L(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function Xe(u){let e,n,t,l,r,s=u[5].bracket+"",o,a,f,_,g=u[5].round+"",B,R,j,q=u[5].score_text+"",$,w,d,p,c,E,h,N,F,y,U,D,O,A,J,K;return t=new ut({props:{win:u[5].wl}}),f=new ce({props:{t:"R"}}),c=new ce({props:{t:"vs."}}),h=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),y=new Ee({props:{rank:u[5].opponent_team_rank}}),A=new be({props:{players:u[5].opponents_list}}),{c(){e=v("tr"),n=v("td"),W(t.$$.fragment),l=P(),r=v("td"),o=I(s),a=P(),W(f.$$.fragment),_=P(),B=I(g),R=P(),j=v("td"),$=I(q),w=P(),d=v("tr"),p=v("td"),W(c.$$.fragment),E=P(),W(h.$$.fragment),N=P(),F=v("td"),W(y.$$.fragment),U=P(),D=v("tr"),O=v("td"),W(A.$$.fragment),J=P(),this.h()},l(S){e=b(S,"TR",{});var T=k(e);n=b(T,"TD",{class:!0,rowspan:!0,style:!0});var V=k(n);X(t.$$.fragment,V),V.forEach(m),l=M(T),r=b(T,"TD",{class:!0});var ee=k(r);o=C(ee,s),a=M(ee),X(f.$$.fragment,ee),_=M(ee),B=C(ee,g),ee.forEach(m),R=M(T),j=b(T,"TD",{class:!0});var Q=k(j);$=C(Q,q),Q.forEach(m),T.forEach(m),w=M(S),d=b(S,"TR",{});var G=k(d);p=b(G,"TD",{class:!0});var le=k(p);X(c.$$.fragment,le),E=M(le),X(h.$$.fragment,le),le.forEach(m),N=M(G),F=b(G,"TD",{class:!0});var oe=k(F);X(y.$$.fragment,oe),oe.forEach(m),G.forEach(m),U=M(S),D=b(S,"TR",{});var re=k(D);O=b(re,"TD",{colspan:!0,class:!0,style:!0});var fe=k(O);X(A.$$.fragment,fe),fe.forEach(m),J=M(re),re.forEach(m),this.h()},h(){z(n,"class","tac"),z(n,"rowspan","3"),ue(n,"vertical-align","middle"),z(r,"class","tal"),z(j,"class","nw"),z(p,"class","tal"),z(F,"class","nw"),z(O,"colspan","2"),z(O,"class","tal"),ue(O,"padding-left","1em")},m(S,T){Y(S,e,T),i(e,n),Z(t,n,null),i(e,l),i(e,r),i(r,o),i(r,a),Z(f,r,null),i(r,_),i(r,B),i(e,R),i(e,j),i(j,$),Y(S,w,T),Y(S,d,T),i(d,p),Z(c,p,null),i(p,E),Z(h,p,null),i(d,N),i(d,F),Z(y,F,null),Y(S,U,T),Y(S,D,T),i(D,O),Z(A,O,null),i(D,J),K=!0},p(S,T){const V={};T&1&&(V.win=S[5].wl),t.$set(V),(!K||T&1)&&s!==(s=S[5].bracket+"")&&te(o,s),(!K||T&1)&&g!==(g=S[5].round+"")&&te(B,g),(!K||T&1)&&q!==(q=S[5].score_text+"")&&te($,q);const ee={};T&1&&(ee.name=S[5].opponent_team_name),T&1&&(ee.current_name=S[5].opponent_team_current_name),h.$set(ee);const Q={};T&1&&(Q.rank=S[5].opponent_team_rank),y.$set(Q);const G={};T&1&&(G.players=S[5].opponents_list),A.$set(G)},i(S){K||(H(t.$$.fragment,S),H(f.$$.fragment,S),H(c.$$.fragment,S),H(h.$$.fragment,S),H(y.$$.fragment,S),H(A.$$.fragment,S),K=!0)},o(S){L(t.$$.fragment,S),L(f.$$.fragment,S),L(c.$$.fragment,S),L(h.$$.fragment,S),L(y.$$.fragment,S),L(A.$$.fragment,S),K=!1},d(S){S&&m(e),x(t),x(f),S&&m(w),S&&m(d),x(c),x(h),x(y),S&&m(U),S&&m(D),x(A)}}}function Ze(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&Xe(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,r){t&&t.m(l,r),Y(l,e,r),n=!0},p(l,r){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,r),r&1&&H(t,1)):(t=Xe(l),t.c(),H(t,1),t.m(e.parentNode,e)):t&&(ae(),L(t,1,1,()=>{t=null}),se())},i(l){n||(H(t),n=!0)},o(l){L(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function xe(u){let e,n,t,l,r,s,o,a,f,_,g,B,R,j,q,$,w=u[2].member_name+"",d,p,c,E,h,N,F,y,U,D,O,A;n=new pt({props:{name:u[2].tournament_name,key:u[2].tournament_key,official:!1}}),f=new De({props:{date:u[2].tournament_date}}),R=new we({props:{name:u[2].team_name,current_name:u[2].team_name}}),c=new be({props:{players:u[2].mate_list}}),F=new Ee({props:{rank:u[2].team_result}});const J=[Yt,Mt],K=[];function S(T,V){return T[1]?0:1}return U=S(u),D=K[U]=J[U](u),{c(){e=v("h3"),W(n.$$.fragment),l=P(),r=v("dl"),s=v("dt"),o=I("\u958B\u50AC\u65E5"),a=v("dd"),W(f.$$.fragment),_=v("dt"),g=I("\u30C1\u30FC\u30E0"),B=v("dd"),W(R.$$.fragment),j=v("dt"),q=I("\u30E1\u30F3\u30D0\u30FC"),$=v("dd"),d=I(w),p=I(", "),W(c.$$.fragment),E=v("dt"),h=I("\u7D50\u679C"),N=v("dd"),W(F.$$.fragment),y=P(),D.c(),O=ne(),this.h()},l(T){e=b(T,"H3",{id:!0});var V=k(e);X(n.$$.fragment,V),V.forEach(m),l=M(T),r=b(T,"DL",{});var ee=k(r);s=b(ee,"DT",{});var Q=k(s);o=C(Q,"\u958B\u50AC\u65E5"),Q.forEach(m),a=b(ee,"DD",{});var G=k(a);X(f.$$.fragment,G),G.forEach(m),_=b(ee,"DT",{});var le=k(_);g=C(le,"\u30C1\u30FC\u30E0"),le.forEach(m),B=b(ee,"DD",{});var oe=k(B);X(R.$$.fragment,oe),oe.forEach(m),j=b(ee,"DT",{});var re=k(j);q=C(re,"\u30E1\u30F3\u30D0\u30FC"),re.forEach(m),$=b(ee,"DD",{});var fe=k($);d=C(fe,w),p=C(fe,", "),X(c.$$.fragment,fe),fe.forEach(m),E=b(ee,"DT",{});var $e=k(E);h=C($e,"\u7D50\u679C"),$e.forEach(m),N=b(ee,"DD",{});var _e=k(N);X(F.$$.fragment,_e),_e.forEach(m),ee.forEach(m),y=M(T),D.l(T),O=ne(),this.h()},h(){z(e,"id",t=u[2].tournament_key)},m(T,V){Y(T,e,V),Z(n,e,null),Y(T,l,V),Y(T,r,V),i(r,s),i(s,o),i(r,a),Z(f,a,null),i(r,_),i(_,g),i(r,B),Z(R,B,null),i(r,j),i(j,q),i(r,$),i($,d),i($,p),Z(c,$,null),i(r,E),i(E,h),i(r,N),Z(F,N,null),Y(T,y,V),K[U].m(T,V),Y(T,O,V),A=!0},p(T,V){const ee={};V&1&&(ee.name=T[2].tournament_name),V&1&&(ee.key=T[2].tournament_key),n.$set(ee),(!A||V&1&&t!==(t=T[2].tournament_key))&&z(e,"id",t);const Q={};V&1&&(Q.date=T[2].tournament_date),f.$set(Q);const G={};V&1&&(G.name=T[2].team_name),V&1&&(G.current_name=T[2].team_name),R.$set(G),(!A||V&1)&&w!==(w=T[2].member_name+"")&&te(d,w);const le={};V&1&&(le.players=T[2].mate_list),c.$set(le);const oe={};V&1&&(oe.rank=T[2].team_result),F.$set(oe);let re=U;U=S(T),U===re?K[U].p(T,V):(ae(),L(K[re],1,1,()=>{K[re]=null}),se(),D=K[U],D?D.p(T,V):(D=K[U]=J[U](T),D.c()),H(D,1),D.m(O.parentNode,O))},i(T){A||(H(n.$$.fragment,T),H(f.$$.fragment,T),H(R.$$.fragment,T),H(c.$$.fragment,T),H(F.$$.fragment,T),H(D),A=!0)},o(T){L(n.$$.fragment,T),L(f.$$.fragment,T),L(R.$$.fragment,T),L(c.$$.fragment,T),L(F.$$.fragment,T),L(D),A=!1},d(T){T&&m(e),x(n),T&&m(l),T&&m(r),x(f),x(R),x(c),x(F),T&&m(y),K[U].d(T),T&&m(O)}}}function qt(u){let e,n,t=u[0].tournaments,l=[];for(let s=0;s<t.length;s+=1)l[s]=xe(ze(u,t,s));const r=s=>L(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ne()},l(s){for(let o=0;o<l.length;o+=1)l[o].l(s);e=ne()},m(s,o){for(let a=0;a<l.length;a+=1)l[a].m(s,o);Y(s,e,o),n=!0},p(s,[o]){if(o&3){t=s[0].tournaments;let a;for(a=0;a<t.length;a+=1){const f=ze(s,t,a);l[a]?(l[a].p(f,o),H(l[a],1)):(l[a]=xe(f),l[a].c(),H(l[a],1),l[a].m(e.parentNode,e))}for(ae(),a=t.length;a<l.length;a+=1)r(a);se()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)H(l[o]);n=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)L(l[o]);n=!1},d(s){de(l,s),s&&m(e)}}}function It(u,e,n){let t,l;return me(u,he,r=>n(0,t=r)),me(u,ft,r=>n(1,l=r)),[t,l]}class Ct extends pe{constructor(e){super(),ge(this,e,It,qt,ve,{})}}const Ft=He(he,u=>{if(u==null)return[];const e={},n=[];for(const r of u.tournaments){const s={key:r.tournament_key,win:0,lose:0};for(const o of u.matches)o.tnmt_key===r.tournament_key&&(o.opponent_team_key===o.loser_key?s.win+=1:s.lose+=1);for(const o of r.mate_list)e[o]===void 0?e[o]={name:o,tournaments:[r.tournament_key]}:e[o].tournaments.push(r.tournament_key);n.push(s)}const t=Object.values(e);return[...new Set(Object.values(e).map(r=>r.tournaments.join("	")))].map(r=>r.split("	")).sort((r,s)=>s.length-r.length).map(r=>{const s=n.filter(o=>r.includes(o.key));return{names:t.filter(o=>o.tournaments.sort().join("	")===r.sort().join("	")).map(o=>o.name),entry:r.length,win:s.reduce((o,a)=>o+a.win,0),lose:s.reduce((o,a)=>o+a.lose,0)}})});function et(u,e,n){const t=u.slice();return t[1]=e[n],t}function tt(u){let e,n,t=u[1].entry+"",l,r,s,o,a=u[1].win+"",f,_,g,B=u[1].lose+"",R,j,q,$,w,d,p;return r=new ce({props:{t:" \u5927\u4F1A"}}),_=new ce({props:{t:" \u52DD"}}),j=new ce({props:{t:" \u6557"}}),w=new be({props:{players:u[1].names}}),{c(){e=v("tr"),n=v("td"),l=I(t),W(r.$$.fragment),s=P(),o=v("td"),f=I(a),W(_.$$.fragment),g=P(),R=I(B),W(j.$$.fragment),q=P(),$=v("td"),W(w.$$.fragment),d=P(),this.h()},l(c){e=b(c,"TR",{});var E=k(e);n=b(E,"TD",{class:!0});var h=k(n);l=C(h,t),X(r.$$.fragment,h),h.forEach(m),s=M(E),o=b(E,"TD",{class:!0});var N=k(o);f=C(N,a),X(_.$$.fragment,N),g=M(N),R=C(N,B),X(j.$$.fragment,N),N.forEach(m),q=M(E),$=b(E,"TD",{class:!0});var F=k($);X(w.$$.fragment,F),F.forEach(m),d=M(E),E.forEach(m),this.h()},h(){z(n,"class","nw"),z(o,"class","nw"),z($,"class","tal")},m(c,E){Y(c,e,E),i(e,n),i(n,l),Z(r,n,null),i(e,s),i(e,o),i(o,f),Z(_,o,null),i(o,g),i(o,R),Z(j,o,null),i(e,q),i(e,$),Z(w,$,null),i(e,d),p=!0},p(c,E){(!p||E&1)&&t!==(t=c[1].entry+"")&&te(l,t),(!p||E&1)&&a!==(a=c[1].win+"")&&te(f,a),(!p||E&1)&&B!==(B=c[1].lose+"")&&te(R,B);const h={};E&1&&(h.players=c[1].names),w.$set(h)},i(c){p||(H(r.$$.fragment,c),H(_.$$.fragment,c),H(j.$$.fragment,c),H(w.$$.fragment,c),p=!0)},o(c){L(r.$$.fragment,c),L(_.$$.fragment,c),L(j.$$.fragment,c),L(w.$$.fragment,c),p=!1},d(c){c&&m(e),x(r),x(_),x(j),x(w)}}}function Ut(u){let e,n,t,l,r,s,o,a,f,_,g,B,R,j,q,$,w=u[0],d=[];for(let c=0;c<w.length;c+=1)d[c]=tt(et(u,w,c));const p=c=>L(d[c],1,1,()=>{d[c]=null});return{c(){e=v("h3"),n=I("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),t=P(),l=v("table"),r=v("thead"),s=v("tr"),o=v("th"),a=I("\u540C\u30C1\u30FC\u30E0"),f=P(),_=v("th"),g=I("\u6210\u7E3E"),B=P(),R=v("th"),j=P(),q=v("tbody");for(let c=0;c<d.length;c+=1)d[c].c();this.h()},l(c){e=b(c,"H3",{});var E=k(e);n=C(E,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),E.forEach(m),t=M(c),l=b(c,"TABLE",{});var h=k(l);r=b(h,"THEAD",{});var N=k(r);s=b(N,"TR",{});var F=k(s);o=b(F,"TH",{class:!0,style:!0});var y=k(o);a=C(y,"\u540C\u30C1\u30FC\u30E0"),y.forEach(m),f=M(F),_=b(F,"TH",{class:!0,style:!0});var U=k(_);g=C(U,"\u6210\u7E3E"),U.forEach(m),B=M(F),R=b(F,"TH",{}),k(R).forEach(m),F.forEach(m),N.forEach(m),j=M(h),q=b(h,"TBODY",{});var D=k(q);for(let O=0;O<d.length;O+=1)d[O].l(D);D.forEach(m),h.forEach(m),this.h()},h(){z(o,"class","nw"),ue(o,"width","5em"),z(_,"class","nw"),ue(_,"width","7em")},m(c,E){Y(c,e,E),i(e,n),Y(c,t,E),Y(c,l,E),i(l,r),i(r,s),i(s,o),i(o,a),i(s,f),i(s,_),i(_,g),i(s,B),i(s,R),i(l,j),i(l,q);for(let h=0;h<d.length;h+=1)d[h].m(q,null);$=!0},p(c,[E]){if(E&1){w=c[0];let h;for(h=0;h<w.length;h+=1){const N=et(c,w,h);d[h]?(d[h].p(N,E),H(d[h],1)):(d[h]=tt(N),d[h].c(),H(d[h],1),d[h].m(q,null))}for(ae(),h=w.length;h<d.length;h+=1)p(h);se()}},i(c){if(!$){for(let E=0;E<w.length;E+=1)H(d[E]);$=!0}},o(c){d=d.filter(Boolean);for(let E=0;E<d.length;E+=1)L(d[E]);$=!1},d(c){c&&m(e),c&&m(t),c&&m(l),de(d,c)}}}function Kt(u,e,n){let t;return me(u,Ft,l=>n(0,t=l)),[t]}class Vt extends pe{constructor(e){super(),ge(this,e,Kt,Ut,ve,{})}}const zt=He(he,u=>{if(u==null)return[];const e={};for(const t of u.matches)for(const l of t.opponents_list){const r=t.opponent_team_key===t.loser_key,s=`${t.tnmt_key}/${t.bracket}/${t.round}`;e[l]===void 0?e[l]={name:l,win:r?1:0,lose:r?0:1,matches:[s]}:(e[l].matches.push(s),r?e[l].win+=1:e[l].lose+=1)}const n=Object.values(e);return[...new Set(Object.values(e).map(t=>t.matches.join("	")))].map(t=>t.split("	")).sort((t,l)=>l.length-t.length).filter(t=>t.length>=3).map(t=>{const l=n.filter(r=>r.matches.join("	")===t.join("	"));return{names:l.map(r=>r.name),win:l[0].win,lose:l[0].lose}}).sort((t,l)=>l.win-t.win)});function lt(u,e,n){const t=u.slice();return t[1]=e[n],t}function nt(u){let e,n,t=u[1].win+"",l,r,s,o,a=u[1].lose+"",f,_,g,B,R,j,q,$;return s=new ce({props:{t:"\u52DD"}}),g=new ce({props:{t:"\u6557"}}),j=new be({props:{players:u[1].names}}),{c(){e=v("tr"),n=v("td"),l=I(t),r=P(),W(s.$$.fragment),o=P(),f=I(a),_=P(),W(g.$$.fragment),B=P(),R=v("td"),W(j.$$.fragment),q=P(),this.h()},l(w){e=b(w,"TR",{});var d=k(e);n=b(d,"TD",{class:!0});var p=k(n);l=C(p,t),r=M(p),X(s.$$.fragment,p),o=M(p),f=C(p,a),_=M(p),X(g.$$.fragment,p),p.forEach(m),B=M(d),R=b(d,"TD",{class:!0});var c=k(R);X(j.$$.fragment,c),c.forEach(m),q=M(d),d.forEach(m),this.h()},h(){z(n,"class","nw"),z(R,"class","tal")},m(w,d){Y(w,e,d),i(e,n),i(n,l),i(n,r),Z(s,n,null),i(n,o),i(n,f),i(n,_),Z(g,n,null),i(e,B),i(e,R),Z(j,R,null),i(e,q),$=!0},p(w,d){(!$||d&1)&&t!==(t=w[1].win+"")&&te(l,t),(!$||d&1)&&a!==(a=w[1].lose+"")&&te(f,a);const p={};d&1&&(p.players=w[1].names),j.$set(p)},i(w){$||(H(s.$$.fragment,w),H(g.$$.fragment,w),H(j.$$.fragment,w),$=!0)},o(w){L(s.$$.fragment,w),L(g.$$.fragment,w),L(j.$$.fragment,w),$=!1},d(w){w&&m(e),x(s),x(g),x(j)}}}function Gt(u){let e,n,t,l,r,s,o,a,f,_,g,B,R,j,q=u[0],$=[];for(let d=0;d<q.length;d+=1)$[d]=nt(lt(u,q,d));const w=d=>L($[d],1,1,()=>{$[d]=null});return{c(){e=v("h3"),n=I("\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),t=P(),l=v("table"),r=v("thead"),s=v("tr"),o=v("th"),a=I("\u901A\u7B97\u6210\u7E3E"),f=P(),_=v("th"),g=I("\u30D7\u30EC\u30A4\u30E4\u30FC"),B=P(),R=v("tbody");for(let d=0;d<$.length;d+=1)$[d].c();this.h()},l(d){e=b(d,"H3",{});var p=k(e);n=C(p,"\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),p.forEach(m),t=M(d),l=b(d,"TABLE",{});var c=k(l);r=b(c,"THEAD",{});var E=k(r);s=b(E,"TR",{});var h=k(s);o=b(h,"TH",{class:!0,style:!0});var N=k(o);a=C(N,"\u901A\u7B97\u6210\u7E3E"),N.forEach(m),f=M(h),_=b(h,"TH",{class:!0});var F=k(_);g=C(F,"\u30D7\u30EC\u30A4\u30E4\u30FC"),F.forEach(m),h.forEach(m),E.forEach(m),B=M(c),R=b(c,"TBODY",{});var y=k(R);for(let U=0;U<$.length;U+=1)$[U].l(y);y.forEach(m),c.forEach(m),this.h()},h(){z(o,"class","nw"),ue(o,"width","7em"),z(_,"class","tal")},m(d,p){Y(d,e,p),i(e,n),Y(d,t,p),Y(d,l,p),i(l,r),i(r,s),i(s,o),i(o,a),i(s,f),i(s,_),i(_,g),i(l,B),i(l,R);for(let c=0;c<$.length;c+=1)$[c].m(R,null);j=!0},p(d,[p]){if(p&1){q=d[0];let c;for(c=0;c<q.length;c+=1){const E=lt(d,q,c);$[c]?($[c].p(E,p),H($[c],1)):($[c]=nt(E),$[c].c(),H($[c],1),$[c].m(R,null))}for(ae(),c=q.length;c<$.length;c+=1)w(c);se()}},i(d){if(!j){for(let p=0;p<q.length;p+=1)H($[p]);j=!0}},o(d){$=$.filter(Boolean);for(let p=0;p<$.length;p+=1)L($[p]);j=!1},d(d){d&&m(e),d&&m(t),d&&m(l),de($,d)}}}function Jt(u,e,n){let t;return me(u,zt,l=>n(0,t=l)),[t]}class Qt extends pe{constructor(e){super(),ge(this,e,Jt,Gt,ve,{})}}function Wt(u){let e,n;return e=new $t({}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p:ke,i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Xt(u){let e,n,t,l=u[3].player.collated_name+"",r,s,o,a,f,_,g,B,R,j,q,$,w,d;e=new ct({props:{title:u[3].player.collated_name+" : "+u[1],type:"article",url:"player/detail/?q="+u[2],description:""}}),f=new ye({props:{current_mode:u[0],mode:"basic",name:"\u57FA\u672C",url:"/player/detail?p="+u[2]+"&mode=basic"}}),g=new ye({props:{current_mode:u[0],mode:"tournament",name:"\u5927\u4F1A",url:"/player/detail?p="+u[2]+"&mode=tournament"}}),R=new ye({props:{current_mode:u[0],mode:"relation",name:"\u95A2\u9023",url:"/player/detail?p="+u[2]+"&mode=relation"}});let p=u[0]==="basic"&&rt(),c=u[0]==="tournament"&&at(),E=u[0]==="relation"&&st();return{c(){W(e.$$.fragment),n=P(),t=v("h1"),r=I(l),o=P(),a=v("div"),W(f.$$.fragment),_=I(` |
    `),W(g.$$.fragment),B=I(` |
    `),W(R.$$.fragment),j=P(),p&&p.c(),q=P(),c&&c.c(),$=P(),E&&E.c(),w=ne(),this.h()},l(h){X(e.$$.fragment,h),n=M(h),t=b(h,"H1",{class:!0});var N=k(t);r=C(N,l),N.forEach(m),o=M(h),a=b(h,"DIV",{class:!0});var F=k(a);X(f.$$.fragment,F),_=C(F,` |
    `),X(g.$$.fragment,F),B=C(F,` |
    `),X(R.$$.fragment,F),F.forEach(m),j=M(h),p&&p.l(h),q=M(h),c&&c.l(h),$=M(h),E&&E.l(h),w=ne(),this.h()},h(){z(t,"class",s=Re(u[3].player.rating)),z(a,"class","detail-tab")},m(h,N){Z(e,h,N),Y(h,n,N),Y(h,t,N),i(t,r),Y(h,o,N),Y(h,a,N),Z(f,a,null),i(a,_),Z(g,a,null),i(a,B),Z(R,a,null),Y(h,j,N),p&&p.m(h,N),Y(h,q,N),c&&c.m(h,N),Y(h,$,N),E&&E.m(h,N),Y(h,w,N),d=!0},p(h,N){const F={};N&10&&(F.title=h[3].player.collated_name+" : "+h[1]),N&4&&(F.url="player/detail/?q="+h[2]),e.$set(F),(!d||N&8)&&l!==(l=h[3].player.collated_name+"")&&te(r,l),(!d||N&8&&s!==(s=Re(h[3].player.rating)))&&z(t,"class",s);const y={};N&1&&(y.current_mode=h[0]),N&4&&(y.url="/player/detail?p="+h[2]+"&mode=basic"),f.$set(y);const U={};N&1&&(U.current_mode=h[0]),N&4&&(U.url="/player/detail?p="+h[2]+"&mode=tournament"),g.$set(U);const D={};N&1&&(D.current_mode=h[0]),N&4&&(D.url="/player/detail?p="+h[2]+"&mode=relation"),R.$set(D),h[0]==="basic"?p?N&1&&H(p,1):(p=rt(),p.c(),H(p,1),p.m(q.parentNode,q)):p&&(ae(),L(p,1,1,()=>{p=null}),se()),h[0]==="tournament"?c?N&1&&H(c,1):(c=at(),c.c(),H(c,1),c.m($.parentNode,$)):c&&(ae(),L(c,1,1,()=>{c=null}),se()),h[0]==="relation"?E?N&1&&H(E,1):(E=st(),E.c(),H(E,1),E.m(w.parentNode,w)):E&&(ae(),L(E,1,1,()=>{E=null}),se())},i(h){d||(H(e.$$.fragment,h),H(f.$$.fragment,h),H(g.$$.fragment,h),H(R.$$.fragment,h),H(p),H(c),H(E),d=!0)},o(h){L(e.$$.fragment,h),L(f.$$.fragment,h),L(g.$$.fragment,h),L(R.$$.fragment,h),L(p),L(c),L(E),d=!1},d(h){x(e,h),h&&m(n),h&&m(t),h&&m(o),h&&m(a),x(f),x(g),x(R),h&&m(j),p&&p.d(h),h&&m(q),c&&c.d(h),h&&m($),E&&E.d(h),h&&m(w)}}}function rt(u){let e,n,t,l;return e=new kt({}),t=new Ht({}),{c(){W(e.$$.fragment),n=P(),W(t.$$.fragment)},l(r){X(e.$$.fragment,r),n=M(r),X(t.$$.fragment,r)},m(r,s){Z(e,r,s),Y(r,n,s),Z(t,r,s),l=!0},i(r){l||(H(e.$$.fragment,r),H(t.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),L(t.$$.fragment,r),l=!1},d(r){x(e,r),r&&m(n),x(t,r)}}}function at(u){let e,n,t,l,r,s,o;return l=new Pt({}),s=new Ct({}),{c(){e=v("h2"),n=I("\u53C2\u52A0\u5927\u4F1A"),t=P(),W(l.$$.fragment),r=P(),W(s.$$.fragment)},l(a){e=b(a,"H2",{});var f=k(e);n=C(f,"\u53C2\u52A0\u5927\u4F1A"),f.forEach(m),t=M(a),X(l.$$.fragment,a),r=M(a),X(s.$$.fragment,a)},m(a,f){Y(a,e,f),i(e,n),Y(a,t,f),Z(l,a,f),Y(a,r,f),Z(s,a,f),o=!0},i(a){o||(H(l.$$.fragment,a),H(s.$$.fragment,a),o=!0)},o(a){L(l.$$.fragment,a),L(s.$$.fragment,a),o=!1},d(a){a&&m(e),a&&m(t),x(l,a),a&&m(r),x(s,a)}}}function st(u){let e,n,t,l,r,s,o;return l=new Vt({}),s=new Qt({}),{c(){e=v("h2"),n=I("\u95A2\u9023\u60C5\u5831"),t=P(),W(l.$$.fragment),r=P(),W(s.$$.fragment)},l(a){e=b(a,"H2",{});var f=k(e);n=C(f,"\u95A2\u9023\u60C5\u5831"),f.forEach(m),t=M(a),X(l.$$.fragment,a),r=M(a),X(s.$$.fragment,a)},m(a,f){Y(a,e,f),i(e,n),Y(a,t,f),Z(l,a,f),Y(a,r,f),Z(s,a,f),o=!0},i(a){o||(H(l.$$.fragment,a),H(s.$$.fragment,a),o=!0)},o(a){L(l.$$.fragment,a),L(s.$$.fragment,a),o=!1},d(a){a&&m(e),a&&m(t),x(l,a),a&&m(r),x(s,a)}}}function Zt(u){let e,n,t,l;const r=[Xt,Wt],s=[];function o(a,f){return a[3]?0:1}return e=o(u),n=s[e]=r[e](u),{c(){n.c(),t=ne()},l(a){n.l(a),t=ne()},m(a,f){s[e].m(a,f),Y(a,t,f),l=!0},p(a,[f]){let _=e;e=o(a),e===_?s[e].p(a,f):(ae(),L(s[_],1,1,()=>{s[_]=null}),se(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),H(n,1),n.m(t.parentNode,t))},i(a){l||(H(n),l=!0)},o(a){L(n),l=!1},d(a){s[e].d(a),a&&m(t)}}}function xt(u,e,n){let t,l,r;me(u,Oe,f=>n(2,l=f)),me(u,he,f=>n(3,r=f));let s="basic";it(()=>{a(null)});async function o(f){je("player/player_aliases.json").then(_=>_.json()).then(_=>a(_[f])).catch(()=>[])}async function a(f){n(0,s=mt("basic","mode"));const _=_t(f,"p");l===_||_===null||(he.set(null),Oe.set(_),je(`player/${l}.json`).then(g=>{if([403,404].indexOf(g.status)!==-1)throw new Error("NOT FOUND");return g.json()}).then(g=>{gt(g)}).catch(g=>{g.message==="NOT FOUND"&&f===null&&o(l)}))}return u.$$.update=()=>{u.$$.dirty&1&&n(1,t={basic:"\u57FA\u672C",tournament:"\u5927\u4F1A",relation:"\u95A2\u9023"}[s])},[s,t,l,r]}class dl extends pe{constructor(e){super(),ge(this,e,xt,Zt,ve,{})}}export{dl as default};
