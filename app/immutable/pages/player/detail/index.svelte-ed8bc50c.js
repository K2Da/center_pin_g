import{S as pe,i as ge,s as be,e as b,t as I,c as v,a as k,h as C,d as _,g as Y,K as i,j as te,l as ne,b as z,k as S,w as W,m as P,x as X,y as Z,q as H,o as R,B as x,P as me,n as ae,p as se,R as de,E as ke,f as ue}from"../../../chunks/index-15dce5f7.js";import{a as it}from"../../../chunks/navigation-13fd7038.js";import{w as ot,d as He}from"../../../chunks/index-0695a55f.js";import{b as mt}from"../../../chunks/env-6d58f0dd.js";import{o as ft,q as _t,j as ct,k as je,h as Re}from"../../../chunks/global-767f767d.js";import{H as ht}from"../../../chunks/Header-dac65a84.js";import{T as $t,P as ye}from"../../../chunks/PageTab-e059a2c1.js";import{D as De,T as ce,P as dt}from"../../../chunks/PopUpA-755bce67.js";import{S as pt}from"../../../chunks/Span-b382ee88.js";import{T as we,a as Ee}from"../../../chunks/TeamName-5dbb58ff.js";import{P as ve}from"../../../chunks/PlayersLine-03dbee0b.js";import{M as ut}from"../../../chunks/MatchResult-fc4c9239.js";import{T as gt}from"../../../chunks/TournamentName-7c4c3eb9.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/PlayerName-21f97919.js";import"../../../chunks/Twitch-55dc744f.js";const Oe=ot(""),he=ot(null);function bt(u){for(const t of u.matches)t.wl=t.opponent_team_key===t.loser_key,t.score_text=t.wl?`${t.winner_score} - ${t.loser_score}`:`${t.loser_score} - ${t.winner_score}`;he.set(u)}function Ae(u){let t,n,e,l=[...new Set(u[0].tournaments.map(Ye))].join(", ")+"",r;return{c(){t=b("dt"),n=I("\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),e=b("dd"),r=I(l)},l(s){t=v(s,"DT",{});var o=k(t);n=C(o,"\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),o.forEach(_),e=v(s,"DD",{});var a=k(e);r=C(a,l),a.forEach(_)},m(s,o){Y(s,t,o),i(t,n),Y(s,e,o),i(e,r)},p(s,o){o&1&&l!==(l=[...new Set(s[0].tournaments.map(Ye))].join(", ")+"")&&te(r,l)},d(s){s&&_(t),s&&_(e)}}}function Le(u){let t,n,e,l=u[0].data.twitter&&Se(u),r=u[0].data.youtube&&Pe(u),s=u[0].data.twitch&&Me(u);return{c(){l&&l.c(),t=ne(),r&&r.c(),n=ne(),s&&s.c(),e=ne()},l(o){l&&l.l(o),t=ne(),r&&r.l(o),n=ne(),s&&s.l(o),e=ne()},m(o,a){l&&l.m(o,a),Y(o,t,a),r&&r.m(o,a),Y(o,n,a),s&&s.m(o,a),Y(o,e,a)},p(o,a){o[0].data.twitter?l?l.p(o,a):(l=Se(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),o[0].data.youtube?r?r.p(o,a):(r=Pe(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),o[0].data.twitch?s?s.p(o,a):(s=Me(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(o){l&&l.d(o),o&&_(t),r&&r.d(o),o&&_(n),s&&s.d(o),o&&_(e)}}}function Se(u){let t,n,e,l,r,s=u[0].data.twitter+"",o,a;return{c(){t=b("dt"),n=b("i"),e=I(" twitter"),l=b("dd"),r=b("a"),o=I(s),this.h()},l(f){t=v(f,"DT",{});var m=k(t);n=v(m,"I",{class:!0}),k(n).forEach(_),e=C(m," twitter"),m.forEach(_),l=v(f,"DD",{});var $=k(l);r=v($,"A",{href:!0});var D=k(r);o=C(D,s),D.forEach(_),$.forEach(_),this.h()},h(){z(n,"class","fab fa-twitter"),z(r,"href",a="https://twitter.com/"+u[0].data.twitter)},m(f,m){Y(f,t,m),i(t,n),i(t,e),Y(f,l,m),i(l,r),i(r,o)},p(f,m){m&1&&s!==(s=f[0].data.twitter+"")&&te(o,s),m&1&&a!==(a="https://twitter.com/"+f[0].data.twitter)&&z(r,"href",a)},d(f){f&&_(t),f&&_(l)}}}function Pe(u){let t,n,e,l,r,s=u[0].data.youtube[1]+"",o,a;return{c(){t=b("dt"),n=b("i"),e=I(" youtube"),l=b("dd"),r=b("a"),o=I(s),this.h()},l(f){t=v(f,"DT",{});var m=k(t);n=v(m,"I",{class:!0}),k(n).forEach(_),e=C(m," youtube"),m.forEach(_),l=v(f,"DD",{});var $=k(l);r=v($,"A",{href:!0});var D=k(r);o=C(D,s),D.forEach(_),$.forEach(_),this.h()},h(){z(n,"class","fab fa-youtube"),z(r,"href",a="https://www.youtube.com/channel/"+u[0].data.youtube[0])},m(f,m){Y(f,t,m),i(t,n),i(t,e),Y(f,l,m),i(l,r),i(r,o)},p(f,m){m&1&&s!==(s=f[0].data.youtube[1]+"")&&te(o,s),m&1&&a!==(a="https://www.youtube.com/channel/"+f[0].data.youtube[0])&&z(r,"href",a)},d(f){f&&_(t),f&&_(l)}}}function Me(u){let t,n,e,l,r,s=u[0].data.twitch+"",o,a;return{c(){t=b("dt"),n=b("i"),e=I(" twitch"),l=b("dd"),r=b("a"),o=I(s),this.h()},l(f){t=v(f,"DT",{});var m=k(t);n=v(m,"I",{class:!0}),k(n).forEach(_),e=C(m," twitch"),m.forEach(_),l=v(f,"DD",{});var $=k(l);r=v($,"A",{href:!0});var D=k(r);o=C(D,s),D.forEach(_),$.forEach(_),this.h()},h(){z(n,"class","fab fa-twitch"),z(r,"href",a="https://www.twitch.tv/"+u[0].data.twitch)},m(f,m){Y(f,t,m),i(t,n),i(t,e),Y(f,l,m),i(l,r),i(r,o)},p(f,m){m&1&&s!==(s=f[0].data.twitch+"")&&te(o,s),m&1&&a!==(a="https://www.twitch.tv/"+f[0].data.twitch)&&z(r,"href",a)},d(f){f&&_(t),f&&_(l)}}}function vt(u){var p;let t,n,e,l,r,s,o,a,f,m,$,D,O=((p=u[0].player.rating)!=null?p:0).toLocaleString()+"",j,q,d=u[0].data&&Ae(u);a=new $t({props:{stats:{...u[0].player,tournament_count:u[0].player.entries}}});let w=u[0].data&&Le(u);return{c(){t=b("h2"),n=I("\u57FA\u672C\u60C5\u5831"),e=S(),l=b("dl"),d&&d.c(),r=b("dt"),s=I("\u6226\u7E3E"),o=b("dd"),W(a.$$.fragment),f=S(),m=b("dt"),$=I("\u30EC\u30FC\u30C8"),D=b("dd"),j=I(O),w&&w.c()},l(g){t=v(g,"H2",{});var c=k(t);n=C(c,"\u57FA\u672C\u60C5\u5831"),c.forEach(_),e=P(g),l=v(g,"DL",{});var E=k(l);d&&d.l(E),r=v(E,"DT",{});var h=k(r);s=C(h,"\u6226\u7E3E"),h.forEach(_),o=v(E,"DD",{});var N=k(o);X(a.$$.fragment,N),f=P(N),N.forEach(_),m=v(E,"DT",{});var F=k(m);$=C(F,"\u30EC\u30FC\u30C8"),F.forEach(_),D=v(E,"DD",{});var B=k(D);j=C(B,O),B.forEach(_),w&&w.l(E),E.forEach(_)},m(g,c){Y(g,t,c),i(t,n),Y(g,e,c),Y(g,l,c),d&&d.m(l,null),i(l,r),i(r,s),i(l,o),Z(a,o,null),i(o,f),i(l,m),i(m,$),i(l,D),i(D,j),w&&w.m(l,null),q=!0},p(g,[c]){var h;g[0].data?d?d.p(g,c):(d=Ae(g),d.c(),d.m(l,r)):d&&(d.d(1),d=null);const E={};c&1&&(E.stats={...g[0].player,tournament_count:g[0].player.entries}),a.$set(E),(!q||c&1)&&O!==(O=((h=g[0].player.rating)!=null?h:0).toLocaleString()+"")&&te(j,O),g[0].data?w?w.p(g,c):(w=Le(g),w.c(),w.m(l,null)):w&&(w.d(1),w=null)},i(g){q||(H(a.$$.fragment,g),q=!0)},o(g){R(a.$$.fragment,g),q=!1},d(g){g&&_(t),g&&_(e),g&&_(l),d&&d.d(),x(a),w&&w.d()}}}const Ye=u=>u.member_name;function kt(u,t,n){let e;return me(u,he,l=>n(0,e=l)),[e]}class wt extends pe{constructor(t){super(),ge(this,t,kt,vt,be,{})}}const Et=He(he,u=>{if(u==null)return[];const t={};for(const n of u.tournaments){const e=n.team_current_name;t[e]===void 0?t[e]={name:e,tournament_count:1,last_match_at:n.tournament_date,first_match_at:n.tournament_date}:(t[e].tournament_count+=1,t[e].last_match_at=Math.max(n.tournament_date,t[e].last_match_at),t[e].first_match_at=Math.min(n.tournament_date,t[e].first_match_at))}return Object.values(t).sort(n=>-n.last_match_at)});function qe(u,t,n){const e=u.slice();return e[1]=t[n],e}function Tt(u){let t,n;return t=new pt({props:{date1:u[1].first_match_at,date2:u[1].last_match_at}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,l){Z(t,e,l),n=!0},p(e,l){const r={};l&1&&(r.date1=e[1].first_match_at),l&1&&(r.date2=e[1].last_match_at),t.$set(r)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){x(t,e)}}}function Dt(u){let t,n;return t=new De({props:{date:u[1].first_match_at}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,l){Z(t,e,l),n=!0},p(e,l){const r={};l&1&&(r.date=e[1].first_match_at),t.$set(r)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){x(t,e)}}}function Ie(u){let t,n,e,l=u[1].tournament_count+"",r,s,o,a,f,m,$,D;n=new we({props:{name:u[1].name,current_name:u[1].name}});const O=[Dt,Tt],j=[];function q(d,w){return d[1].first_match_at===d[1].last_match_at?0:1}return f=q(u),m=j[f]=O[f](u),{c(){t=b("dt"),W(n.$$.fragment),e=b("dd"),r=I(l),s=I("\u56DE\u51FA\u5834"),o=b("br"),a=S(),m.c(),$=S(),this.h()},l(d){t=v(d,"DT",{class:!0});var w=k(t);X(n.$$.fragment,w),w.forEach(_),e=v(d,"DD",{});var p=k(e);r=C(p,l),s=C(p,"\u56DE\u51FA\u5834"),o=v(p,"BR",{}),a=P(p),m.l(p),$=P(p),p.forEach(_),this.h()},h(){z(t,"class","tal nw")},m(d,w){Y(d,t,w),Z(n,t,null),Y(d,e,w),i(e,r),i(e,s),i(e,o),i(e,a),j[f].m(e,null),i(e,$),D=!0},p(d,w){const p={};w&1&&(p.name=d[1].name),w&1&&(p.current_name=d[1].name),n.$set(p),(!D||w&1)&&l!==(l=d[1].tournament_count+"")&&te(r,l);let g=f;f=q(d),f===g?j[f].p(d,w):(ae(),R(j[g],1,1,()=>{j[g]=null}),se(),m=j[f],m?m.p(d,w):(m=j[f]=O[f](d),m.c()),H(m,1),m.m(e,$))},i(d){D||(H(n.$$.fragment,d),H(m),D=!0)},o(d){R(n.$$.fragment,d),R(m),D=!1},d(d){d&&_(t),x(n),d&&_(e),j[f].d()}}}function yt(u){let t,n,e,l,r,s=u[0],o=[];for(let f=0;f<s.length;f+=1)o[f]=Ie(qe(u,s,f));const a=f=>R(o[f],1,1,()=>{o[f]=null});return{c(){t=b("h2"),n=I("\u30C1\u30FC\u30E0\u5C65\u6B74"),e=S(),l=b("dl");for(let f=0;f<o.length;f+=1)o[f].c()},l(f){t=v(f,"H2",{});var m=k(t);n=C(m,"\u30C1\u30FC\u30E0\u5C65\u6B74"),m.forEach(_),e=P(f),l=v(f,"DL",{});var $=k(l);for(let D=0;D<o.length;D+=1)o[D].l($);$.forEach(_)},m(f,m){Y(f,t,m),i(t,n),Y(f,e,m),Y(f,l,m);for(let $=0;$<o.length;$+=1)o[$].m(l,null);r=!0},p(f,[m]){if(m&1){s=f[0];let $;for($=0;$<s.length;$+=1){const D=qe(f,s,$);o[$]?(o[$].p(D,m),H(o[$],1)):(o[$]=Ie(D),o[$].c(),H(o[$],1),o[$].m(l,null))}for(ae(),$=s.length;$<o.length;$+=1)a($);se()}},i(f){if(!r){for(let m=0;m<s.length;m+=1)H(o[m]);r=!0}},o(f){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)R(o[m]);r=!1},d(f){f&&_(t),f&&_(e),f&&_(l),de(o,f)}}}function Ht(u,t,n){let e;return me(u,Et,l=>n(0,e=l)),[e]}class Bt extends pe{constructor(t){super(),ge(this,t,Ht,yt,be,{})}}function Ce(u,t,n){const e=u.slice();return e[2]=t[n],e}function Fe(u,t,n){const e=u.slice();return e[2]=t[n],e[4]=n,e}function Ue(u){let t,n,e,l;const r=[jt,Nt],s=[];function o(a,f){return a[1]?0:1}return t=o(u),n=s[t]=r[t](u),{c(){n.c(),e=ne()},l(a){n.l(a),e=ne()},m(a,f){s[t].m(a,f),Y(a,e,f),l=!0},p(a,f){let m=t;t=o(a),t===m?s[t].p(a,f):(ae(),R(s[m],1,1,()=>{s[m]=null}),se(),n=s[t],n?n.p(a,f):(n=s[t]=r[t](a),n.c()),H(n,1),n.m(e.parentNode,e))},i(a){l||(H(n),l=!0)},o(a){R(n),l=!1},d(a){s[t].d(a),a&&_(e)}}}function Nt(u){let t,n,e,l,r,s,o,a,f,m,$,D,O,j,q,d,w,p,g,c,E,h,N,F=u[0].tournaments,B=[];for(let y=0;y<F.length;y+=1)B[y]=Ke(Ce(u,F,y));const U=y=>R(B[y],1,1,()=>{B[y]=null});return{c(){t=b("table"),n=b("thead"),e=b("tr"),l=b("th"),r=I("\u958B\u50AC\u65E5"),s=S(),o=b("th"),a=I("\u5927\u4F1A\u540D"),f=S(),m=b("th"),$=I("\u7D50\u679C"),D=S(),O=b("th"),j=I("rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),q=S(),d=b("th"),w=I("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),p=S(),g=b("th"),c=I("\u30E1\u30F3\u30D0\u30FC"),E=S(),h=b("tbody");for(let y=0;y<B.length;y+=1)B[y].c();this.h()},l(y){t=v(y,"TABLE",{});var A=k(t);n=v(A,"THEAD",{});var L=k(n);e=v(L,"TR",{});var J=k(e);l=v(J,"TH",{});var K=k(l);r=C(K,"\u958B\u50AC\u65E5"),K.forEach(_),s=P(J),o=v(J,"TH",{class:!0});var M=k(o);a=C(M,"\u5927\u4F1A\u540D"),M.forEach(_),f=P(J),m=v(J,"TH",{});var T=k(m);$=C(T,"\u7D50\u679C"),T.forEach(_),D=P(J),O=v(J,"TH",{colspan:!0});var V=k(O);j=C(V,"rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),V.forEach(_),q=P(J),d=v(J,"TH",{class:!0});var ee=k(d);w=C(ee,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),ee.forEach(_),p=P(J),g=v(J,"TH",{class:!0});var Q=k(g);c=C(Q,"\u30E1\u30F3\u30D0\u30FC"),Q.forEach(_),J.forEach(_),L.forEach(_),E=P(A),h=v(A,"TBODY",{});var G=k(h);for(let le=0;le<B.length;le+=1)B[le].l(G);G.forEach(_),A.forEach(_),this.h()},h(){z(o,"class","tal"),z(O,"colspan","3"),z(d,"class","tal"),z(g,"class","tal")},m(y,A){Y(y,t,A),i(t,n),i(n,e),i(e,l),i(l,r),i(e,s),i(e,o),i(o,a),i(e,f),i(e,m),i(m,$),i(e,D),i(e,O),i(O,j),i(e,q),i(e,d),i(d,w),i(e,p),i(e,g),i(g,c),i(t,E),i(t,h);for(let L=0;L<B.length;L+=1)B[L].m(h,null);N=!0},p(y,A){if(A&1){F=y[0].tournaments;let L;for(L=0;L<F.length;L+=1){const J=Ce(y,F,L);B[L]?(B[L].p(J,A),H(B[L],1)):(B[L]=Ke(J),B[L].c(),H(B[L],1),B[L].m(h,null))}for(ae(),L=F.length;L<B.length;L+=1)U(L);se()}},i(y){if(!N){for(let A=0;A<F.length;A+=1)H(B[A]);N=!0}},o(y){B=B.filter(Boolean);for(let A=0;A<B.length;A+=1)R(B[A]);N=!1},d(y){y&&_(t),de(B,y)}}}function jt(u){let t,n,e,l=u[0].tournaments,r=[];for(let o=0;o<l.length;o+=1)r[o]=Ve(Fe(u,l,o));const s=o=>R(r[o],1,1,()=>{r[o]=null});return{c(){t=b("table"),n=b("tbody");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=v(o,"TABLE",{});var a=k(t);n=v(a,"TBODY",{class:!0});var f=k(n);for(let m=0;m<r.length;m+=1)r[m].l(f);f.forEach(_),a.forEach(_),this.h()},h(){z(n,"class","double")},m(o,a){Y(o,t,a),i(t,n);for(let f=0;f<r.length;f+=1)r[f].m(n,null);e=!0},p(o,a){if(a&1){l=o[0].tournaments;let f;for(f=0;f<l.length;f+=1){const m=Fe(o,l,f);r[f]?(r[f].p(m,a),H(r[f],1)):(r[f]=Ve(m),r[f].c(),H(r[f],1),r[f].m(n,null))}for(ae(),f=l.length;f<r.length;f+=1)s(f);se()}},i(o){if(!e){for(let a=0;a<l.length;a+=1)H(r[a]);e=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)R(r[a]);e=!1},d(o){o&&_(t),de(r,o)}}}function Ke(u){let t,n,e,l,r,s,o=u[2].tournament_name+"",a,f,m,$,D,O,j,q=ie(u[2].rating)+"",d,w,p,g=ie(u[2].rank)+"",c,E,h,N=ie(u[2].total)+"",F,B,U,y,A,L,J=u[2].member_name+"",K,M,T,V,ee;return e=new De({props:{date:u[2].tournament_date}}),D=new Ee({props:{rank:u[2].team_result}}),y=new we({props:{name:u[2].team_name,current_name:u[2].team_current_name}}),T=new ve({props:{players:u[2].mate_list}}),{c(){t=b("tr"),n=b("td"),W(e.$$.fragment),l=S(),r=b("td"),s=b("a"),a=I(o),m=S(),$=b("td"),W(D.$$.fragment),O=S(),j=b("td"),d=I(q),w=S(),p=b("td"),c=I(g),E=S(),h=b("td"),F=I(N),B=S(),U=b("td"),W(y.$$.fragment),A=S(),L=b("td"),K=I(J),M=I(", "),W(T.$$.fragment),V=S(),this.h()},l(Q){t=v(Q,"TR",{});var G=k(t);n=v(G,"TD",{class:!0});var le=k(n);X(e.$$.fragment,le),le.forEach(_),l=P(G),r=v(G,"TD",{class:!0});var oe=k(r);s=v(oe,"A",{href:!0});var re=k(s);a=C(re,o),re.forEach(_),oe.forEach(_),m=P(G),$=v(G,"TD",{});var fe=k($);X(D.$$.fragment,fe),fe.forEach(_),O=P(G),j=v(G,"TD",{});var $e=k(j);d=C($e,q),$e.forEach(_),w=P(G),p=v(G,"TD",{class:!0});var _e=k(p);c=C(_e,g),_e.forEach(_),E=P(G),h=v(G,"TD",{class:!0});var Be=k(h);F=C(Be,N),Be.forEach(_),B=P(G),U=v(G,"TD",{class:!0});var Ne=k(U);X(y.$$.fragment,Ne),Ne.forEach(_),A=P(G),L=v(G,"TD",{class:!0});var Te=k(L);K=C(Te,J),M=C(Te,", "),X(T.$$.fragment,Te),Te.forEach(_),V=P(G),G.forEach(_),this.h()},h(){z(n,"class","nw"),z(s,"href",f="#"+u[2].tournament_key),z(r,"class","tal"),z(p,"class","tar"),z(h,"class","tar"),z(U,"class","tal"),z(L,"class","tal")},m(Q,G){Y(Q,t,G),i(t,n),Z(e,n,null),i(t,l),i(t,r),i(r,s),i(s,a),i(t,m),i(t,$),Z(D,$,null),i(t,O),i(t,j),i(j,d),i(t,w),i(t,p),i(p,c),i(t,E),i(t,h),i(h,F),i(t,B),i(t,U),Z(y,U,null),i(t,A),i(t,L),i(L,K),i(L,M),Z(T,L,null),i(t,V),ee=!0},p(Q,G){const le={};G&1&&(le.date=Q[2].tournament_date),e.$set(le),(!ee||G&1)&&o!==(o=Q[2].tournament_name+"")&&te(a,o),(!ee||G&1&&f!==(f="#"+Q[2].tournament_key))&&z(s,"href",f);const oe={};G&1&&(oe.rank=Q[2].team_result),D.$set(oe),(!ee||G&1)&&q!==(q=ie(Q[2].rating)+"")&&te(d,q),(!ee||G&1)&&g!==(g=ie(Q[2].rank)+"")&&te(c,g),(!ee||G&1)&&N!==(N=ie(Q[2].total)+"")&&te(F,N);const re={};G&1&&(re.name=Q[2].team_name),G&1&&(re.current_name=Q[2].team_current_name),y.$set(re),(!ee||G&1)&&J!==(J=Q[2].member_name+"")&&te(K,J);const fe={};G&1&&(fe.players=Q[2].mate_list),T.$set(fe)},i(Q){ee||(H(e.$$.fragment,Q),H(D.$$.fragment,Q),H(y.$$.fragment,Q),H(T.$$.fragment,Q),ee=!0)},o(Q){R(e.$$.fragment,Q),R(D.$$.fragment,Q),R(y.$$.fragment,Q),R(T.$$.fragment,Q),ee=!1},d(Q){Q&&_(t),x(e),x(D),x(y),x(T)}}}function Rt(u){let t,n=u[4]+1+"",e;return{c(){t=I("#"),e=I(n)},l(l){t=C(l,"#"),e=C(l,n)},m(l,r){Y(l,t,r),Y(l,e,r)},p:ke,d(l){l&&_(t),l&&_(e)}}}function Ot(u){let t=ie(u[2].rating)+"",n,e,l,r;return l=new ce({props:{$$slots:{default:[Lt]},$$scope:{ctx:u}}}),{c(){n=I(t),e=S(),W(l.$$.fragment)},l(s){n=C(s,t),e=P(s),X(l.$$.fragment,s)},m(s,o){Y(s,n,o),Y(s,e,o),Z(l,s,o),r=!0},p(s,o){(!r||o&1)&&t!==(t=ie(s[2].rating)+"")&&te(n,t);const a={};o&129&&(a.$$scope={dirty:o,ctx:s}),l.$set(a)},i(s){r||(H(l.$$.fragment,s),r=!0)},o(s){R(l.$$.fragment,s),r=!1},d(s){s&&_(n),s&&_(e),x(l,s)}}}function At(u){let t;return{c(){t=I("-")},l(n){t=C(n,"-")},m(n,e){Y(n,t,e)},p:ke,i:ke,o:ke,d(n){n&&_(t)}}}function Lt(u){let t,n=ie(u[2].rank)+"",e,l,r=ie(u[2].total)+"",s,o;return{c(){t=I("("),e=I(n),l=I("\u4F4D / "),s=I(r),o=I("\u4EBA)")},l(a){t=C(a,"("),e=C(a,n),l=C(a,"\u4F4D / "),s=C(a,r),o=C(a,"\u4EBA)")},m(a,f){Y(a,t,f),Y(a,e,f),Y(a,l,f),Y(a,s,f),Y(a,o,f)},p(a,f){f&1&&n!==(n=ie(a[2].rank)+"")&&te(e,n),f&1&&r!==(r=ie(a[2].total)+"")&&te(s,r)},d(a){a&&_(t),a&&_(e),a&&_(l),a&&_(s),a&&_(o)}}}function Ve(u){let t,n,e,l,r,s,o,a,f,m,$,D,O,j,q,d,w=u[2].tournament_name+"",p,g,c,E;e=new ce({props:{$$slots:{default:[Rt]},$$scope:{ctx:u}}}),r=new De({props:{date:u[2].tournament_date,spacing:!1}}),a=new Ee({props:{rank:u[2].team_result}});const h=[At,Ot],N=[];function F(B,U){return B[2].rating==null?0:1}return $=F(u),D=N[$]=h[$](u),{c(){t=b("tr"),n=b("td"),W(e.$$.fragment),l=S(),W(r.$$.fragment),s=S(),o=b("td"),W(a.$$.fragment),f=S(),m=b("td"),D.c(),O=S(),j=b("tr"),q=b("td"),d=b("a"),p=I(w),c=S(),this.h()},l(B){t=v(B,"TR",{});var U=k(t);n=v(U,"TD",{class:!0});var y=k(n);X(e.$$.fragment,y),l=P(y),X(r.$$.fragment,y),y.forEach(_),s=P(U),o=v(U,"TD",{class:!0});var A=k(o);X(a.$$.fragment,A),f=P(A),A.forEach(_),m=v(U,"TD",{class:!0});var L=k(m);D.l(L),L.forEach(_),U.forEach(_),O=P(B),j=v(B,"TR",{});var J=k(j);q=v(J,"TD",{colspan:!0,class:!0});var K=k(q);d=v(K,"A",{href:!0});var M=k(d);p=C(M,w),M.forEach(_),K.forEach(_),c=P(J),J.forEach(_),this.h()},h(){z(n,"class","tal"),z(o,"class","nw"),z(m,"class","nw"),z(d,"href",g="#"+u[2].tournament_key),z(q,"colspan","3"),z(q,"class","tal")},m(B,U){Y(B,t,U),i(t,n),Z(e,n,null),i(n,l),Z(r,n,null),i(t,s),i(t,o),Z(a,o,null),i(o,f),i(t,m),N[$].m(m,null),Y(B,O,U),Y(B,j,U),i(j,q),i(q,d),i(d,p),i(j,c),E=!0},p(B,U){const y={};U&128&&(y.$$scope={dirty:U,ctx:B}),e.$set(y);const A={};U&1&&(A.date=B[2].tournament_date),r.$set(A);const L={};U&1&&(L.rank=B[2].team_result),a.$set(L);let J=$;$=F(B),$===J?N[$].p(B,U):(ae(),R(N[J],1,1,()=>{N[J]=null}),se(),D=N[$],D?D.p(B,U):(D=N[$]=h[$](B),D.c()),H(D,1),D.m(m,null)),(!E||U&1)&&w!==(w=B[2].tournament_name+"")&&te(p,w),(!E||U&1&&g!==(g="#"+B[2].tournament_key))&&z(d,"href",g)},i(B){E||(H(e.$$.fragment,B),H(r.$$.fragment,B),H(a.$$.fragment,B),H(D),E=!0)},o(B){R(e.$$.fragment,B),R(r.$$.fragment,B),R(a.$$.fragment,B),R(D),E=!1},d(B){B&&_(t),x(e),x(r),x(a),N[$].d(),B&&_(O),B&&_(j)}}}function St(u){let t,n,e=u[0]&&Ue(u);return{c(){e&&e.c(),t=ne()},l(l){e&&e.l(l),t=ne()},m(l,r){e&&e.m(l,r),Y(l,t,r),n=!0},p(l,[r]){l[0]?e?(e.p(l,r),r&1&&H(e,1)):(e=Ue(l),e.c(),H(e,1),e.m(t.parentNode,t)):e&&(ae(),R(e,1,1,()=>{e=null}),se())},i(l){n||(H(e),n=!0)},o(l){R(e),n=!1},d(l){e&&e.d(l),l&&_(t)}}}function ie(u){return u==null?"-":u.toLocaleString()}function Pt(u,t,n){let e,l;return me(u,he,r=>n(0,e=r)),me(u,ft,r=>n(1,l=r)),[e,l]}class Mt extends pe{constructor(t){super(),ge(this,t,Pt,St,be,{})}}function ze(u,t,n){const e=u.slice();return e[2]=t[n],e}function Ge(u,t,n){const e=u.slice();return e[5]=t[n],e}function Je(u,t,n){const e=u.slice();return e[5]=t[n],e}function Yt(u){let t,n,e,l,r,s,o,a,f,m,$,D,O,j,q,d,w,p,g,c,E,h,N,F,B,U,y,A=u[0].matches,L=[];for(let K=0;K<A.length;K+=1)L[K]=We(Ge(u,A,K));const J=K=>R(L[K],1,1,()=>{L[K]=null});return{c(){t=b("table"),n=b("thead"),e=b("tr"),l=b("th"),r=I("\u30D6\u30E9\u30B1\u30C3\u30C8"),s=S(),o=b("th"),a=I("\u30E9\u30A6\u30F3\u30C9"),f=S(),m=b("th"),$=I("\u52DD\u6557"),D=S(),O=b("th"),j=I("\u30B9\u30B3\u30A2"),q=S(),d=b("th"),w=I("\u5BFE\u6226\u76F8\u624B"),p=S(),g=b("th"),c=I("\u9806\u4F4D"),E=S(),h=b("th"),N=I("\u30E1\u30F3\u30D0\u30FC"),F=S(),B=b("tbody");for(let K=0;K<L.length;K+=1)L[K].c();U=S(),this.h()},l(K){t=v(K,"TABLE",{});var M=k(t);n=v(M,"THEAD",{});var T=k(n);e=v(T,"TR",{});var V=k(e);l=v(V,"TH",{style:!0});var ee=k(l);r=C(ee,"\u30D6\u30E9\u30B1\u30C3\u30C8"),ee.forEach(_),s=P(V),o=v(V,"TH",{style:!0});var Q=k(o);a=C(Q,"\u30E9\u30A6\u30F3\u30C9"),Q.forEach(_),f=P(V),m=v(V,"TH",{style:!0});var G=k(m);$=C(G,"\u52DD\u6557"),G.forEach(_),D=P(V),O=v(V,"TH",{style:!0});var le=k(O);j=C(le,"\u30B9\u30B3\u30A2"),le.forEach(_),q=P(V),d=v(V,"TH",{style:!0});var oe=k(d);w=C(oe,"\u5BFE\u6226\u76F8\u624B"),oe.forEach(_),p=P(V),g=v(V,"TH",{style:!0});var re=k(g);c=C(re,"\u9806\u4F4D"),re.forEach(_),E=P(V),h=v(V,"TH",{style:!0});var fe=k(h);N=C(fe,"\u30E1\u30F3\u30D0\u30FC"),fe.forEach(_),V.forEach(_),T.forEach(_),F=P(M),B=v(M,"TBODY",{});var $e=k(B);for(let _e=0;_e<L.length;_e+=1)L[_e].l($e);$e.forEach(_),U=P(M),M.forEach(_),this.h()},h(){ue(l,"width","6%"),ue(o,"width","6%"),ue(m,"width","6%"),ue(O,"width","6%"),ue(d,"width","23%"),ue(d,"text-align","left"),ue(g,"width","6%"),ue(h,"width","47%"),ue(h,"text-align","left")},m(K,M){Y(K,t,M),i(t,n),i(n,e),i(e,l),i(l,r),i(e,s),i(e,o),i(o,a),i(e,f),i(e,m),i(m,$),i(e,D),i(e,O),i(O,j),i(e,q),i(e,d),i(d,w),i(e,p),i(e,g),i(g,c),i(e,E),i(e,h),i(h,N),i(t,F),i(t,B);for(let T=0;T<L.length;T+=1)L[T].m(B,null);i(t,U),y=!0},p(K,M){if(M&1){A=K[0].matches;let T;for(T=0;T<A.length;T+=1){const V=Ge(K,A,T);L[T]?(L[T].p(V,M),H(L[T],1)):(L[T]=We(V),L[T].c(),H(L[T],1),L[T].m(B,null))}for(ae(),T=A.length;T<L.length;T+=1)J(T);se()}},i(K){if(!y){for(let M=0;M<A.length;M+=1)H(L[M]);y=!0}},o(K){L=L.filter(Boolean);for(let M=0;M<L.length;M+=1)R(L[M]);y=!1},d(K){K&&_(t),de(L,K)}}}function qt(u){let t,n,e,l,r=u[0].matches,s=[];for(let a=0;a<r.length;a+=1)s[a]=Ze(Je(u,r,a));const o=a=>R(s[a],1,1,()=>{s[a]=null});return{c(){t=b("table"),n=b("tbody");for(let a=0;a<s.length;a+=1)s[a].c();e=S(),this.h()},l(a){t=v(a,"TABLE",{});var f=k(t);n=v(f,"TBODY",{class:!0});var m=k(n);for(let $=0;$<s.length;$+=1)s[$].l(m);m.forEach(_),e=P(f),f.forEach(_),this.h()},h(){z(n,"class","triple")},m(a,f){Y(a,t,f),i(t,n);for(let m=0;m<s.length;m+=1)s[m].m(n,null);i(t,e),l=!0},p(a,f){if(f&1){r=a[0].matches;let m;for(m=0;m<r.length;m+=1){const $=Je(a,r,m);s[m]?(s[m].p($,f),H(s[m],1)):(s[m]=Ze($),s[m].c(),H(s[m],1),s[m].m(n,null))}for(ae(),m=r.length;m<s.length;m+=1)o(m);se()}},i(a){if(!l){for(let f=0;f<r.length;f+=1)H(s[f]);l=!0}},o(a){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)R(s[f]);l=!1},d(a){a&&_(t),de(s,a)}}}function Qe(u){let t,n,e=u[5].bracket+"",l,r,s,o=u[5].round+"",a,f,m,$,D,O,j=u[5].score_text+"",q,d,w,p,g,c,E,h,N,F,B,U;return $=new ut({props:{win:u[5].wl}}),p=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),E=new Ee({props:{rank:u[5].opponent_team_rank}}),F=new ve({props:{players:u[5].opponents_list}}),{c(){t=b("tr"),n=b("td"),l=I(e),r=S(),s=b("td"),a=I(o),f=S(),m=b("td"),W($.$$.fragment),D=S(),O=b("td"),q=I(j),d=S(),w=b("td"),W(p.$$.fragment),g=S(),c=b("td"),W(E.$$.fragment),h=S(),N=b("td"),W(F.$$.fragment),B=S(),this.h()},l(y){t=v(y,"TR",{});var A=k(t);n=v(A,"TD",{});var L=k(n);l=C(L,e),L.forEach(_),r=P(A),s=v(A,"TD",{});var J=k(s);a=C(J,o),J.forEach(_),f=P(A),m=v(A,"TD",{});var K=k(m);X($.$$.fragment,K),K.forEach(_),D=P(A),O=v(A,"TD",{});var M=k(O);q=C(M,j),M.forEach(_),d=P(A),w=v(A,"TD",{class:!0});var T=k(w);X(p.$$.fragment,T),T.forEach(_),g=P(A),c=v(A,"TD",{});var V=k(c);X(E.$$.fragment,V),V.forEach(_),h=P(A),N=v(A,"TD",{class:!0});var ee=k(N);X(F.$$.fragment,ee),ee.forEach(_),B=P(A),A.forEach(_),this.h()},h(){z(w,"class","tal"),z(N,"class","tal")},m(y,A){Y(y,t,A),i(t,n),i(n,l),i(t,r),i(t,s),i(s,a),i(t,f),i(t,m),Z($,m,null),i(t,D),i(t,O),i(O,q),i(t,d),i(t,w),Z(p,w,null),i(t,g),i(t,c),Z(E,c,null),i(t,h),i(t,N),Z(F,N,null),i(t,B),U=!0},p(y,A){(!U||A&1)&&e!==(e=y[5].bracket+"")&&te(l,e),(!U||A&1)&&o!==(o=y[5].round+"")&&te(a,o);const L={};A&1&&(L.win=y[5].wl),$.$set(L),(!U||A&1)&&j!==(j=y[5].score_text+"")&&te(q,j);const J={};A&1&&(J.name=y[5].opponent_team_name),A&1&&(J.current_name=y[5].opponent_team_current_name),p.$set(J);const K={};A&1&&(K.rank=y[5].opponent_team_rank),E.$set(K);const M={};A&1&&(M.players=y[5].opponents_list),F.$set(M)},i(y){U||(H($.$$.fragment,y),H(p.$$.fragment,y),H(E.$$.fragment,y),H(F.$$.fragment,y),U=!0)},o(y){R($.$$.fragment,y),R(p.$$.fragment,y),R(E.$$.fragment,y),R(F.$$.fragment,y),U=!1},d(y){y&&_(t),x($),x(p),x(E),x(F)}}}function We(u){let t,n,e=u[5].tnmt_key===u[2].tournament_key&&Qe(u);return{c(){e&&e.c(),t=ne()},l(l){e&&e.l(l),t=ne()},m(l,r){e&&e.m(l,r),Y(l,t,r),n=!0},p(l,r){l[5].tnmt_key===l[2].tournament_key?e?(e.p(l,r),r&1&&H(e,1)):(e=Qe(l),e.c(),H(e,1),e.m(t.parentNode,t)):e&&(ae(),R(e,1,1,()=>{e=null}),se())},i(l){n||(H(e),n=!0)},o(l){R(e),n=!1},d(l){e&&e.d(l),l&&_(t)}}}function Xe(u){let t,n,e,l,r,s=u[5].bracket+"",o,a,f,m,$=u[5].round+"",D,O,j,q=u[5].score_text+"",d,w,p,g,c,E,h,N,F,B,U,y,A,L,J,K;return e=new ut({props:{win:u[5].wl}}),f=new ce({props:{t:"R"}}),c=new ce({props:{t:"vs."}}),h=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),B=new Ee({props:{rank:u[5].opponent_team_rank}}),L=new ve({props:{players:u[5].opponents_list}}),{c(){t=b("tr"),n=b("td"),W(e.$$.fragment),l=S(),r=b("td"),o=I(s),a=S(),W(f.$$.fragment),m=S(),D=I($),O=S(),j=b("td"),d=I(q),w=S(),p=b("tr"),g=b("td"),W(c.$$.fragment),E=S(),W(h.$$.fragment),N=S(),F=b("td"),W(B.$$.fragment),U=S(),y=b("tr"),A=b("td"),W(L.$$.fragment),J=S(),this.h()},l(M){t=v(M,"TR",{});var T=k(t);n=v(T,"TD",{class:!0,rowspan:!0,style:!0});var V=k(n);X(e.$$.fragment,V),V.forEach(_),l=P(T),r=v(T,"TD",{class:!0});var ee=k(r);o=C(ee,s),a=P(ee),X(f.$$.fragment,ee),m=P(ee),D=C(ee,$),ee.forEach(_),O=P(T),j=v(T,"TD",{class:!0});var Q=k(j);d=C(Q,q),Q.forEach(_),T.forEach(_),w=P(M),p=v(M,"TR",{});var G=k(p);g=v(G,"TD",{class:!0});var le=k(g);X(c.$$.fragment,le),E=P(le),X(h.$$.fragment,le),le.forEach(_),N=P(G),F=v(G,"TD",{class:!0});var oe=k(F);X(B.$$.fragment,oe),oe.forEach(_),G.forEach(_),U=P(M),y=v(M,"TR",{});var re=k(y);A=v(re,"TD",{colspan:!0,class:!0,style:!0});var fe=k(A);X(L.$$.fragment,fe),fe.forEach(_),J=P(re),re.forEach(_),this.h()},h(){z(n,"class","tac"),z(n,"rowspan","3"),ue(n,"vertical-align","middle"),z(r,"class","tal"),z(j,"class","nw"),z(g,"class","tal"),z(F,"class","nw"),z(A,"colspan","2"),z(A,"class","tal"),ue(A,"padding-left","1em")},m(M,T){Y(M,t,T),i(t,n),Z(e,n,null),i(t,l),i(t,r),i(r,o),i(r,a),Z(f,r,null),i(r,m),i(r,D),i(t,O),i(t,j),i(j,d),Y(M,w,T),Y(M,p,T),i(p,g),Z(c,g,null),i(g,E),Z(h,g,null),i(p,N),i(p,F),Z(B,F,null),Y(M,U,T),Y(M,y,T),i(y,A),Z(L,A,null),i(y,J),K=!0},p(M,T){const V={};T&1&&(V.win=M[5].wl),e.$set(V),(!K||T&1)&&s!==(s=M[5].bracket+"")&&te(o,s),(!K||T&1)&&$!==($=M[5].round+"")&&te(D,$),(!K||T&1)&&q!==(q=M[5].score_text+"")&&te(d,q);const ee={};T&1&&(ee.name=M[5].opponent_team_name),T&1&&(ee.current_name=M[5].opponent_team_current_name),h.$set(ee);const Q={};T&1&&(Q.rank=M[5].opponent_team_rank),B.$set(Q);const G={};T&1&&(G.players=M[5].opponents_list),L.$set(G)},i(M){K||(H(e.$$.fragment,M),H(f.$$.fragment,M),H(c.$$.fragment,M),H(h.$$.fragment,M),H(B.$$.fragment,M),H(L.$$.fragment,M),K=!0)},o(M){R(e.$$.fragment,M),R(f.$$.fragment,M),R(c.$$.fragment,M),R(h.$$.fragment,M),R(B.$$.fragment,M),R(L.$$.fragment,M),K=!1},d(M){M&&_(t),x(e),x(f),M&&_(w),M&&_(p),x(c),x(h),x(B),M&&_(U),M&&_(y),x(L)}}}function Ze(u){let t,n,e=u[5].tnmt_key===u[2].tournament_key&&Xe(u);return{c(){e&&e.c(),t=ne()},l(l){e&&e.l(l),t=ne()},m(l,r){e&&e.m(l,r),Y(l,t,r),n=!0},p(l,r){l[5].tnmt_key===l[2].tournament_key?e?(e.p(l,r),r&1&&H(e,1)):(e=Xe(l),e.c(),H(e,1),e.m(t.parentNode,t)):e&&(ae(),R(e,1,1,()=>{e=null}),se())},i(l){n||(H(e),n=!0)},o(l){R(e),n=!1},d(l){e&&e.d(l),l&&_(t)}}}function xe(u){let t,n,e,l,r,s,o,a,f,m,$,D,O,j,q,d,w=u[2].member_name+"",p,g,c,E,h,N,F,B,U,y,A,L;n=new gt({props:{name:u[2].tournament_name,key:u[2].tournament_key,official:!1}}),f=new De({props:{date:u[2].tournament_date}}),O=new we({props:{name:u[2].team_name,current_name:u[2].team_name}}),c=new ve({props:{players:u[2].mate_list}}),F=new Ee({props:{rank:u[2].team_result}});const J=[qt,Yt],K=[];function M(T,V){return T[1]?0:1}return U=M(u),y=K[U]=J[U](u),{c(){t=b("h3"),W(n.$$.fragment),l=S(),r=b("dl"),s=b("dt"),o=I("\u958B\u50AC\u65E5"),a=b("dd"),W(f.$$.fragment),m=b("dt"),$=I("\u30C1\u30FC\u30E0"),D=b("dd"),W(O.$$.fragment),j=b("dt"),q=I("\u30E1\u30F3\u30D0\u30FC"),d=b("dd"),p=I(w),g=I(", "),W(c.$$.fragment),E=b("dt"),h=I("\u7D50\u679C"),N=b("dd"),W(F.$$.fragment),B=S(),y.c(),A=ne(),this.h()},l(T){t=v(T,"H3",{id:!0});var V=k(t);X(n.$$.fragment,V),V.forEach(_),l=P(T),r=v(T,"DL",{});var ee=k(r);s=v(ee,"DT",{});var Q=k(s);o=C(Q,"\u958B\u50AC\u65E5"),Q.forEach(_),a=v(ee,"DD",{});var G=k(a);X(f.$$.fragment,G),G.forEach(_),m=v(ee,"DT",{});var le=k(m);$=C(le,"\u30C1\u30FC\u30E0"),le.forEach(_),D=v(ee,"DD",{});var oe=k(D);X(O.$$.fragment,oe),oe.forEach(_),j=v(ee,"DT",{});var re=k(j);q=C(re,"\u30E1\u30F3\u30D0\u30FC"),re.forEach(_),d=v(ee,"DD",{});var fe=k(d);p=C(fe,w),g=C(fe,", "),X(c.$$.fragment,fe),fe.forEach(_),E=v(ee,"DT",{});var $e=k(E);h=C($e,"\u7D50\u679C"),$e.forEach(_),N=v(ee,"DD",{});var _e=k(N);X(F.$$.fragment,_e),_e.forEach(_),ee.forEach(_),B=P(T),y.l(T),A=ne(),this.h()},h(){z(t,"id",e=u[2].tournament_key)},m(T,V){Y(T,t,V),Z(n,t,null),Y(T,l,V),Y(T,r,V),i(r,s),i(s,o),i(r,a),Z(f,a,null),i(r,m),i(m,$),i(r,D),Z(O,D,null),i(r,j),i(j,q),i(r,d),i(d,p),i(d,g),Z(c,d,null),i(r,E),i(E,h),i(r,N),Z(F,N,null),Y(T,B,V),K[U].m(T,V),Y(T,A,V),L=!0},p(T,V){const ee={};V&1&&(ee.name=T[2].tournament_name),V&1&&(ee.key=T[2].tournament_key),n.$set(ee),(!L||V&1&&e!==(e=T[2].tournament_key))&&z(t,"id",e);const Q={};V&1&&(Q.date=T[2].tournament_date),f.$set(Q);const G={};V&1&&(G.name=T[2].team_name),V&1&&(G.current_name=T[2].team_name),O.$set(G),(!L||V&1)&&w!==(w=T[2].member_name+"")&&te(p,w);const le={};V&1&&(le.players=T[2].mate_list),c.$set(le);const oe={};V&1&&(oe.rank=T[2].team_result),F.$set(oe);let re=U;U=M(T),U===re?K[U].p(T,V):(ae(),R(K[re],1,1,()=>{K[re]=null}),se(),y=K[U],y?y.p(T,V):(y=K[U]=J[U](T),y.c()),H(y,1),y.m(A.parentNode,A))},i(T){L||(H(n.$$.fragment,T),H(f.$$.fragment,T),H(O.$$.fragment,T),H(c.$$.fragment,T),H(F.$$.fragment,T),H(y),L=!0)},o(T){R(n.$$.fragment,T),R(f.$$.fragment,T),R(O.$$.fragment,T),R(c.$$.fragment,T),R(F.$$.fragment,T),R(y),L=!1},d(T){T&&_(t),x(n),T&&_(l),T&&_(r),x(f),x(O),x(c),x(F),T&&_(B),K[U].d(T),T&&_(A)}}}function It(u){let t,n,e=u[0].tournaments,l=[];for(let s=0;s<e.length;s+=1)l[s]=xe(ze(u,e,s));const r=s=>R(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=ne()},l(s){for(let o=0;o<l.length;o+=1)l[o].l(s);t=ne()},m(s,o){for(let a=0;a<l.length;a+=1)l[a].m(s,o);Y(s,t,o),n=!0},p(s,[o]){if(o&3){e=s[0].tournaments;let a;for(a=0;a<e.length;a+=1){const f=ze(s,e,a);l[a]?(l[a].p(f,o),H(l[a],1)):(l[a]=xe(f),l[a].c(),H(l[a],1),l[a].m(t.parentNode,t))}for(ae(),a=e.length;a<l.length;a+=1)r(a);se()}},i(s){if(!n){for(let o=0;o<e.length;o+=1)H(l[o]);n=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)R(l[o]);n=!1},d(s){de(l,s),s&&_(t)}}}function Ct(u,t,n){let e,l;return me(u,he,r=>n(0,e=r)),me(u,ft,r=>n(1,l=r)),[e,l]}class Ft extends pe{constructor(t){super(),ge(this,t,Ct,It,be,{})}}const Ut=He(he,u=>{if(u==null)return[];const t={},n=[];for(const r of u.tournaments){const s={key:r.tournament_key,win:0,lose:0};for(const o of u.matches)o.tnmt_key===r.tournament_key&&(o.opponent_team_key===o.loser_key?s.win+=1:s.lose+=1);for(const o of r.mate_list)t[o]===void 0?t[o]={name:o,tournaments:[r.tournament_key]}:t[o].tournaments.push(r.tournament_key);n.push(s)}const e=Object.values(t);return[...new Set(Object.values(t).map(r=>r.tournaments.join("	")))].map(r=>r.split("	")).sort((r,s)=>s.length-r.length).map(r=>{const s=n.filter(o=>r.includes(o.key));return{names:e.filter(o=>o.tournaments.sort().join("	")===r.sort().join("	")).map(o=>o.name),entry:r.length,win:s.reduce((o,a)=>o+a.win,0),lose:s.reduce((o,a)=>o+a.lose,0)}})});function et(u,t,n){const e=u.slice();return e[1]=t[n],e}function tt(u){let t,n,e=u[1].entry+"",l,r,s,o,a=u[1].win+"",f,m,$,D=u[1].lose+"",O,j,q,d,w,p,g;return r=new ce({props:{t:" \u5927\u4F1A"}}),m=new ce({props:{t:" \u52DD"}}),j=new ce({props:{t:" \u6557"}}),w=new ve({props:{players:u[1].names}}),{c(){t=b("tr"),n=b("td"),l=I(e),W(r.$$.fragment),s=S(),o=b("td"),f=I(a),W(m.$$.fragment),$=S(),O=I(D),W(j.$$.fragment),q=S(),d=b("td"),W(w.$$.fragment),p=S(),this.h()},l(c){t=v(c,"TR",{});var E=k(t);n=v(E,"TD",{class:!0});var h=k(n);l=C(h,e),X(r.$$.fragment,h),h.forEach(_),s=P(E),o=v(E,"TD",{class:!0});var N=k(o);f=C(N,a),X(m.$$.fragment,N),$=P(N),O=C(N,D),X(j.$$.fragment,N),N.forEach(_),q=P(E),d=v(E,"TD",{class:!0});var F=k(d);X(w.$$.fragment,F),F.forEach(_),p=P(E),E.forEach(_),this.h()},h(){z(n,"class","nw"),z(o,"class","nw"),z(d,"class","tal")},m(c,E){Y(c,t,E),i(t,n),i(n,l),Z(r,n,null),i(t,s),i(t,o),i(o,f),Z(m,o,null),i(o,$),i(o,O),Z(j,o,null),i(t,q),i(t,d),Z(w,d,null),i(t,p),g=!0},p(c,E){(!g||E&1)&&e!==(e=c[1].entry+"")&&te(l,e),(!g||E&1)&&a!==(a=c[1].win+"")&&te(f,a),(!g||E&1)&&D!==(D=c[1].lose+"")&&te(O,D);const h={};E&1&&(h.players=c[1].names),w.$set(h)},i(c){g||(H(r.$$.fragment,c),H(m.$$.fragment,c),H(j.$$.fragment,c),H(w.$$.fragment,c),g=!0)},o(c){R(r.$$.fragment,c),R(m.$$.fragment,c),R(j.$$.fragment,c),R(w.$$.fragment,c),g=!1},d(c){c&&_(t),x(r),x(m),x(j),x(w)}}}function Kt(u){let t,n,e,l,r,s,o,a,f,m,$,D,O,j,q,d,w=u[0],p=[];for(let c=0;c<w.length;c+=1)p[c]=tt(et(u,w,c));const g=c=>R(p[c],1,1,()=>{p[c]=null});return{c(){t=b("h3"),n=I("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),e=S(),l=b("table"),r=b("thead"),s=b("tr"),o=b("th"),a=I("\u540C\u30C1\u30FC\u30E0"),f=S(),m=b("th"),$=I("\u6210\u7E3E"),D=S(),O=b("th"),j=S(),q=b("tbody");for(let c=0;c<p.length;c+=1)p[c].c();this.h()},l(c){t=v(c,"H3",{});var E=k(t);n=C(E,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),E.forEach(_),e=P(c),l=v(c,"TABLE",{});var h=k(l);r=v(h,"THEAD",{});var N=k(r);s=v(N,"TR",{});var F=k(s);o=v(F,"TH",{class:!0,style:!0});var B=k(o);a=C(B,"\u540C\u30C1\u30FC\u30E0"),B.forEach(_),f=P(F),m=v(F,"TH",{class:!0,style:!0});var U=k(m);$=C(U,"\u6210\u7E3E"),U.forEach(_),D=P(F),O=v(F,"TH",{}),k(O).forEach(_),F.forEach(_),N.forEach(_),j=P(h),q=v(h,"TBODY",{});var y=k(q);for(let A=0;A<p.length;A+=1)p[A].l(y);y.forEach(_),h.forEach(_),this.h()},h(){z(o,"class","nw"),ue(o,"width","5em"),z(m,"class","nw"),ue(m,"width","7em")},m(c,E){Y(c,t,E),i(t,n),Y(c,e,E),Y(c,l,E),i(l,r),i(r,s),i(s,o),i(o,a),i(s,f),i(s,m),i(m,$),i(s,D),i(s,O),i(l,j),i(l,q);for(let h=0;h<p.length;h+=1)p[h].m(q,null);d=!0},p(c,[E]){if(E&1){w=c[0];let h;for(h=0;h<w.length;h+=1){const N=et(c,w,h);p[h]?(p[h].p(N,E),H(p[h],1)):(p[h]=tt(N),p[h].c(),H(p[h],1),p[h].m(q,null))}for(ae(),h=w.length;h<p.length;h+=1)g(h);se()}},i(c){if(!d){for(let E=0;E<w.length;E+=1)H(p[E]);d=!0}},o(c){p=p.filter(Boolean);for(let E=0;E<p.length;E+=1)R(p[E]);d=!1},d(c){c&&_(t),c&&_(e),c&&_(l),de(p,c)}}}function Vt(u,t,n){let e;return me(u,Ut,l=>n(0,e=l)),[e]}class zt extends pe{constructor(t){super(),ge(this,t,Vt,Kt,be,{})}}const Gt=He(he,u=>{if(u==null)return[];const t={};for(const e of u.matches)for(const l of e.opponents_list){const r=e.opponent_team_key===e.loser_key,s=`${e.tnmt_key}/${e.bracket}/${e.round}`;t[l]===void 0?t[l]={name:l,win:r?1:0,lose:r?0:1,matches:[s]}:(t[l].matches.push(s),r?t[l].win+=1:t[l].lose+=1)}const n=Object.values(t);return[...new Set(Object.values(t).map(e=>e.matches.join("	")))].map(e=>e.split("	")).sort((e,l)=>l.length-e.length).filter(e=>e.length>=3).map(e=>{const l=n.filter(r=>r.matches.join("	")===e.join("	"));return{names:l.map(r=>r.name),win:l[0].win,lose:l[0].lose}}).sort((e,l)=>l.win-e.win)});function lt(u,t,n){const e=u.slice();return e[1]=t[n],e}function nt(u){let t,n,e=u[1].win+"",l,r,s,o,a=u[1].lose+"",f,m,$,D,O,j,q,d;return s=new ce({props:{t:"\u52DD"}}),$=new ce({props:{t:"\u6557"}}),j=new ve({props:{players:u[1].names}}),{c(){t=b("tr"),n=b("td"),l=I(e),r=S(),W(s.$$.fragment),o=S(),f=I(a),m=S(),W($.$$.fragment),D=S(),O=b("td"),W(j.$$.fragment),q=S(),this.h()},l(w){t=v(w,"TR",{});var p=k(t);n=v(p,"TD",{class:!0});var g=k(n);l=C(g,e),r=P(g),X(s.$$.fragment,g),o=P(g),f=C(g,a),m=P(g),X($.$$.fragment,g),g.forEach(_),D=P(p),O=v(p,"TD",{class:!0});var c=k(O);X(j.$$.fragment,c),c.forEach(_),q=P(p),p.forEach(_),this.h()},h(){z(n,"class","nw"),z(O,"class","tal")},m(w,p){Y(w,t,p),i(t,n),i(n,l),i(n,r),Z(s,n,null),i(n,o),i(n,f),i(n,m),Z($,n,null),i(t,D),i(t,O),Z(j,O,null),i(t,q),d=!0},p(w,p){(!d||p&1)&&e!==(e=w[1].win+"")&&te(l,e),(!d||p&1)&&a!==(a=w[1].lose+"")&&te(f,a);const g={};p&1&&(g.players=w[1].names),j.$set(g)},i(w){d||(H(s.$$.fragment,w),H($.$$.fragment,w),H(j.$$.fragment,w),d=!0)},o(w){R(s.$$.fragment,w),R($.$$.fragment,w),R(j.$$.fragment,w),d=!1},d(w){w&&_(t),x(s),x($),x(j)}}}function Jt(u){let t,n,e,l,r,s,o,a,f,m,$,D,O,j,q=u[0],d=[];for(let p=0;p<q.length;p+=1)d[p]=nt(lt(u,q,p));const w=p=>R(d[p],1,1,()=>{d[p]=null});return{c(){t=b("h3"),n=I("\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),e=S(),l=b("table"),r=b("thead"),s=b("tr"),o=b("th"),a=I("\u901A\u7B97\u6210\u7E3E"),f=S(),m=b("th"),$=I("\u30D7\u30EC\u30A4\u30E4\u30FC"),D=S(),O=b("tbody");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){t=v(p,"H3",{});var g=k(t);n=C(g,"\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),g.forEach(_),e=P(p),l=v(p,"TABLE",{});var c=k(l);r=v(c,"THEAD",{});var E=k(r);s=v(E,"TR",{});var h=k(s);o=v(h,"TH",{class:!0,style:!0});var N=k(o);a=C(N,"\u901A\u7B97\u6210\u7E3E"),N.forEach(_),f=P(h),m=v(h,"TH",{class:!0});var F=k(m);$=C(F,"\u30D7\u30EC\u30A4\u30E4\u30FC"),F.forEach(_),h.forEach(_),E.forEach(_),D=P(c),O=v(c,"TBODY",{});var B=k(O);for(let U=0;U<d.length;U+=1)d[U].l(B);B.forEach(_),c.forEach(_),this.h()},h(){z(o,"class","nw"),ue(o,"width","7em"),z(m,"class","tal")},m(p,g){Y(p,t,g),i(t,n),Y(p,e,g),Y(p,l,g),i(l,r),i(r,s),i(s,o),i(o,a),i(s,f),i(s,m),i(m,$),i(l,D),i(l,O);for(let c=0;c<d.length;c+=1)d[c].m(O,null);j=!0},p(p,[g]){if(g&1){q=p[0];let c;for(c=0;c<q.length;c+=1){const E=lt(p,q,c);d[c]?(d[c].p(E,g),H(d[c],1)):(d[c]=nt(E),d[c].c(),H(d[c],1),d[c].m(O,null))}for(ae(),c=q.length;c<d.length;c+=1)w(c);se()}},i(p){if(!j){for(let g=0;g<q.length;g+=1)H(d[g]);j=!0}},o(p){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)R(d[g]);j=!1},d(p){p&&_(t),p&&_(e),p&&_(l),de(d,p)}}}function Qt(u,t,n){let e;return me(u,Gt,l=>n(0,e=l)),[e]}class Wt extends pe{constructor(t){super(),ge(this,t,Qt,Jt,be,{})}}function Xt(u){let t,n;return t=new dt({}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,l){Z(t,e,l),n=!0},p:ke,i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){x(t,e)}}}function Zt(u){let t,n,e,l=u[3].player.collated_name+"",r,s,o,a,f,m,$,D,O,j,q,d,w,p;t=new ht({props:{title:u[3].player.collated_name+" : "+u[1],type:"article",url:"player/detail/?q="+u[2],description:""}}),f=new ye({props:{current_mode:u[0],mode:"basic",name:"\u57FA\u672C",url:"/player/detail?p="+u[2]+"&mode=basic"}}),$=new ye({props:{current_mode:u[0],mode:"tournament",name:"\u5927\u4F1A",url:"/player/detail?p="+u[2]+"&mode=tournament"}}),O=new ye({props:{current_mode:u[0],mode:"relation",name:"\u95A2\u9023",url:"/player/detail?p="+u[2]+"&mode=relation"}});let g=u[0]==="basic"&&rt(),c=u[0]==="tournament"&&at(),E=u[0]==="relation"&&st();return{c(){W(t.$$.fragment),n=S(),e=b("h1"),r=I(l),o=S(),a=b("div"),W(f.$$.fragment),m=I(` |
    `),W($.$$.fragment),D=I(` |
    `),W(O.$$.fragment),j=S(),g&&g.c(),q=S(),c&&c.c(),d=S(),E&&E.c(),w=ne(),this.h()},l(h){X(t.$$.fragment,h),n=P(h),e=v(h,"H1",{class:!0});var N=k(e);r=C(N,l),N.forEach(_),o=P(h),a=v(h,"DIV",{class:!0});var F=k(a);X(f.$$.fragment,F),m=C(F,` |
    `),X($.$$.fragment,F),D=C(F,` |
    `),X(O.$$.fragment,F),F.forEach(_),j=P(h),g&&g.l(h),q=P(h),c&&c.l(h),d=P(h),E&&E.l(h),w=ne(),this.h()},h(){z(e,"class",s=Re(u[3].player.rating)),z(a,"class","detail-tab")},m(h,N){Z(t,h,N),Y(h,n,N),Y(h,e,N),i(e,r),Y(h,o,N),Y(h,a,N),Z(f,a,null),i(a,m),Z($,a,null),i(a,D),Z(O,a,null),Y(h,j,N),g&&g.m(h,N),Y(h,q,N),c&&c.m(h,N),Y(h,d,N),E&&E.m(h,N),Y(h,w,N),p=!0},p(h,N){const F={};N&10&&(F.title=h[3].player.collated_name+" : "+h[1]),N&4&&(F.url="player/detail/?q="+h[2]),t.$set(F),(!p||N&8)&&l!==(l=h[3].player.collated_name+"")&&te(r,l),(!p||N&8&&s!==(s=Re(h[3].player.rating)))&&z(e,"class",s);const B={};N&1&&(B.current_mode=h[0]),N&4&&(B.url="/player/detail?p="+h[2]+"&mode=basic"),f.$set(B);const U={};N&1&&(U.current_mode=h[0]),N&4&&(U.url="/player/detail?p="+h[2]+"&mode=tournament"),$.$set(U);const y={};N&1&&(y.current_mode=h[0]),N&4&&(y.url="/player/detail?p="+h[2]+"&mode=relation"),O.$set(y),h[0]==="basic"?g?N&1&&H(g,1):(g=rt(),g.c(),H(g,1),g.m(q.parentNode,q)):g&&(ae(),R(g,1,1,()=>{g=null}),se()),h[0]==="tournament"?c?N&1&&H(c,1):(c=at(),c.c(),H(c,1),c.m(d.parentNode,d)):c&&(ae(),R(c,1,1,()=>{c=null}),se()),h[0]==="relation"?E?N&1&&H(E,1):(E=st(),E.c(),H(E,1),E.m(w.parentNode,w)):E&&(ae(),R(E,1,1,()=>{E=null}),se())},i(h){p||(H(t.$$.fragment,h),H(f.$$.fragment,h),H($.$$.fragment,h),H(O.$$.fragment,h),H(g),H(c),H(E),p=!0)},o(h){R(t.$$.fragment,h),R(f.$$.fragment,h),R($.$$.fragment,h),R(O.$$.fragment,h),R(g),R(c),R(E),p=!1},d(h){x(t,h),h&&_(n),h&&_(e),h&&_(o),h&&_(a),x(f),x($),x(O),h&&_(j),g&&g.d(h),h&&_(q),c&&c.d(h),h&&_(d),E&&E.d(h),h&&_(w)}}}function rt(u){let t,n,e,l;return t=new wt({}),e=new Bt({}),{c(){W(t.$$.fragment),n=S(),W(e.$$.fragment)},l(r){X(t.$$.fragment,r),n=P(r),X(e.$$.fragment,r)},m(r,s){Z(t,r,s),Y(r,n,s),Z(e,r,s),l=!0},i(r){l||(H(t.$$.fragment,r),H(e.$$.fragment,r),l=!0)},o(r){R(t.$$.fragment,r),R(e.$$.fragment,r),l=!1},d(r){x(t,r),r&&_(n),x(e,r)}}}function at(u){let t,n,e,l,r,s,o;return l=new Mt({}),s=new Ft({}),{c(){t=b("h2"),n=I("\u53C2\u52A0\u5927\u4F1A"),e=S(),W(l.$$.fragment),r=S(),W(s.$$.fragment)},l(a){t=v(a,"H2",{});var f=k(t);n=C(f,"\u53C2\u52A0\u5927\u4F1A"),f.forEach(_),e=P(a),X(l.$$.fragment,a),r=P(a),X(s.$$.fragment,a)},m(a,f){Y(a,t,f),i(t,n),Y(a,e,f),Z(l,a,f),Y(a,r,f),Z(s,a,f),o=!0},i(a){o||(H(l.$$.fragment,a),H(s.$$.fragment,a),o=!0)},o(a){R(l.$$.fragment,a),R(s.$$.fragment,a),o=!1},d(a){a&&_(t),a&&_(e),x(l,a),a&&_(r),x(s,a)}}}function st(u){let t,n,e,l,r,s,o;return l=new zt({}),s=new Wt({}),{c(){t=b("h2"),n=I("\u95A2\u9023\u60C5\u5831"),e=S(),W(l.$$.fragment),r=S(),W(s.$$.fragment)},l(a){t=v(a,"H2",{});var f=k(t);n=C(f,"\u95A2\u9023\u60C5\u5831"),f.forEach(_),e=P(a),X(l.$$.fragment,a),r=P(a),X(s.$$.fragment,a)},m(a,f){Y(a,t,f),i(t,n),Y(a,e,f),Z(l,a,f),Y(a,r,f),Z(s,a,f),o=!0},i(a){o||(H(l.$$.fragment,a),H(s.$$.fragment,a),o=!0)},o(a){R(l.$$.fragment,a),R(s.$$.fragment,a),o=!1},d(a){a&&_(t),a&&_(e),x(l,a),a&&_(r),x(s,a)}}}function xt(u){let t,n,e,l,r,s=!mt;const o=[Zt,Xt],a=[];function f(m,$){return m[3]?0:1}return n=f(u),e=a[n]=o[n](u),{c(){t=S(),e.c(),l=ne()},l(m){t=P(m),e.l(m),l=ne()},m(m,$){Y(m,t,$),a[n].m(m,$),Y(m,l,$),r=!0},p(m,[$]){let D=n;n=f(m),n===D?a[n].p(m,$):(ae(),R(a[D],1,1,()=>{a[D]=null}),se(),e=a[n],e?e.p(m,$):(e=a[n]=o[n](m),e.c()),H(e,1),e.m(l.parentNode,l))},i(m){r||(H(s),H(e),r=!0)},o(m){R(s),R(e),r=!1},d(m){m&&_(t),a[n].d(m),m&&_(l)}}}function el(u,t,n){let e,l,r;me(u,Oe,f=>n(2,l=f)),me(u,he,f=>n(3,r=f));let s="tournament";it(()=>{a(null)});async function o(f){je("player/player_aliases.json").then(m=>m.json()).then(m=>a(m[f])).catch(()=>[])}async function a(f){n(0,s=_t("tournament","mode"));const m=ct(f,"p");l===m||m===null||(he.set(null),Oe.set(m),je(`player/${l}.json`).then($=>{if([403,404].indexOf($.status)!==-1)throw new Error("NOT FOUND");return $.json()}).then($=>{bt($)}).catch($=>{$.message==="NOT FOUND"&&f===null&&o(l)}))}return u.$$.update=()=>{u.$$.dirty&1&&n(1,e={basic:"\u57FA\u672C",tournament:"\u5927\u4F1A",relation:"\u95A2\u9023"}[s])},[s,e,l,r]}class gl extends pe{constructor(t){super(),ge(this,t,el,xt,be,{})}}export{gl as default};
