import{S as pe,i as ge,s as be,e as b,t as F,c as v,a as k,h as U,d as m,g as Y,K as i,j as te,l as ne,b as z,k as P,w as W,m as M,x as X,y as Z,q as y,o as L,B as x,P as me,n as re,p as ae,R as de,E as ke,f as ue}from"../../../chunks/index-15dce5f7.js";import{a as it}from"../../../chunks/navigation-13fd7038.js";import{w as ot,d as He}from"../../../chunks/index-0695a55f.js";import{o as ft,q as mt,j as _t,k as je,h as Re}from"../../../chunks/global-fab70934.js";import{H as ct}from"../../../chunks/Header-dda1721f.js";import{T as ht,P as ye}from"../../../chunks/PageTab-9361fc35.js";import{D as De,T as ce,P as $t}from"../../../chunks/PopUpA-022d3435.js";import{S as dt}from"../../../chunks/Span-465bde08.js";import{T as we,a as Ee}from"../../../chunks/TeamName-7fa6d4ae.js";import{P as ve}from"../../../chunks/PlayersLine-6e2a82ff.js";import{M as ut}from"../../../chunks/MatchResult-fc4c9239.js";import{T as pt}from"../../../chunks/TournamentName-bac5c1ec.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/PlayerName-5dd83597.js";import"../../../chunks/Twitch-55dc744f.js";const Oe=ot(""),he=ot(null);function gt(u){for(const e of u.matches)e.wl=e.opponent_team_key===e.loser_key,e.score_text=e.wl?`${e.winner_score} - ${e.loser_score}`:`${e.loser_score} - ${e.winner_score}`;he.set(u)}function Ae(u){let e,n,t,l=[...new Set(u[0].tournaments.map(Ye))].join(", ")+"",a;return{c(){e=b("dt"),n=F("\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),t=b("dd"),a=F(l)},l(s){e=v(s,"DT",{});var o=k(e);n=U(o,"\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),o.forEach(m),t=v(s,"DD",{});var r=k(t);a=U(r,l),r.forEach(m)},m(s,o){Y(s,e,o),i(e,n),Y(s,t,o),i(t,a)},p(s,o){o&1&&l!==(l=[...new Set(s[0].tournaments.map(Ye))].join(", ")+"")&&te(a,l)},d(s){s&&m(e),s&&m(t)}}}function Le(u){let e,n,t,l=u[0].data.twitter&&Se(u),a=u[0].data.youtube&&Pe(u),s=u[0].data.twitch&&Me(u);return{c(){l&&l.c(),e=ne(),a&&a.c(),n=ne(),s&&s.c(),t=ne()},l(o){l&&l.l(o),e=ne(),a&&a.l(o),n=ne(),s&&s.l(o),t=ne()},m(o,r){l&&l.m(o,r),Y(o,e,r),a&&a.m(o,r),Y(o,n,r),s&&s.m(o,r),Y(o,t,r)},p(o,r){o[0].data.twitter?l?l.p(o,r):(l=Se(o),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o[0].data.youtube?a?a.p(o,r):(a=Pe(o),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),o[0].data.twitch?s?s.p(o,r):(s=Me(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){l&&l.d(o),o&&m(e),a&&a.d(o),o&&m(n),s&&s.d(o),o&&m(t)}}}function Se(u){let e,n,t,l,a,s=u[0].data.twitter+"",o,r;return{c(){e=b("dt"),n=b("i"),t=F(" twitter"),l=b("dd"),a=b("a"),o=F(s),this.h()},l(f){e=v(f,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," twitter"),_.forEach(m),l=v(f,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var H=k(a);o=U(H,s),H.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitter"),z(a,"href",r="https://twitter.com/"+u[0].data.twitter)},m(f,_){Y(f,e,_),i(e,n),i(e,t),Y(f,l,_),i(l,a),i(a,o)},p(f,_){_&1&&s!==(s=f[0].data.twitter+"")&&te(o,s),_&1&&r!==(r="https://twitter.com/"+f[0].data.twitter)&&z(a,"href",r)},d(f){f&&m(e),f&&m(l)}}}function Pe(u){let e,n,t,l,a,s=u[0].data.youtube[1]+"",o,r;return{c(){e=b("dt"),n=b("i"),t=F(" youtube"),l=b("dd"),a=b("a"),o=F(s),this.h()},l(f){e=v(f,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," youtube"),_.forEach(m),l=v(f,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var H=k(a);o=U(H,s),H.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-youtube"),z(a,"href",r="https://www.youtube.com/channel/"+u[0].data.youtube[0])},m(f,_){Y(f,e,_),i(e,n),i(e,t),Y(f,l,_),i(l,a),i(a,o)},p(f,_){_&1&&s!==(s=f[0].data.youtube[1]+"")&&te(o,s),_&1&&r!==(r="https://www.youtube.com/channel/"+f[0].data.youtube[0])&&z(a,"href",r)},d(f){f&&m(e),f&&m(l)}}}function Me(u){let e,n,t,l,a,s=u[0].data.twitch+"",o,r;return{c(){e=b("dt"),n=b("i"),t=F(" twitch"),l=b("dd"),a=b("a"),o=F(s),this.h()},l(f){e=v(f,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," twitch"),_.forEach(m),l=v(f,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var H=k(a);o=U(H,s),H.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitch"),z(a,"href",r="https://www.twitch.tv/"+u[0].data.twitch)},m(f,_){Y(f,e,_),i(e,n),i(e,t),Y(f,l,_),i(l,a),i(a,o)},p(f,_){_&1&&s!==(s=f[0].data.twitch+"")&&te(o,s),_&1&&r!==(r="https://www.twitch.tv/"+f[0].data.twitch)&&z(a,"href",r)},d(f){f&&m(e),f&&m(l)}}}function bt(u){var d;let e,n,t,l,a,s,o,r,f,_,g,H,R=((d=u[0].player.rating)!=null?d:0).toLocaleString()+"",O,q,$=u[0].data&&Ae(u);r=new ht({props:{stats:{...u[0].player,tournament_count:u[0].player.entries}}});let w=u[0].data&&Le(u);return{c(){e=b("h2"),n=F("\u57FA\u672C\u60C5\u5831"),t=P(),l=b("dl"),$&&$.c(),a=b("dt"),s=F("\u6226\u7E3E"),o=b("dd"),W(r.$$.fragment),f=P(),_=b("dt"),g=F("\u30EC\u30FC\u30C8"),H=b("dd"),O=F(R),w&&w.c()},l(p){e=v(p,"H2",{});var c=k(e);n=U(c,"\u57FA\u672C\u60C5\u5831"),c.forEach(m),t=M(p),l=v(p,"DL",{});var E=k(l);$&&$.l(E),a=v(E,"DT",{});var h=k(a);s=U(h,"\u6226\u7E3E"),h.forEach(m),o=v(E,"DD",{});var B=k(o);X(r.$$.fragment,B),f=M(B),B.forEach(m),_=v(E,"DT",{});var I=k(_);g=U(I,"\u30EC\u30FC\u30C8"),I.forEach(m),H=v(E,"DD",{});var N=k(H);O=U(N,R),N.forEach(m),w&&w.l(E),E.forEach(m)},m(p,c){Y(p,e,c),i(e,n),Y(p,t,c),Y(p,l,c),$&&$.m(l,null),i(l,a),i(a,s),i(l,o),Z(r,o,null),i(o,f),i(l,_),i(_,g),i(l,H),i(H,O),w&&w.m(l,null),q=!0},p(p,[c]){var h;p[0].data?$?$.p(p,c):($=Ae(p),$.c(),$.m(l,a)):$&&($.d(1),$=null);const E={};c&1&&(E.stats={...p[0].player,tournament_count:p[0].player.entries}),r.$set(E),(!q||c&1)&&R!==(R=((h=p[0].player.rating)!=null?h:0).toLocaleString()+"")&&te(O,R),p[0].data?w?w.p(p,c):(w=Le(p),w.c(),w.m(l,null)):w&&(w.d(1),w=null)},i(p){q||(y(r.$$.fragment,p),q=!0)},o(p){L(r.$$.fragment,p),q=!1},d(p){p&&m(e),p&&m(t),p&&m(l),$&&$.d(),x(r),w&&w.d()}}}const Ye=u=>u.member_name;function vt(u,e,n){let t;return me(u,he,l=>n(0,t=l)),[t]}class kt extends pe{constructor(e){super(),ge(this,e,vt,bt,be,{})}}const wt=He(he,u=>{if(u==null)return[];const e={};for(const n of u.tournaments){const t=n.team_current_name;e[t]===void 0?e[t]={name:t,tournament_count:1,last_match_at:n.tournament_date,first_match_at:n.tournament_date}:(e[t].tournament_count+=1,e[t].last_match_at=Math.max(n.tournament_date,e[t].last_match_at),e[t].first_match_at=Math.min(n.tournament_date,e[t].first_match_at))}return Object.values(e).sort(n=>-n.last_match_at)});function qe(u,e,n){const t=u.slice();return t[1]=e[n],t}function Et(u){let e,n;return e=new dt({props:{date1:u[1].first_match_at,date2:u[1].last_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.date1=t[1].first_match_at),l&1&&(a.date2=t[1].last_match_at),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Tt(u){let e,n;return e=new De({props:{date:u[1].first_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.date=t[1].first_match_at),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ie(u){let e,n,t,l=u[1].tournament_count+"",a,s,o,r,f,_,g,H;n=new we({props:{name:u[1].name,current_name:u[1].name}});const R=[Tt,Et],O=[];function q($,w){return $[1].first_match_at===$[1].last_match_at?0:1}return f=q(u),_=O[f]=R[f](u),{c(){e=b("dt"),W(n.$$.fragment),t=b("dd"),a=F(l),s=F("\u56DE\u51FA\u5834"),o=b("br"),r=P(),_.c(),g=P(),this.h()},l($){e=v($,"DT",{class:!0});var w=k(e);X(n.$$.fragment,w),w.forEach(m),t=v($,"DD",{});var d=k(t);a=U(d,l),s=U(d,"\u56DE\u51FA\u5834"),o=v(d,"BR",{}),r=M(d),_.l(d),g=M(d),d.forEach(m),this.h()},h(){z(e,"class","tal nw")},m($,w){Y($,e,w),Z(n,e,null),Y($,t,w),i(t,a),i(t,s),i(t,o),i(t,r),O[f].m(t,null),i(t,g),H=!0},p($,w){const d={};w&1&&(d.name=$[1].name),w&1&&(d.current_name=$[1].name),n.$set(d),(!H||w&1)&&l!==(l=$[1].tournament_count+"")&&te(a,l);let p=f;f=q($),f===p?O[f].p($,w):(re(),L(O[p],1,1,()=>{O[p]=null}),ae(),_=O[f],_?_.p($,w):(_=O[f]=R[f]($),_.c()),y(_,1),_.m(t,g))},i($){H||(y(n.$$.fragment,$),y(_),H=!0)},o($){L(n.$$.fragment,$),L(_),H=!1},d($){$&&m(e),x(n),$&&m(t),O[f].d()}}}function Dt(u){let e,n,t,l,a,s=u[0],o=[];for(let f=0;f<s.length;f+=1)o[f]=Ie(qe(u,s,f));const r=f=>L(o[f],1,1,()=>{o[f]=null});return{c(){e=b("h2"),n=F("\u30C1\u30FC\u30E0\u5C65\u6B74"),t=P(),l=b("dl");for(let f=0;f<o.length;f+=1)o[f].c()},l(f){e=v(f,"H2",{});var _=k(e);n=U(_,"\u30C1\u30FC\u30E0\u5C65\u6B74"),_.forEach(m),t=M(f),l=v(f,"DL",{});var g=k(l);for(let H=0;H<o.length;H+=1)o[H].l(g);g.forEach(m)},m(f,_){Y(f,e,_),i(e,n),Y(f,t,_),Y(f,l,_);for(let g=0;g<o.length;g+=1)o[g].m(l,null);a=!0},p(f,[_]){if(_&1){s=f[0];let g;for(g=0;g<s.length;g+=1){const H=qe(f,s,g);o[g]?(o[g].p(H,_),y(o[g],1)):(o[g]=Ie(H),o[g].c(),y(o[g],1),o[g].m(l,null))}for(re(),g=s.length;g<o.length;g+=1)r(g);ae()}},i(f){if(!a){for(let _=0;_<s.length;_+=1)y(o[_]);a=!0}},o(f){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)L(o[_]);a=!1},d(f){f&&m(e),f&&m(t),f&&m(l),de(o,f)}}}function yt(u,e,n){let t;return me(u,wt,l=>n(0,t=l)),[t]}class Ht extends pe{constructor(e){super(),ge(this,e,yt,Dt,be,{})}}function Ce(u,e,n){const t=u.slice();return t[2]=e[n],t}function Fe(u,e,n){const t=u.slice();return t[2]=e[n],t[4]=n,t}function Ue(u){let e,n,t,l;const a=[Nt,Bt],s=[];function o(r,f){return r[1]?0:1}return e=o(u),n=s[e]=a[e](u),{c(){n.c(),t=ne()},l(r){n.l(r),t=ne()},m(r,f){s[e].m(r,f),Y(r,t,f),l=!0},p(r,f){let _=e;e=o(r),e===_?s[e].p(r,f):(re(),L(s[_],1,1,()=>{s[_]=null}),ae(),n=s[e],n?n.p(r,f):(n=s[e]=a[e](r),n.c()),y(n,1),n.m(t.parentNode,t))},i(r){l||(y(n),l=!0)},o(r){L(n),l=!1},d(r){s[e].d(r),r&&m(t)}}}function Bt(u){let e,n,t,l,a,s,o,r,f,_,g,H,R,O,q,$,w,d,p,c,E,h,B,I=u[0].tournaments,N=[];for(let T=0;T<I.length;T+=1)N[T]=Ke(Ce(u,I,T));const C=T=>L(N[T],1,1,()=>{N[T]=null});return{c(){e=b("table"),n=b("thead"),t=b("tr"),l=b("th"),a=F("\u958B\u50AC\u65E5"),s=P(),o=b("th"),r=F("\u5927\u4F1A\u540D"),f=P(),_=b("th"),g=F("\u7D50\u679C"),H=P(),R=b("th"),O=F("rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),q=P(),$=b("th"),w=F("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),d=P(),p=b("th"),c=F("\u30E1\u30F3\u30D0\u30FC"),E=P(),h=b("tbody");for(let T=0;T<N.length;T+=1)N[T].c();this.h()},l(T){e=v(T,"TABLE",{});var A=k(e);n=v(A,"THEAD",{});var S=k(n);t=v(S,"TR",{});var G=k(t);l=v(G,"TH",{});var j=k(l);a=U(j,"\u958B\u50AC\u65E5"),j.forEach(m),s=M(G),o=v(G,"TH",{class:!0});var K=k(o);r=U(K,"\u5927\u4F1A\u540D"),K.forEach(m),f=M(G),_=v(G,"TH",{});var D=k(_);g=U(D,"\u7D50\u679C"),D.forEach(m),H=M(G),R=v(G,"TH",{colspan:!0});var V=k(R);O=U(V,"rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),V.forEach(m),q=M(G),$=v(G,"TH",{class:!0});var ee=k($);w=U(ee,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),ee.forEach(m),d=M(G),p=v(G,"TH",{class:!0});var J=k(p);c=U(J,"\u30E1\u30F3\u30D0\u30FC"),J.forEach(m),G.forEach(m),S.forEach(m),E=M(A),h=v(A,"TBODY",{});var Q=k(h);for(let le=0;le<N.length;le+=1)N[le].l(Q);Q.forEach(m),A.forEach(m),this.h()},h(){z(o,"class","tal"),z(R,"colspan","3"),z($,"class","tal"),z(p,"class","tal")},m(T,A){Y(T,e,A),i(e,n),i(n,t),i(t,l),i(l,a),i(t,s),i(t,o),i(o,r),i(t,f),i(t,_),i(_,g),i(t,H),i(t,R),i(R,O),i(t,q),i(t,$),i($,w),i(t,d),i(t,p),i(p,c),i(e,E),i(e,h);for(let S=0;S<N.length;S+=1)N[S].m(h,null);B=!0},p(T,A){if(A&1){I=T[0].tournaments;let S;for(S=0;S<I.length;S+=1){const G=Ce(T,I,S);N[S]?(N[S].p(G,A),y(N[S],1)):(N[S]=Ke(G),N[S].c(),y(N[S],1),N[S].m(h,null))}for(re(),S=I.length;S<N.length;S+=1)C(S);ae()}},i(T){if(!B){for(let A=0;A<I.length;A+=1)y(N[A]);B=!0}},o(T){N=N.filter(Boolean);for(let A=0;A<N.length;A+=1)L(N[A]);B=!1},d(T){T&&m(e),de(N,T)}}}function Nt(u){let e,n,t,l=u[0].tournaments,a=[];for(let o=0;o<l.length;o+=1)a[o]=Ve(Fe(u,l,o));const s=o=>L(a[o],1,1,()=>{a[o]=null});return{c(){e=b("table"),n=b("tbody");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=v(o,"TABLE",{});var r=k(e);n=v(r,"TBODY",{class:!0});var f=k(n);for(let _=0;_<a.length;_+=1)a[_].l(f);f.forEach(m),r.forEach(m),this.h()},h(){z(n,"class","double")},m(o,r){Y(o,e,r),i(e,n);for(let f=0;f<a.length;f+=1)a[f].m(n,null);t=!0},p(o,r){if(r&1){l=o[0].tournaments;let f;for(f=0;f<l.length;f+=1){const _=Fe(o,l,f);a[f]?(a[f].p(_,r),y(a[f],1)):(a[f]=Ve(_),a[f].c(),y(a[f],1),a[f].m(n,null))}for(re(),f=l.length;f<a.length;f+=1)s(f);ae()}},i(o){if(!t){for(let r=0;r<l.length;r+=1)y(a[r]);t=!0}},o(o){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)L(a[r]);t=!1},d(o){o&&m(e),de(a,o)}}}function Ke(u){let e,n,t,l,a,s,o=u[2].tournament_name+"",r,f,_,g,H,R,O,q=ie(u[2].rating)+"",$,w,d,p=ie(u[2].rank)+"",c,E,h,B=ie(u[2].total)+"",I,N,C,T,A,S,G=u[2].member_name+"",j,K,D,V,ee;return t=new De({props:{date:u[2].tournament_date}}),H=new Ee({props:{rank:u[2].team_result}}),T=new we({props:{name:u[2].team_name,current_name:u[2].team_current_name}}),D=new ve({props:{players:u[2].mate_list}}),{c(){e=b("tr"),n=b("td"),W(t.$$.fragment),l=P(),a=b("td"),s=b("a"),r=F(o),_=P(),g=b("td"),W(H.$$.fragment),R=P(),O=b("td"),$=F(q),w=P(),d=b("td"),c=F(p),E=P(),h=b("td"),I=F(B),N=P(),C=b("td"),W(T.$$.fragment),A=P(),S=b("td"),j=F(G),K=F(", "),W(D.$$.fragment),V=P(),this.h()},l(J){e=v(J,"TR",{});var Q=k(e);n=v(Q,"TD",{});var le=k(n);X(t.$$.fragment,le),le.forEach(m),l=M(Q),a=v(Q,"TD",{class:!0});var se=k(a);s=v(se,"A",{href:!0});var oe=k(s);r=U(oe,o),oe.forEach(m),se.forEach(m),_=M(Q),g=v(Q,"TD",{});var fe=k(g);X(H.$$.fragment,fe),fe.forEach(m),R=M(Q),O=v(Q,"TD",{});var $e=k(O);$=U($e,q),$e.forEach(m),w=M(Q),d=v(Q,"TD",{class:!0});var _e=k(d);c=U(_e,p),_e.forEach(m),E=M(Q),h=v(Q,"TD",{class:!0});var Be=k(h);I=U(Be,B),Be.forEach(m),N=M(Q),C=v(Q,"TD",{class:!0});var Ne=k(C);X(T.$$.fragment,Ne),Ne.forEach(m),A=M(Q),S=v(Q,"TD",{class:!0});var Te=k(S);j=U(Te,G),K=U(Te,", "),X(D.$$.fragment,Te),Te.forEach(m),V=M(Q),Q.forEach(m),this.h()},h(){z(s,"href",f="#"+u[2].tournament_key),z(a,"class","tal"),z(d,"class","tar"),z(h,"class","tar"),z(C,"class","tal"),z(S,"class","tal")},m(J,Q){Y(J,e,Q),i(e,n),Z(t,n,null),i(e,l),i(e,a),i(a,s),i(s,r),i(e,_),i(e,g),Z(H,g,null),i(e,R),i(e,O),i(O,$),i(e,w),i(e,d),i(d,c),i(e,E),i(e,h),i(h,I),i(e,N),i(e,C),Z(T,C,null),i(e,A),i(e,S),i(S,j),i(S,K),Z(D,S,null),i(e,V),ee=!0},p(J,Q){const le={};Q&1&&(le.date=J[2].tournament_date),t.$set(le),(!ee||Q&1)&&o!==(o=J[2].tournament_name+"")&&te(r,o),(!ee||Q&1&&f!==(f="#"+J[2].tournament_key))&&z(s,"href",f);const se={};Q&1&&(se.rank=J[2].team_result),H.$set(se),(!ee||Q&1)&&q!==(q=ie(J[2].rating)+"")&&te($,q),(!ee||Q&1)&&p!==(p=ie(J[2].rank)+"")&&te(c,p),(!ee||Q&1)&&B!==(B=ie(J[2].total)+"")&&te(I,B);const oe={};Q&1&&(oe.name=J[2].team_name),Q&1&&(oe.current_name=J[2].team_current_name),T.$set(oe),(!ee||Q&1)&&G!==(G=J[2].member_name+"")&&te(j,G);const fe={};Q&1&&(fe.players=J[2].mate_list),D.$set(fe)},i(J){ee||(y(t.$$.fragment,J),y(H.$$.fragment,J),y(T.$$.fragment,J),y(D.$$.fragment,J),ee=!0)},o(J){L(t.$$.fragment,J),L(H.$$.fragment,J),L(T.$$.fragment,J),L(D.$$.fragment,J),ee=!1},d(J){J&&m(e),x(t),x(H),x(T),x(D)}}}function jt(u){let e,n=u[4]+1+"",t;return{c(){e=F("#"),t=F(n)},l(l){e=U(l,"#"),t=U(l,n)},m(l,a){Y(l,e,a),Y(l,t,a)},p:ke,d(l){l&&m(e),l&&m(t)}}}function Rt(u){let e=ie(u[2].rating)+"",n,t,l,a;return l=new ce({props:{$$slots:{default:[At]},$$scope:{ctx:u}}}),{c(){n=F(e),t=P(),W(l.$$.fragment)},l(s){n=U(s,e),t=M(s),X(l.$$.fragment,s)},m(s,o){Y(s,n,o),Y(s,t,o),Z(l,s,o),a=!0},p(s,o){(!a||o&1)&&e!==(e=ie(s[2].rating)+"")&&te(n,e);const r={};o&129&&(r.$$scope={dirty:o,ctx:s}),l.$set(r)},i(s){a||(y(l.$$.fragment,s),a=!0)},o(s){L(l.$$.fragment,s),a=!1},d(s){s&&m(n),s&&m(t),x(l,s)}}}function Ot(u){let e;return{c(){e=F("-")},l(n){e=U(n,"-")},m(n,t){Y(n,e,t)},p:ke,i:ke,o:ke,d(n){n&&m(e)}}}function At(u){let e,n=ie(u[2].rank)+"",t,l,a=ie(u[2].total)+"",s,o;return{c(){e=F("("),t=F(n),l=F("\u4F4D / "),s=F(a),o=F("\u4EBA)")},l(r){e=U(r,"("),t=U(r,n),l=U(r,"\u4F4D / "),s=U(r,a),o=U(r,"\u4EBA)")},m(r,f){Y(r,e,f),Y(r,t,f),Y(r,l,f),Y(r,s,f),Y(r,o,f)},p(r,f){f&1&&n!==(n=ie(r[2].rank)+"")&&te(t,n),f&1&&a!==(a=ie(r[2].total)+"")&&te(s,a)},d(r){r&&m(e),r&&m(t),r&&m(l),r&&m(s),r&&m(o)}}}function Ve(u){let e,n,t,l,a,s,o,r,f,_,g,H,R,O,q,$,w=u[2].tournament_name+"",d,p,c,E;t=new ce({props:{$$slots:{default:[jt]},$$scope:{ctx:u}}}),a=new De({props:{date:u[2].tournament_date,spacing:!1}}),r=new Ee({props:{rank:u[2].team_result}});const h=[Ot,Rt],B=[];function I(N,C){return N[2].rating==null?0:1}return g=I(u),H=B[g]=h[g](u),{c(){e=b("tr"),n=b("td"),W(t.$$.fragment),l=P(),W(a.$$.fragment),s=P(),o=b("td"),W(r.$$.fragment),f=P(),_=b("td"),H.c(),R=P(),O=b("tr"),q=b("td"),$=b("a"),d=F(w),c=P(),this.h()},l(N){e=v(N,"TR",{});var C=k(e);n=v(C,"TD",{class:!0});var T=k(n);X(t.$$.fragment,T),l=M(T),X(a.$$.fragment,T),T.forEach(m),s=M(C),o=v(C,"TD",{class:!0});var A=k(o);X(r.$$.fragment,A),f=M(A),A.forEach(m),_=v(C,"TD",{class:!0});var S=k(_);H.l(S),S.forEach(m),C.forEach(m),R=M(N),O=v(N,"TR",{});var G=k(O);q=v(G,"TD",{colspan:!0,class:!0});var j=k(q);$=v(j,"A",{href:!0});var K=k($);d=U(K,w),K.forEach(m),j.forEach(m),c=M(G),G.forEach(m),this.h()},h(){z(n,"class","tal"),z(o,"class","nw"),z(_,"class","nw"),z($,"href",p="#"+u[2].tournament_key),z(q,"colspan","3"),z(q,"class","tal")},m(N,C){Y(N,e,C),i(e,n),Z(t,n,null),i(n,l),Z(a,n,null),i(e,s),i(e,o),Z(r,o,null),i(o,f),i(e,_),B[g].m(_,null),Y(N,R,C),Y(N,O,C),i(O,q),i(q,$),i($,d),i(O,c),E=!0},p(N,C){const T={};C&128&&(T.$$scope={dirty:C,ctx:N}),t.$set(T);const A={};C&1&&(A.date=N[2].tournament_date),a.$set(A);const S={};C&1&&(S.rank=N[2].team_result),r.$set(S);let G=g;g=I(N),g===G?B[g].p(N,C):(re(),L(B[G],1,1,()=>{B[G]=null}),ae(),H=B[g],H?H.p(N,C):(H=B[g]=h[g](N),H.c()),y(H,1),H.m(_,null)),(!E||C&1)&&w!==(w=N[2].tournament_name+"")&&te(d,w),(!E||C&1&&p!==(p="#"+N[2].tournament_key))&&z($,"href",p)},i(N){E||(y(t.$$.fragment,N),y(a.$$.fragment,N),y(r.$$.fragment,N),y(H),E=!0)},o(N){L(t.$$.fragment,N),L(a.$$.fragment,N),L(r.$$.fragment,N),L(H),E=!1},d(N){N&&m(e),x(t),x(a),x(r),B[g].d(),N&&m(R),N&&m(O)}}}function Lt(u){let e,n,t=u[0]&&Ue(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),Y(l,e,a),n=!0},p(l,[a]){l[0]?t?(t.p(l,a),a&1&&y(t,1)):(t=Ue(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),L(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){L(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function ie(u){return u==null?"-":u.toLocaleString()}function St(u,e,n){let t,l;return me(u,he,a=>n(0,t=a)),me(u,ft,a=>n(1,l=a)),[t,l]}class Pt extends pe{constructor(e){super(),ge(this,e,St,Lt,be,{})}}function ze(u,e,n){const t=u.slice();return t[2]=e[n],t}function Ge(u,e,n){const t=u.slice();return t[5]=e[n],t}function Je(u,e,n){const t=u.slice();return t[5]=e[n],t}function Mt(u){let e,n,t,l,a,s,o,r,f,_,g,H,R,O,q,$,w,d,p,c,E,h,B,I,N,C,T,A=u[0].matches,S=[];for(let j=0;j<A.length;j+=1)S[j]=We(Ge(u,A,j));const G=j=>L(S[j],1,1,()=>{S[j]=null});return{c(){e=b("table"),n=b("thead"),t=b("tr"),l=b("th"),a=F("\u30D6\u30E9\u30B1\u30C3\u30C8"),s=P(),o=b("th"),r=F("\u30E9\u30A6\u30F3\u30C9"),f=P(),_=b("th"),g=F("\u52DD\u6557"),H=P(),R=b("th"),O=F("\u30B9\u30B3\u30A2"),q=P(),$=b("th"),w=F("\u5BFE\u6226\u76F8\u624B"),d=P(),p=b("th"),c=F("\u9806\u4F4D"),E=P(),h=b("th"),B=F("\u30E1\u30F3\u30D0\u30FC"),I=P(),N=b("tbody");for(let j=0;j<S.length;j+=1)S[j].c();C=P(),this.h()},l(j){e=v(j,"TABLE",{});var K=k(e);n=v(K,"THEAD",{});var D=k(n);t=v(D,"TR",{});var V=k(t);l=v(V,"TH",{style:!0});var ee=k(l);a=U(ee,"\u30D6\u30E9\u30B1\u30C3\u30C8"),ee.forEach(m),s=M(V),o=v(V,"TH",{style:!0});var J=k(o);r=U(J,"\u30E9\u30A6\u30F3\u30C9"),J.forEach(m),f=M(V),_=v(V,"TH",{style:!0});var Q=k(_);g=U(Q,"\u52DD\u6557"),Q.forEach(m),H=M(V),R=v(V,"TH",{style:!0});var le=k(R);O=U(le,"\u30B9\u30B3\u30A2"),le.forEach(m),q=M(V),$=v(V,"TH",{style:!0});var se=k($);w=U(se,"\u5BFE\u6226\u76F8\u624B"),se.forEach(m),d=M(V),p=v(V,"TH",{style:!0});var oe=k(p);c=U(oe,"\u9806\u4F4D"),oe.forEach(m),E=M(V),h=v(V,"TH",{style:!0});var fe=k(h);B=U(fe,"\u30E1\u30F3\u30D0\u30FC"),fe.forEach(m),V.forEach(m),D.forEach(m),I=M(K),N=v(K,"TBODY",{});var $e=k(N);for(let _e=0;_e<S.length;_e+=1)S[_e].l($e);$e.forEach(m),C=M(K),K.forEach(m),this.h()},h(){ue(l,"width","6%"),ue(o,"width","6%"),ue(_,"width","6%"),ue(R,"width","6%"),ue($,"width","23%"),ue($,"text-align","left"),ue(p,"width","6%"),ue(h,"width","47%"),ue(h,"text-align","left")},m(j,K){Y(j,e,K),i(e,n),i(n,t),i(t,l),i(l,a),i(t,s),i(t,o),i(o,r),i(t,f),i(t,_),i(_,g),i(t,H),i(t,R),i(R,O),i(t,q),i(t,$),i($,w),i(t,d),i(t,p),i(p,c),i(t,E),i(t,h),i(h,B),i(e,I),i(e,N);for(let D=0;D<S.length;D+=1)S[D].m(N,null);i(e,C),T=!0},p(j,K){if(K&1){A=j[0].matches;let D;for(D=0;D<A.length;D+=1){const V=Ge(j,A,D);S[D]?(S[D].p(V,K),y(S[D],1)):(S[D]=We(V),S[D].c(),y(S[D],1),S[D].m(N,null))}for(re(),D=A.length;D<S.length;D+=1)G(D);ae()}},i(j){if(!T){for(let K=0;K<A.length;K+=1)y(S[K]);T=!0}},o(j){S=S.filter(Boolean);for(let K=0;K<S.length;K+=1)L(S[K]);T=!1},d(j){j&&m(e),de(S,j)}}}function Yt(u){let e,n,t,l,a=u[0].matches,s=[];for(let r=0;r<a.length;r+=1)s[r]=Ze(Je(u,a,r));const o=r=>L(s[r],1,1,()=>{s[r]=null});return{c(){e=b("table"),n=b("tbody");for(let r=0;r<s.length;r+=1)s[r].c();t=P(),this.h()},l(r){e=v(r,"TABLE",{});var f=k(e);n=v(f,"TBODY",{class:!0});var _=k(n);for(let g=0;g<s.length;g+=1)s[g].l(_);_.forEach(m),t=M(f),f.forEach(m),this.h()},h(){z(n,"class","triple")},m(r,f){Y(r,e,f),i(e,n);for(let _=0;_<s.length;_+=1)s[_].m(n,null);i(e,t),l=!0},p(r,f){if(f&1){a=r[0].matches;let _;for(_=0;_<a.length;_+=1){const g=Je(r,a,_);s[_]?(s[_].p(g,f),y(s[_],1)):(s[_]=Ze(g),s[_].c(),y(s[_],1),s[_].m(n,null))}for(re(),_=a.length;_<s.length;_+=1)o(_);ae()}},i(r){if(!l){for(let f=0;f<a.length;f+=1)y(s[f]);l=!0}},o(r){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)L(s[f]);l=!1},d(r){r&&m(e),de(s,r)}}}function Qe(u){let e,n,t=u[5].bracket+"",l,a,s,o=u[5].round+"",r,f,_,g,H,R,O=u[5].score_text+"",q,$,w,d,p,c,E,h,B,I,N,C;return g=new ut({props:{win:u[5].wl}}),d=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),E=new Ee({props:{rank:u[5].opponent_team_rank}}),I=new ve({props:{players:u[5].opponents_list}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=P(),s=b("td"),r=F(o),f=P(),_=b("td"),W(g.$$.fragment),H=P(),R=b("td"),q=F(O),$=P(),w=b("td"),W(d.$$.fragment),p=P(),c=b("td"),W(E.$$.fragment),h=P(),B=b("td"),W(I.$$.fragment),N=P(),this.h()},l(T){e=v(T,"TR",{});var A=k(e);n=v(A,"TD",{});var S=k(n);l=U(S,t),S.forEach(m),a=M(A),s=v(A,"TD",{});var G=k(s);r=U(G,o),G.forEach(m),f=M(A),_=v(A,"TD",{});var j=k(_);X(g.$$.fragment,j),j.forEach(m),H=M(A),R=v(A,"TD",{});var K=k(R);q=U(K,O),K.forEach(m),$=M(A),w=v(A,"TD",{class:!0});var D=k(w);X(d.$$.fragment,D),D.forEach(m),p=M(A),c=v(A,"TD",{});var V=k(c);X(E.$$.fragment,V),V.forEach(m),h=M(A),B=v(A,"TD",{class:!0});var ee=k(B);X(I.$$.fragment,ee),ee.forEach(m),N=M(A),A.forEach(m),this.h()},h(){z(w,"class","tal"),z(B,"class","tal")},m(T,A){Y(T,e,A),i(e,n),i(n,l),i(e,a),i(e,s),i(s,r),i(e,f),i(e,_),Z(g,_,null),i(e,H),i(e,R),i(R,q),i(e,$),i(e,w),Z(d,w,null),i(e,p),i(e,c),Z(E,c,null),i(e,h),i(e,B),Z(I,B,null),i(e,N),C=!0},p(T,A){(!C||A&1)&&t!==(t=T[5].bracket+"")&&te(l,t),(!C||A&1)&&o!==(o=T[5].round+"")&&te(r,o);const S={};A&1&&(S.win=T[5].wl),g.$set(S),(!C||A&1)&&O!==(O=T[5].score_text+"")&&te(q,O);const G={};A&1&&(G.name=T[5].opponent_team_name),A&1&&(G.current_name=T[5].opponent_team_current_name),d.$set(G);const j={};A&1&&(j.rank=T[5].opponent_team_rank),E.$set(j);const K={};A&1&&(K.players=T[5].opponents_list),I.$set(K)},i(T){C||(y(g.$$.fragment,T),y(d.$$.fragment,T),y(E.$$.fragment,T),y(I.$$.fragment,T),C=!0)},o(T){L(g.$$.fragment,T),L(d.$$.fragment,T),L(E.$$.fragment,T),L(I.$$.fragment,T),C=!1},d(T){T&&m(e),x(g),x(d),x(E),x(I)}}}function We(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&Qe(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),Y(l,e,a),n=!0},p(l,a){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,a),a&1&&y(t,1)):(t=Qe(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),L(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){L(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function Xe(u){let e,n,t,l,a=u[5].bracket+"",s,o,r,f,_=u[5].round+"",g,H,R,O=u[5].score_text+"",q,$,w,d,p,c,E,h,B,I,N,C,T,A,S,G;return t=new ut({props:{win:u[5].wl}}),r=new ce({props:{t:"R"}}),p=new ce({props:{t:"vs."}}),E=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),I=new Ee({props:{rank:u[5].opponent_team_rank}}),A=new ve({props:{players:u[5].opponents_list}}),{c(){e=b("tr"),n=b("td"),W(t.$$.fragment),l=P(),s=F(a),o=P(),W(r.$$.fragment),f=P(),g=F(_),H=P(),R=b("td"),q=F(O),$=P(),w=b("tr"),d=b("td"),W(p.$$.fragment),c=P(),W(E.$$.fragment),h=P(),B=b("td"),W(I.$$.fragment),N=P(),C=b("tr"),T=b("td"),W(A.$$.fragment),S=P(),this.h()},l(j){e=v(j,"TR",{});var K=k(e);n=v(K,"TD",{class:!0});var D=k(n);X(t.$$.fragment,D),l=M(D),s=U(D,a),o=M(D),X(r.$$.fragment,D),f=M(D),g=U(D,_),D.forEach(m),H=M(K),R=v(K,"TD",{class:!0});var V=k(R);q=U(V,O),V.forEach(m),K.forEach(m),$=M(j),w=v(j,"TR",{});var ee=k(w);d=v(ee,"TD",{class:!0});var J=k(d);X(p.$$.fragment,J),c=M(J),X(E.$$.fragment,J),J.forEach(m),h=M(ee),B=v(ee,"TD",{class:!0});var Q=k(B);X(I.$$.fragment,Q),Q.forEach(m),ee.forEach(m),N=M(j),C=v(j,"TR",{});var le=k(C);T=v(le,"TD",{colspan:!0,class:!0,style:!0});var se=k(T);X(A.$$.fragment,se),se.forEach(m),S=M(le),le.forEach(m),this.h()},h(){z(n,"class","tal"),z(R,"class","nw"),z(d,"class","tal"),z(B,"class","nw"),z(T,"colspan","2"),z(T,"class","tal"),ue(T,"padding-left","1em")},m(j,K){Y(j,e,K),i(e,n),Z(t,n,null),i(n,l),i(n,s),i(n,o),Z(r,n,null),i(n,f),i(n,g),i(e,H),i(e,R),i(R,q),Y(j,$,K),Y(j,w,K),i(w,d),Z(p,d,null),i(d,c),Z(E,d,null),i(w,h),i(w,B),Z(I,B,null),Y(j,N,K),Y(j,C,K),i(C,T),Z(A,T,null),i(C,S),G=!0},p(j,K){const D={};K&1&&(D.win=j[5].wl),t.$set(D),(!G||K&1)&&a!==(a=j[5].bracket+"")&&te(s,a),(!G||K&1)&&_!==(_=j[5].round+"")&&te(g,_),(!G||K&1)&&O!==(O=j[5].score_text+"")&&te(q,O);const V={};K&1&&(V.name=j[5].opponent_team_name),K&1&&(V.current_name=j[5].opponent_team_current_name),E.$set(V);const ee={};K&1&&(ee.rank=j[5].opponent_team_rank),I.$set(ee);const J={};K&1&&(J.players=j[5].opponents_list),A.$set(J)},i(j){G||(y(t.$$.fragment,j),y(r.$$.fragment,j),y(p.$$.fragment,j),y(E.$$.fragment,j),y(I.$$.fragment,j),y(A.$$.fragment,j),G=!0)},o(j){L(t.$$.fragment,j),L(r.$$.fragment,j),L(p.$$.fragment,j),L(E.$$.fragment,j),L(I.$$.fragment,j),L(A.$$.fragment,j),G=!1},d(j){j&&m(e),x(t),x(r),j&&m($),j&&m(w),x(p),x(E),x(I),j&&m(N),j&&m(C),x(A)}}}function Ze(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&Xe(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),Y(l,e,a),n=!0},p(l,a){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,a),a&1&&y(t,1)):(t=Xe(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),L(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){L(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function xe(u){let e,n,t,l,a,s,o,r,f,_,g,H,R,O,q,$,w=u[2].member_name+"",d,p,c,E,h,B,I,N,C,T,A,S;n=new pt({props:{name:u[2].tournament_name,key:u[2].tournament_key,official:!1}}),f=new De({props:{date:u[2].tournament_date}}),R=new we({props:{name:u[2].team_name,current_name:u[2].team_name}}),c=new ve({props:{players:u[2].mate_list}}),I=new Ee({props:{rank:u[2].team_result}});const G=[Yt,Mt],j=[];function K(D,V){return D[1]?0:1}return C=K(u),T=j[C]=G[C](u),{c(){e=b("h3"),W(n.$$.fragment),l=P(),a=b("dl"),s=b("dt"),o=F("\u958B\u50AC\u65E5"),r=b("dd"),W(f.$$.fragment),_=b("dt"),g=F("\u30C1\u30FC\u30E0"),H=b("dd"),W(R.$$.fragment),O=b("dt"),q=F("\u30E1\u30F3\u30D0\u30FC"),$=b("dd"),d=F(w),p=F(", "),W(c.$$.fragment),E=b("dt"),h=F("\u7D50\u679C"),B=b("dd"),W(I.$$.fragment),N=P(),T.c(),A=ne(),this.h()},l(D){e=v(D,"H3",{id:!0});var V=k(e);X(n.$$.fragment,V),V.forEach(m),l=M(D),a=v(D,"DL",{});var ee=k(a);s=v(ee,"DT",{});var J=k(s);o=U(J,"\u958B\u50AC\u65E5"),J.forEach(m),r=v(ee,"DD",{});var Q=k(r);X(f.$$.fragment,Q),Q.forEach(m),_=v(ee,"DT",{});var le=k(_);g=U(le,"\u30C1\u30FC\u30E0"),le.forEach(m),H=v(ee,"DD",{});var se=k(H);X(R.$$.fragment,se),se.forEach(m),O=v(ee,"DT",{});var oe=k(O);q=U(oe,"\u30E1\u30F3\u30D0\u30FC"),oe.forEach(m),$=v(ee,"DD",{});var fe=k($);d=U(fe,w),p=U(fe,", "),X(c.$$.fragment,fe),fe.forEach(m),E=v(ee,"DT",{});var $e=k(E);h=U($e,"\u7D50\u679C"),$e.forEach(m),B=v(ee,"DD",{});var _e=k(B);X(I.$$.fragment,_e),_e.forEach(m),ee.forEach(m),N=M(D),T.l(D),A=ne(),this.h()},h(){z(e,"id",t=u[2].tournament_key)},m(D,V){Y(D,e,V),Z(n,e,null),Y(D,l,V),Y(D,a,V),i(a,s),i(s,o),i(a,r),Z(f,r,null),i(a,_),i(_,g),i(a,H),Z(R,H,null),i(a,O),i(O,q),i(a,$),i($,d),i($,p),Z(c,$,null),i(a,E),i(E,h),i(a,B),Z(I,B,null),Y(D,N,V),j[C].m(D,V),Y(D,A,V),S=!0},p(D,V){const ee={};V&1&&(ee.name=D[2].tournament_name),V&1&&(ee.key=D[2].tournament_key),n.$set(ee),(!S||V&1&&t!==(t=D[2].tournament_key))&&z(e,"id",t);const J={};V&1&&(J.date=D[2].tournament_date),f.$set(J);const Q={};V&1&&(Q.name=D[2].team_name),V&1&&(Q.current_name=D[2].team_name),R.$set(Q),(!S||V&1)&&w!==(w=D[2].member_name+"")&&te(d,w);const le={};V&1&&(le.players=D[2].mate_list),c.$set(le);const se={};V&1&&(se.rank=D[2].team_result),I.$set(se);let oe=C;C=K(D),C===oe?j[C].p(D,V):(re(),L(j[oe],1,1,()=>{j[oe]=null}),ae(),T=j[C],T?T.p(D,V):(T=j[C]=G[C](D),T.c()),y(T,1),T.m(A.parentNode,A))},i(D){S||(y(n.$$.fragment,D),y(f.$$.fragment,D),y(R.$$.fragment,D),y(c.$$.fragment,D),y(I.$$.fragment,D),y(T),S=!0)},o(D){L(n.$$.fragment,D),L(f.$$.fragment,D),L(R.$$.fragment,D),L(c.$$.fragment,D),L(I.$$.fragment,D),L(T),S=!1},d(D){D&&m(e),x(n),D&&m(l),D&&m(a),x(f),x(R),x(c),x(I),D&&m(N),j[C].d(D),D&&m(A)}}}function qt(u){let e,n,t=u[0].tournaments,l=[];for(let s=0;s<t.length;s+=1)l[s]=xe(ze(u,t,s));const a=s=>L(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ne()},l(s){for(let o=0;o<l.length;o+=1)l[o].l(s);e=ne()},m(s,o){for(let r=0;r<l.length;r+=1)l[r].m(s,o);Y(s,e,o),n=!0},p(s,[o]){if(o&3){t=s[0].tournaments;let r;for(r=0;r<t.length;r+=1){const f=ze(s,t,r);l[r]?(l[r].p(f,o),y(l[r],1)):(l[r]=xe(f),l[r].c(),y(l[r],1),l[r].m(e.parentNode,e))}for(re(),r=t.length;r<l.length;r+=1)a(r);ae()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)y(l[o]);n=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)L(l[o]);n=!1},d(s){de(l,s),s&&m(e)}}}function It(u,e,n){let t,l;return me(u,he,a=>n(0,t=a)),me(u,ft,a=>n(1,l=a)),[t,l]}class Ct extends pe{constructor(e){super(),ge(this,e,It,qt,be,{})}}const Ft=He(he,u=>{if(u==null)return[];const e={},n=[];for(const a of u.tournaments){const s={key:a.tournament_key,win:0,lose:0};for(const o of u.matches)o.tnmt_key===a.tournament_key&&(o.opponent_team_key===o.loser_key?s.win+=1:s.lose+=1);for(const o of a.mate_list)e[o]===void 0?e[o]={name:o,tournaments:[a.tournament_key]}:e[o].tournaments.push(a.tournament_key);n.push(s)}const t=Object.values(e);return[...new Set(Object.values(e).map(a=>a.tournaments.join("	")))].map(a=>a.split("	")).sort((a,s)=>s.length-a.length).map(a=>{const s=n.filter(o=>a.includes(o.key));return{names:t.filter(o=>o.tournaments.sort().join("	")===a.sort().join("	")).map(o=>o.name),entry:a.length,win:s.reduce((o,r)=>o+r.win,0),lose:s.reduce((o,r)=>o+r.lose,0)}})});function et(u,e,n){const t=u.slice();return t[1]=e[n],t}function tt(u){let e,n,t=u[1].entry+"",l,a,s,o,r=u[1].win+"",f,_,g,H=u[1].lose+"",R,O,q,$,w,d,p;return a=new ce({props:{t:" \u5927\u4F1A"}}),_=new ce({props:{t:" \u52DD"}}),O=new ce({props:{t:" \u6557"}}),w=new ve({props:{players:u[1].names}}),{c(){e=b("tr"),n=b("td"),l=F(t),W(a.$$.fragment),s=P(),o=b("td"),f=F(r),W(_.$$.fragment),g=P(),R=F(H),W(O.$$.fragment),q=P(),$=b("td"),W(w.$$.fragment),d=P(),this.h()},l(c){e=v(c,"TR",{});var E=k(e);n=v(E,"TD",{class:!0});var h=k(n);l=U(h,t),X(a.$$.fragment,h),h.forEach(m),s=M(E),o=v(E,"TD",{class:!0});var B=k(o);f=U(B,r),X(_.$$.fragment,B),g=M(B),R=U(B,H),X(O.$$.fragment,B),B.forEach(m),q=M(E),$=v(E,"TD",{class:!0});var I=k($);X(w.$$.fragment,I),I.forEach(m),d=M(E),E.forEach(m),this.h()},h(){z(n,"class","nw"),z(o,"class","nw"),z($,"class","tal")},m(c,E){Y(c,e,E),i(e,n),i(n,l),Z(a,n,null),i(e,s),i(e,o),i(o,f),Z(_,o,null),i(o,g),i(o,R),Z(O,o,null),i(e,q),i(e,$),Z(w,$,null),i(e,d),p=!0},p(c,E){(!p||E&1)&&t!==(t=c[1].entry+"")&&te(l,t),(!p||E&1)&&r!==(r=c[1].win+"")&&te(f,r),(!p||E&1)&&H!==(H=c[1].lose+"")&&te(R,H);const h={};E&1&&(h.players=c[1].names),w.$set(h)},i(c){p||(y(a.$$.fragment,c),y(_.$$.fragment,c),y(O.$$.fragment,c),y(w.$$.fragment,c),p=!0)},o(c){L(a.$$.fragment,c),L(_.$$.fragment,c),L(O.$$.fragment,c),L(w.$$.fragment,c),p=!1},d(c){c&&m(e),x(a),x(_),x(O),x(w)}}}function Ut(u){let e,n,t,l,a,s,o,r,f,_,g,H,R,O,q,$,w=u[0],d=[];for(let c=0;c<w.length;c+=1)d[c]=tt(et(u,w,c));const p=c=>L(d[c],1,1,()=>{d[c]=null});return{c(){e=b("h3"),n=F("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),t=P(),l=b("table"),a=b("thead"),s=b("tr"),o=b("th"),r=F("\u540C\u30C1\u30FC\u30E0"),f=P(),_=b("th"),g=F("\u6210\u7E3E"),H=P(),R=b("th"),O=P(),q=b("tbody");for(let c=0;c<d.length;c+=1)d[c].c();this.h()},l(c){e=v(c,"H3",{});var E=k(e);n=U(E,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),E.forEach(m),t=M(c),l=v(c,"TABLE",{});var h=k(l);a=v(h,"THEAD",{});var B=k(a);s=v(B,"TR",{});var I=k(s);o=v(I,"TH",{class:!0,style:!0});var N=k(o);r=U(N,"\u540C\u30C1\u30FC\u30E0"),N.forEach(m),f=M(I),_=v(I,"TH",{class:!0,style:!0});var C=k(_);g=U(C,"\u6210\u7E3E"),C.forEach(m),H=M(I),R=v(I,"TH",{}),k(R).forEach(m),I.forEach(m),B.forEach(m),O=M(h),q=v(h,"TBODY",{});var T=k(q);for(let A=0;A<d.length;A+=1)d[A].l(T);T.forEach(m),h.forEach(m),this.h()},h(){z(o,"class","nw"),ue(o,"width","5em"),z(_,"class","nw"),ue(_,"width","7em")},m(c,E){Y(c,e,E),i(e,n),Y(c,t,E),Y(c,l,E),i(l,a),i(a,s),i(s,o),i(o,r),i(s,f),i(s,_),i(_,g),i(s,H),i(s,R),i(l,O),i(l,q);for(let h=0;h<d.length;h+=1)d[h].m(q,null);$=!0},p(c,[E]){if(E&1){w=c[0];let h;for(h=0;h<w.length;h+=1){const B=et(c,w,h);d[h]?(d[h].p(B,E),y(d[h],1)):(d[h]=tt(B),d[h].c(),y(d[h],1),d[h].m(q,null))}for(re(),h=w.length;h<d.length;h+=1)p(h);ae()}},i(c){if(!$){for(let E=0;E<w.length;E+=1)y(d[E]);$=!0}},o(c){d=d.filter(Boolean);for(let E=0;E<d.length;E+=1)L(d[E]);$=!1},d(c){c&&m(e),c&&m(t),c&&m(l),de(d,c)}}}function Kt(u,e,n){let t;return me(u,Ft,l=>n(0,t=l)),[t]}class Vt extends pe{constructor(e){super(),ge(this,e,Kt,Ut,be,{})}}const zt=He(he,u=>{if(u==null)return[];const e={};for(const t of u.matches)for(const l of t.opponents_list){const a=t.opponent_team_key===t.loser_key,s=`${t.tnmt_key}/${t.bracket}/${t.round}`;e[l]===void 0?e[l]={name:l,win:a?1:0,lose:a?0:1,matches:[s]}:(e[l].matches.push(s),a?e[l].win+=1:e[l].lose+=1)}const n=Object.values(e);return[...new Set(Object.values(e).map(t=>t.matches.join("	")))].map(t=>t.split("	")).sort((t,l)=>l.length-t.length).filter(t=>t.length>=3).map(t=>{const l=n.filter(a=>a.matches.join("	")===t.join("	"));return{names:l.map(a=>a.name),win:l[0].win,lose:l[0].lose}}).sort((t,l)=>l.win-t.win)});function lt(u,e,n){const t=u.slice();return t[1]=e[n],t}function nt(u){let e,n,t=u[1].win+"",l,a,s,o,r=u[1].lose+"",f,_,g,H,R,O,q,$;return s=new ce({props:{t:"\u52DD"}}),g=new ce({props:{t:"\u6557"}}),O=new ve({props:{players:u[1].names}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=P(),W(s.$$.fragment),o=P(),f=F(r),_=P(),W(g.$$.fragment),H=P(),R=b("td"),W(O.$$.fragment),q=P(),this.h()},l(w){e=v(w,"TR",{});var d=k(e);n=v(d,"TD",{class:!0});var p=k(n);l=U(p,t),a=M(p),X(s.$$.fragment,p),o=M(p),f=U(p,r),_=M(p),X(g.$$.fragment,p),p.forEach(m),H=M(d),R=v(d,"TD",{class:!0});var c=k(R);X(O.$$.fragment,c),c.forEach(m),q=M(d),d.forEach(m),this.h()},h(){z(n,"class","nw"),z(R,"class","tal")},m(w,d){Y(w,e,d),i(e,n),i(n,l),i(n,a),Z(s,n,null),i(n,o),i(n,f),i(n,_),Z(g,n,null),i(e,H),i(e,R),Z(O,R,null),i(e,q),$=!0},p(w,d){(!$||d&1)&&t!==(t=w[1].win+"")&&te(l,t),(!$||d&1)&&r!==(r=w[1].lose+"")&&te(f,r);const p={};d&1&&(p.players=w[1].names),O.$set(p)},i(w){$||(y(s.$$.fragment,w),y(g.$$.fragment,w),y(O.$$.fragment,w),$=!0)},o(w){L(s.$$.fragment,w),L(g.$$.fragment,w),L(O.$$.fragment,w),$=!1},d(w){w&&m(e),x(s),x(g),x(O)}}}function Gt(u){let e,n,t,l,a,s,o,r,f,_,g,H,R,O,q=u[0],$=[];for(let d=0;d<q.length;d+=1)$[d]=nt(lt(u,q,d));const w=d=>L($[d],1,1,()=>{$[d]=null});return{c(){e=b("h3"),n=F("\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),t=P(),l=b("table"),a=b("thead"),s=b("tr"),o=b("th"),r=F("\u901A\u7B97\u6210\u7E3E"),f=P(),_=b("th"),g=F("\u30D7\u30EC\u30A4\u30E4\u30FC"),H=P(),R=b("tbody");for(let d=0;d<$.length;d+=1)$[d].c();this.h()},l(d){e=v(d,"H3",{});var p=k(e);n=U(p,"\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),p.forEach(m),t=M(d),l=v(d,"TABLE",{});var c=k(l);a=v(c,"THEAD",{});var E=k(a);s=v(E,"TR",{});var h=k(s);o=v(h,"TH",{class:!0,style:!0});var B=k(o);r=U(B,"\u901A\u7B97\u6210\u7E3E"),B.forEach(m),f=M(h),_=v(h,"TH",{class:!0});var I=k(_);g=U(I,"\u30D7\u30EC\u30A4\u30E4\u30FC"),I.forEach(m),h.forEach(m),E.forEach(m),H=M(c),R=v(c,"TBODY",{});var N=k(R);for(let C=0;C<$.length;C+=1)$[C].l(N);N.forEach(m),c.forEach(m),this.h()},h(){z(o,"class","nw"),ue(o,"width","7em"),z(_,"class","tal")},m(d,p){Y(d,e,p),i(e,n),Y(d,t,p),Y(d,l,p),i(l,a),i(a,s),i(s,o),i(o,r),i(s,f),i(s,_),i(_,g),i(l,H),i(l,R);for(let c=0;c<$.length;c+=1)$[c].m(R,null);O=!0},p(d,[p]){if(p&1){q=d[0];let c;for(c=0;c<q.length;c+=1){const E=lt(d,q,c);$[c]?($[c].p(E,p),y($[c],1)):($[c]=nt(E),$[c].c(),y($[c],1),$[c].m(R,null))}for(re(),c=q.length;c<$.length;c+=1)w(c);ae()}},i(d){if(!O){for(let p=0;p<q.length;p+=1)y($[p]);O=!0}},o(d){$=$.filter(Boolean);for(let p=0;p<$.length;p+=1)L($[p]);O=!1},d(d){d&&m(e),d&&m(t),d&&m(l),de($,d)}}}function Jt(u,e,n){let t;return me(u,zt,l=>n(0,t=l)),[t]}class Qt extends pe{constructor(e){super(),ge(this,e,Jt,Gt,be,{})}}function Wt(u){let e,n;return e=new $t({}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p:ke,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Xt(u){let e,n,t,l=u[3].player.collated_name+"",a,s,o,r,f,_,g,H,R,O,q,$,w,d;e=new ct({props:{title:u[3].player.collated_name+" : "+u[1],type:"article",url:"player/detail/?q="+u[2],description:""}}),f=new ye({props:{current_mode:u[0],mode:"basic",name:"\u57FA\u672C",url:"/player/detail?p="+u[2]+"&mode=basic"}}),g=new ye({props:{current_mode:u[0],mode:"tournament",name:"\u5927\u4F1A",url:"/player/detail?p="+u[2]+"&mode=tournament"}}),R=new ye({props:{current_mode:u[0],mode:"relation",name:"\u95A2\u9023",url:"/player/detail?p="+u[2]+"&mode=relation"}});let p=u[0]==="basic"&&rt(),c=u[0]==="tournament"&&at(),E=u[0]==="relation"&&st();return{c(){W(e.$$.fragment),n=P(),t=b("h1"),a=F(l),o=P(),r=b("div"),W(f.$$.fragment),_=F(` |
    `),W(g.$$.fragment),H=F(` |
    `),W(R.$$.fragment),O=P(),p&&p.c(),q=P(),c&&c.c(),$=P(),E&&E.c(),w=ne(),this.h()},l(h){X(e.$$.fragment,h),n=M(h),t=v(h,"H1",{class:!0});var B=k(t);a=U(B,l),B.forEach(m),o=M(h),r=v(h,"DIV",{class:!0});var I=k(r);X(f.$$.fragment,I),_=U(I,` |
    `),X(g.$$.fragment,I),H=U(I,` |
    `),X(R.$$.fragment,I),I.forEach(m),O=M(h),p&&p.l(h),q=M(h),c&&c.l(h),$=M(h),E&&E.l(h),w=ne(),this.h()},h(){z(t,"class",s=Re(u[3].player.rating)),z(r,"class","detail-tab")},m(h,B){Z(e,h,B),Y(h,n,B),Y(h,t,B),i(t,a),Y(h,o,B),Y(h,r,B),Z(f,r,null),i(r,_),Z(g,r,null),i(r,H),Z(R,r,null),Y(h,O,B),p&&p.m(h,B),Y(h,q,B),c&&c.m(h,B),Y(h,$,B),E&&E.m(h,B),Y(h,w,B),d=!0},p(h,B){const I={};B&10&&(I.title=h[3].player.collated_name+" : "+h[1]),B&4&&(I.url="player/detail/?q="+h[2]),e.$set(I),(!d||B&8)&&l!==(l=h[3].player.collated_name+"")&&te(a,l),(!d||B&8&&s!==(s=Re(h[3].player.rating)))&&z(t,"class",s);const N={};B&1&&(N.current_mode=h[0]),B&4&&(N.url="/player/detail?p="+h[2]+"&mode=basic"),f.$set(N);const C={};B&1&&(C.current_mode=h[0]),B&4&&(C.url="/player/detail?p="+h[2]+"&mode=tournament"),g.$set(C);const T={};B&1&&(T.current_mode=h[0]),B&4&&(T.url="/player/detail?p="+h[2]+"&mode=relation"),R.$set(T),h[0]==="basic"?p?B&1&&y(p,1):(p=rt(),p.c(),y(p,1),p.m(q.parentNode,q)):p&&(re(),L(p,1,1,()=>{p=null}),ae()),h[0]==="tournament"?c?B&1&&y(c,1):(c=at(),c.c(),y(c,1),c.m($.parentNode,$)):c&&(re(),L(c,1,1,()=>{c=null}),ae()),h[0]==="relation"?E?B&1&&y(E,1):(E=st(),E.c(),y(E,1),E.m(w.parentNode,w)):E&&(re(),L(E,1,1,()=>{E=null}),ae())},i(h){d||(y(e.$$.fragment,h),y(f.$$.fragment,h),y(g.$$.fragment,h),y(R.$$.fragment,h),y(p),y(c),y(E),d=!0)},o(h){L(e.$$.fragment,h),L(f.$$.fragment,h),L(g.$$.fragment,h),L(R.$$.fragment,h),L(p),L(c),L(E),d=!1},d(h){x(e,h),h&&m(n),h&&m(t),h&&m(o),h&&m(r),x(f),x(g),x(R),h&&m(O),p&&p.d(h),h&&m(q),c&&c.d(h),h&&m($),E&&E.d(h),h&&m(w)}}}function rt(u){let e,n,t,l;return e=new kt({}),t=new Ht({}),{c(){W(e.$$.fragment),n=P(),W(t.$$.fragment)},l(a){X(e.$$.fragment,a),n=M(a),X(t.$$.fragment,a)},m(a,s){Z(e,a,s),Y(a,n,s),Z(t,a,s),l=!0},i(a){l||(y(e.$$.fragment,a),y(t.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),L(t.$$.fragment,a),l=!1},d(a){x(e,a),a&&m(n),x(t,a)}}}function at(u){let e,n,t,l,a,s,o;return l=new Pt({}),s=new Ct({}),{c(){e=b("h2"),n=F("\u53C2\u52A0\u5927\u4F1A"),t=P(),W(l.$$.fragment),a=P(),W(s.$$.fragment)},l(r){e=v(r,"H2",{});var f=k(e);n=U(f,"\u53C2\u52A0\u5927\u4F1A"),f.forEach(m),t=M(r),X(l.$$.fragment,r),a=M(r),X(s.$$.fragment,r)},m(r,f){Y(r,e,f),i(e,n),Y(r,t,f),Z(l,r,f),Y(r,a,f),Z(s,r,f),o=!0},i(r){o||(y(l.$$.fragment,r),y(s.$$.fragment,r),o=!0)},o(r){L(l.$$.fragment,r),L(s.$$.fragment,r),o=!1},d(r){r&&m(e),r&&m(t),x(l,r),r&&m(a),x(s,r)}}}function st(u){let e,n,t,l,a,s,o;return l=new Vt({}),s=new Qt({}),{c(){e=b("h2"),n=F("\u95A2\u9023\u60C5\u5831"),t=P(),W(l.$$.fragment),a=P(),W(s.$$.fragment)},l(r){e=v(r,"H2",{});var f=k(e);n=U(f,"\u95A2\u9023\u60C5\u5831"),f.forEach(m),t=M(r),X(l.$$.fragment,r),a=M(r),X(s.$$.fragment,r)},m(r,f){Y(r,e,f),i(e,n),Y(r,t,f),Z(l,r,f),Y(r,a,f),Z(s,r,f),o=!0},i(r){o||(y(l.$$.fragment,r),y(s.$$.fragment,r),o=!0)},o(r){L(l.$$.fragment,r),L(s.$$.fragment,r),o=!1},d(r){r&&m(e),r&&m(t),x(l,r),r&&m(a),x(s,r)}}}function Zt(u){let e,n,t,l;const a=[Xt,Wt],s=[];function o(r,f){return r[3]?0:1}return e=o(u),n=s[e]=a[e](u),{c(){n.c(),t=ne()},l(r){n.l(r),t=ne()},m(r,f){s[e].m(r,f),Y(r,t,f),l=!0},p(r,[f]){let _=e;e=o(r),e===_?s[e].p(r,f):(re(),L(s[_],1,1,()=>{s[_]=null}),ae(),n=s[e],n?n.p(r,f):(n=s[e]=a[e](r),n.c()),y(n,1),n.m(t.parentNode,t))},i(r){l||(y(n),l=!0)},o(r){L(n),l=!1},d(r){s[e].d(r),r&&m(t)}}}function xt(u,e,n){let t,l,a;me(u,Oe,f=>n(2,l=f)),me(u,he,f=>n(3,a=f));let s="basic";it(()=>{r(null)});async function o(f){je("player/player_aliases.json").then(_=>_.json()).then(_=>r(_[f])).catch(()=>[])}async function r(f){n(0,s=mt("basic","mode"));const _=_t(f,"p");l===_||_===null||(he.set(null),Oe.set(_),je(`player/${l}.json`).then(g=>{if([403,404].indexOf(g.status)!==-1)throw new Error("NOT FOUND");return g.json()}).then(g=>{gt(g)}).catch(g=>{g.message==="NOT FOUND"&&f===null&&o(l)}))}return u.$$.update=()=>{u.$$.dirty&1&&n(1,t={basic:"\u57FA\u672C",tournament:"\u5927\u4F1A",relation:"\u95A2\u9023"}[s])},[s,t,l,a]}class dl extends pe{constructor(e){super(),ge(this,e,xt,Zt,be,{})}}export{dl as default};
