import{S as pe,i as ge,s as be,e as b,t as F,c as v,a as k,h as U,d as m,g as M,K as i,j as te,l as ne,b as z,k as S,w as W,m as P,x as X,y as Z,q as y,o as O,B as x,P as me,n as re,p as ae,R as de,E as ke,f as ue}from"../../../chunks/index-8cebca88.js";import{a as ut}from"../../../chunks/navigation-13fd7038.js";import{w as st,d as He}from"../../../chunks/index-e5c45c8d.js";import{k as ft,m as it,h as mt,i as je}from"../../../chunks/global-e47db021.js";import{H as _t}from"../../../chunks/Header-0bef5dd3.js";import{T as ct,P as ye}from"../../../chunks/PageTab-8bc70476.js";import{D as De,T as ce,P as ht}from"../../../chunks/PopUpA-9c4c00bb.js";import{S as $t}from"../../../chunks/Span-a6440321.js";import{T as we,a as Ee}from"../../../chunks/TeamName-f6d18c72.js";import{P as ve}from"../../../chunks/PlayersLine-7a9529cd.js";import{M as ot}from"../../../chunks/MatchResult-f4ed72db.js";import{T as dt}from"../../../chunks/TournamentName-1337a3ec.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/PlayerName-558dac94.js";import"../../../chunks/Twitch-8a180281.js";const Re=st(""),he=st(null);function pt(u){for(const e of u.matches)e.wl=e.opponent_team_key===e.loser_key,e.score_text=e.wl?`${e.winner_score} - ${e.loser_score}`:`${e.loser_score} - ${e.winner_score}`;he.set(u)}function Oe(u){let e,n,t,l=[...new Set(u[0].tournaments.map(Me))].join(", ")+"",a;return{c(){e=b("dt"),n=F("\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),t=b("dd"),a=F(l)},l(f){e=v(f,"DT",{});var s=k(e);n=U(s,"\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),s.forEach(m),t=v(f,"DD",{});var r=k(t);a=U(r,l),r.forEach(m)},m(f,s){M(f,e,s),i(e,n),M(f,t,s),i(t,a)},p(f,s){s&1&&l!==(l=[...new Set(f[0].tournaments.map(Me))].join(", ")+"")&&te(a,l)},d(f){f&&m(e),f&&m(t)}}}function Ae(u){let e,n,t,l=u[0].data.twitter&&Le(u),a=u[0].data.youtube&&Se(u),f=u[0].data.twitch&&Pe(u);return{c(){l&&l.c(),e=ne(),a&&a.c(),n=ne(),f&&f.c(),t=ne()},l(s){l&&l.l(s),e=ne(),a&&a.l(s),n=ne(),f&&f.l(s),t=ne()},m(s,r){l&&l.m(s,r),M(s,e,r),a&&a.m(s,r),M(s,n,r),f&&f.m(s,r),M(s,t,r)},p(s,r){s[0].data.twitter?l?l.p(s,r):(l=Le(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s[0].data.youtube?a?a.p(s,r):(a=Se(s),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),s[0].data.twitch?f?f.p(s,r):(f=Pe(s),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},d(s){l&&l.d(s),s&&m(e),a&&a.d(s),s&&m(n),f&&f.d(s),s&&m(t)}}}function Le(u){let e,n,t,l,a,f=u[0].data.twitter+"",s,r;return{c(){e=b("dt"),n=b("i"),t=F(" twitter"),l=b("dd"),a=b("a"),s=F(f),this.h()},l(o){e=v(o,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," twitter"),_.forEach(m),l=v(o,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var T=k(a);s=U(T,f),T.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitter"),z(a,"href",r="https://twitter.com/"+u[0].data.twitter)},m(o,_){M(o,e,_),i(e,n),i(e,t),M(o,l,_),i(l,a),i(a,s)},p(o,_){_&1&&f!==(f=o[0].data.twitter+"")&&te(s,f),_&1&&r!==(r="https://twitter.com/"+o[0].data.twitter)&&z(a,"href",r)},d(o){o&&m(e),o&&m(l)}}}function Se(u){let e,n,t,l,a,f=u[0].data.youtube[1]+"",s,r;return{c(){e=b("dt"),n=b("i"),t=F(" youtube"),l=b("dd"),a=b("a"),s=F(f),this.h()},l(o){e=v(o,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," youtube"),_.forEach(m),l=v(o,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var T=k(a);s=U(T,f),T.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-youtube"),z(a,"href",r="https://www.youtube.com/channel/"+u[0].data.youtube[0])},m(o,_){M(o,e,_),i(e,n),i(e,t),M(o,l,_),i(l,a),i(a,s)},p(o,_){_&1&&f!==(f=o[0].data.youtube[1]+"")&&te(s,f),_&1&&r!==(r="https://www.youtube.com/channel/"+o[0].data.youtube[0])&&z(a,"href",r)},d(o){o&&m(e),o&&m(l)}}}function Pe(u){let e,n,t,l,a,f=u[0].data.twitch+"",s,r;return{c(){e=b("dt"),n=b("i"),t=F(" twitch"),l=b("dd"),a=b("a"),s=F(f),this.h()},l(o){e=v(o,"DT",{});var _=k(e);n=v(_,"I",{class:!0}),k(n).forEach(m),t=U(_," twitch"),_.forEach(m),l=v(o,"DD",{});var g=k(l);a=v(g,"A",{href:!0});var T=k(a);s=U(T,f),T.forEach(m),g.forEach(m),this.h()},h(){z(n,"class","fab fa-twitch"),z(a,"href",r="https://www.twitch.tv/"+u[0].data.twitch)},m(o,_){M(o,e,_),i(e,n),i(e,t),M(o,l,_),i(l,a),i(a,s)},p(o,_){_&1&&f!==(f=o[0].data.twitch+"")&&te(s,f),_&1&&r!==(r="https://www.twitch.tv/"+o[0].data.twitch)&&z(a,"href",r)},d(o){o&&m(e),o&&m(l)}}}function gt(u){var h;let e,n,t,l,a,f,s,r,o,_,g,T,A=((h=u[0].player.rating)!=null?h:0).toLocaleString()+"",j,Y,d=u[0].data&&Oe(u);r=new ct({props:{stats:{...u[0].player,tournament_count:u[0].player.entries}}});let w=u[0].data&&Ae(u);return{c(){e=b("h2"),n=F("\u57FA\u672C\u60C5\u5831"),t=S(),l=b("dl"),d&&d.c(),a=b("dt"),f=F("\u6226\u7E3E"),s=b("dd"),W(r.$$.fragment),o=S(),_=b("dt"),g=F("\u30EC\u30FC\u30C8"),T=b("dd"),j=F(A),w&&w.c()},l(p){e=v(p,"H2",{});var $=k(e);n=U($,"\u57FA\u672C\u60C5\u5831"),$.forEach(m),t=P(p),l=v(p,"DL",{});var c=k(l);d&&d.l(c),a=v(c,"DT",{});var E=k(a);f=U(E,"\u6226\u7E3E"),E.forEach(m),s=v(c,"DD",{});var q=k(s);X(r.$$.fragment,q),o=P(q),q.forEach(m),_=v(c,"DT",{});var C=k(_);g=U(C,"\u30EC\u30FC\u30C8"),C.forEach(m),T=v(c,"DD",{});var B=k(T);j=U(B,A),B.forEach(m),w&&w.l(c),c.forEach(m)},m(p,$){M(p,e,$),i(e,n),M(p,t,$),M(p,l,$),d&&d.m(l,null),i(l,a),i(a,f),i(l,s),Z(r,s,null),i(s,o),i(l,_),i(_,g),i(l,T),i(T,j),w&&w.m(l,null),Y=!0},p(p,[$]){var E;p[0].data?d?d.p(p,$):(d=Oe(p),d.c(),d.m(l,a)):d&&(d.d(1),d=null);const c={};$&1&&(c.stats={...p[0].player,tournament_count:p[0].player.entries}),r.$set(c),(!Y||$&1)&&A!==(A=((E=p[0].player.rating)!=null?E:0).toLocaleString()+"")&&te(j,A),p[0].data?w?w.p(p,$):(w=Ae(p),w.c(),w.m(l,null)):w&&(w.d(1),w=null)},i(p){Y||(y(r.$$.fragment,p),Y=!0)},o(p){O(r.$$.fragment,p),Y=!1},d(p){p&&m(e),p&&m(t),p&&m(l),d&&d.d(),x(r),w&&w.d()}}}const Me=u=>u.member_name;function bt(u,e,n){let t;return me(u,he,l=>n(0,t=l)),[t]}class vt extends pe{constructor(e){super(),ge(this,e,bt,gt,be,{})}}const kt=He(he,u=>{if(u==null)return[];const e={};for(const n of u.tournaments){const t=n.team_current_name;e[t]===void 0?e[t]={name:t,tournament_count:1,last_match_at:n.tournament_date,first_match_at:n.tournament_date}:(e[t].tournament_count+=1,e[t].last_match_at=Math.max(n.tournament_date,e[t].last_match_at),e[t].first_match_at=Math.min(n.tournament_date,e[t].first_match_at))}return Object.values(e).sort(n=>-n.last_match_at)});function Ye(u,e,n){const t=u.slice();return t[1]=e[n],t}function wt(u){let e,n;return e=new $t({props:{date1:u[1].first_match_at,date2:u[1].last_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.date1=t[1].first_match_at),l&1&&(a.date2=t[1].last_match_at),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Et(u){let e,n;return e=new De({props:{date:u[1].first_match_at}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.date=t[1].first_match_at),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function qe(u){let e,n,t,l=u[1].tournament_count+"",a,f,s,r,o,_,g,T;n=new we({props:{name:u[1].name,current_name:u[1].name}});const A=[Et,wt],j=[];function Y(d,w){return d[1].first_match_at===d[1].last_match_at?0:1}return o=Y(u),_=j[o]=A[o](u),{c(){e=b("dt"),W(n.$$.fragment),t=b("dd"),a=F(l),f=F("\u56DE\u51FA\u5834"),s=b("br"),r=S(),_.c(),g=S(),this.h()},l(d){e=v(d,"DT",{class:!0});var w=k(e);X(n.$$.fragment,w),w.forEach(m),t=v(d,"DD",{});var h=k(t);a=U(h,l),f=U(h,"\u56DE\u51FA\u5834"),s=v(h,"BR",{}),r=P(h),_.l(h),g=P(h),h.forEach(m),this.h()},h(){z(e,"class","tal nw")},m(d,w){M(d,e,w),Z(n,e,null),M(d,t,w),i(t,a),i(t,f),i(t,s),i(t,r),j[o].m(t,null),i(t,g),T=!0},p(d,w){const h={};w&1&&(h.name=d[1].name),w&1&&(h.current_name=d[1].name),n.$set(h),(!T||w&1)&&l!==(l=d[1].tournament_count+"")&&te(a,l);let p=o;o=Y(d),o===p?j[o].p(d,w):(re(),O(j[p],1,1,()=>{j[p]=null}),ae(),_=j[o],_?_.p(d,w):(_=j[o]=A[o](d),_.c()),y(_,1),_.m(t,g))},i(d){T||(y(n.$$.fragment,d),y(_),T=!0)},o(d){O(n.$$.fragment,d),O(_),T=!1},d(d){d&&m(e),x(n),d&&m(t),j[o].d()}}}function Tt(u){let e,n,t,l,a,f=u[0],s=[];for(let o=0;o<f.length;o+=1)s[o]=qe(Ye(u,f,o));const r=o=>O(s[o],1,1,()=>{s[o]=null});return{c(){e=b("h2"),n=F("\u30C1\u30FC\u30E0\u5C65\u6B74"),t=S(),l=b("dl");for(let o=0;o<s.length;o+=1)s[o].c()},l(o){e=v(o,"H2",{});var _=k(e);n=U(_,"\u30C1\u30FC\u30E0\u5C65\u6B74"),_.forEach(m),t=P(o),l=v(o,"DL",{});var g=k(l);for(let T=0;T<s.length;T+=1)s[T].l(g);g.forEach(m)},m(o,_){M(o,e,_),i(e,n),M(o,t,_),M(o,l,_);for(let g=0;g<s.length;g+=1)s[g].m(l,null);a=!0},p(o,[_]){if(_&1){f=o[0];let g;for(g=0;g<f.length;g+=1){const T=Ye(o,f,g);s[g]?(s[g].p(T,_),y(s[g],1)):(s[g]=qe(T),s[g].c(),y(s[g],1),s[g].m(l,null))}for(re(),g=f.length;g<s.length;g+=1)r(g);ae()}},i(o){if(!a){for(let _=0;_<f.length;_+=1)y(s[_]);a=!0}},o(o){s=s.filter(Boolean);for(let _=0;_<s.length;_+=1)O(s[_]);a=!1},d(o){o&&m(e),o&&m(t),o&&m(l),de(s,o)}}}function Dt(u,e,n){let t;return me(u,kt,l=>n(0,t=l)),[t]}class yt extends pe{constructor(e){super(),ge(this,e,Dt,Tt,be,{})}}function Ie(u,e,n){const t=u.slice();return t[2]=e[n],t}function Fe(u,e,n){const t=u.slice();return t[2]=e[n],t[4]=n,t}function Ue(u){let e,n,t,l;const a=[Bt,Ht],f=[];function s(r,o){return r[1]?0:1}return e=s(u),n=f[e]=a[e](u),{c(){n.c(),t=ne()},l(r){n.l(r),t=ne()},m(r,o){f[e].m(r,o),M(r,t,o),l=!0},p(r,o){let _=e;e=s(r),e===_?f[e].p(r,o):(re(),O(f[_],1,1,()=>{f[_]=null}),ae(),n=f[e],n?n.p(r,o):(n=f[e]=a[e](r),n.c()),y(n,1),n.m(t.parentNode,t))},i(r){l||(y(n),l=!0)},o(r){O(n),l=!1},d(r){f[e].d(r),r&&m(t)}}}function Ht(u){let e,n,t,l,a,f,s,r,o,_,g,T,A,j,Y,d,w,h,p,$,c,E,q,C=u[0].tournaments,B=[];for(let H=0;H<C.length;H+=1)B[H]=Ce(Ie(u,C,H));const I=H=>O(B[H],1,1,()=>{B[H]=null});return{c(){e=b("table"),n=b("thead"),t=b("tr"),l=b("th"),a=F("\u958B\u50AC\u65E5"),f=S(),s=b("th"),r=F("\u5927\u4F1A\u540D"),o=S(),_=b("th"),g=F("\u7D50\u679C"),T=S(),A=b("th"),j=F("rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),Y=S(),d=b("th"),w=F("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),h=S(),p=b("th"),$=F("\u30E1\u30F3\u30D0\u30FC"),c=S(),E=b("tbody");for(let H=0;H<B.length;H+=1)B[H].c();this.h()},l(H){e=v(H,"TABLE",{});var R=k(e);n=v(R,"THEAD",{});var L=k(n);t=v(L,"TR",{});var G=k(t);l=v(G,"TH",{});var N=k(l);a=U(N,"\u958B\u50AC\u65E5"),N.forEach(m),f=P(G),s=v(G,"TH",{class:!0});var K=k(s);r=U(K,"\u5927\u4F1A\u540D"),K.forEach(m),o=P(G),_=v(G,"TH",{});var D=k(_);g=U(D,"\u7D50\u679C"),D.forEach(m),T=P(G),A=v(G,"TH",{colspan:!0});var V=k(A);j=U(V,"rating (\u9806\u4F4D / \u5168\u4F53\u4EBA\u6570)"),V.forEach(m),Y=P(G),d=v(G,"TH",{class:!0});var ee=k(d);w=U(ee,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),ee.forEach(m),h=P(G),p=v(G,"TH",{class:!0});var J=k(p);$=U(J,"\u30E1\u30F3\u30D0\u30FC"),J.forEach(m),G.forEach(m),L.forEach(m),c=P(R),E=v(R,"TBODY",{});var Q=k(E);for(let le=0;le<B.length;le+=1)B[le].l(Q);Q.forEach(m),R.forEach(m),this.h()},h(){z(s,"class","tal"),z(A,"colspan","3"),z(d,"class","tal"),z(p,"class","tal")},m(H,R){M(H,e,R),i(e,n),i(n,t),i(t,l),i(l,a),i(t,f),i(t,s),i(s,r),i(t,o),i(t,_),i(_,g),i(t,T),i(t,A),i(A,j),i(t,Y),i(t,d),i(d,w),i(t,h),i(t,p),i(p,$),i(e,c),i(e,E);for(let L=0;L<B.length;L+=1)B[L].m(E,null);q=!0},p(H,R){if(R&1){C=H[0].tournaments;let L;for(L=0;L<C.length;L+=1){const G=Ie(H,C,L);B[L]?(B[L].p(G,R),y(B[L],1)):(B[L]=Ce(G),B[L].c(),y(B[L],1),B[L].m(E,null))}for(re(),L=C.length;L<B.length;L+=1)I(L);ae()}},i(H){if(!q){for(let R=0;R<C.length;R+=1)y(B[R]);q=!0}},o(H){B=B.filter(Boolean);for(let R=0;R<B.length;R+=1)O(B[R]);q=!1},d(H){H&&m(e),de(B,H)}}}function Bt(u){let e,n,t,l=u[0].tournaments,a=[];for(let s=0;s<l.length;s+=1)a[s]=Ke(Fe(u,l,s));const f=s=>O(a[s],1,1,()=>{a[s]=null});return{c(){e=b("table"),n=b("tbody");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=v(s,"TABLE",{});var r=k(e);n=v(r,"TBODY",{class:!0});var o=k(n);for(let _=0;_<a.length;_+=1)a[_].l(o);o.forEach(m),r.forEach(m),this.h()},h(){z(n,"class","double")},m(s,r){M(s,e,r),i(e,n);for(let o=0;o<a.length;o+=1)a[o].m(n,null);t=!0},p(s,r){if(r&1){l=s[0].tournaments;let o;for(o=0;o<l.length;o+=1){const _=Fe(s,l,o);a[o]?(a[o].p(_,r),y(a[o],1)):(a[o]=Ke(_),a[o].c(),y(a[o],1),a[o].m(n,null))}for(re(),o=l.length;o<a.length;o+=1)f(o);ae()}},i(s){if(!t){for(let r=0;r<l.length;r+=1)y(a[r]);t=!0}},o(s){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)O(a[r]);t=!1},d(s){s&&m(e),de(a,s)}}}function Ce(u){let e,n,t,l,a,f,s=u[2].tournament_name+"",r,o,_,g,T,A,j,Y=ie(u[2].rating)+"",d,w,h,p=ie(u[2].rank)+"",$,c,E,q=ie(u[2].total)+"",C,B,I,H,R,L,G=u[2].member_name+"",N,K,D,V,ee;return t=new De({props:{date:u[2].tournament_date}}),T=new Ee({props:{rank:u[2].team_result}}),H=new we({props:{name:u[2].team_name,current_name:u[2].team_current_name}}),D=new ve({props:{players:u[2].mate_list}}),{c(){e=b("tr"),n=b("td"),W(t.$$.fragment),l=S(),a=b("td"),f=b("a"),r=F(s),_=S(),g=b("td"),W(T.$$.fragment),A=S(),j=b("td"),d=F(Y),w=S(),h=b("td"),$=F(p),c=S(),E=b("td"),C=F(q),B=S(),I=b("td"),W(H.$$.fragment),R=S(),L=b("td"),N=F(G),K=F(", "),W(D.$$.fragment),V=S(),this.h()},l(J){e=v(J,"TR",{});var Q=k(e);n=v(Q,"TD",{});var le=k(n);X(t.$$.fragment,le),le.forEach(m),l=P(Q),a=v(Q,"TD",{class:!0});var se=k(a);f=v(se,"A",{href:!0});var fe=k(f);r=U(fe,s),fe.forEach(m),se.forEach(m),_=P(Q),g=v(Q,"TD",{});var oe=k(g);X(T.$$.fragment,oe),oe.forEach(m),A=P(Q),j=v(Q,"TD",{});var $e=k(j);d=U($e,Y),$e.forEach(m),w=P(Q),h=v(Q,"TD",{class:!0});var _e=k(h);$=U(_e,p),_e.forEach(m),c=P(Q),E=v(Q,"TD",{class:!0});var Be=k(E);C=U(Be,q),Be.forEach(m),B=P(Q),I=v(Q,"TD",{class:!0});var Ne=k(I);X(H.$$.fragment,Ne),Ne.forEach(m),R=P(Q),L=v(Q,"TD",{class:!0});var Te=k(L);N=U(Te,G),K=U(Te,", "),X(D.$$.fragment,Te),Te.forEach(m),V=P(Q),Q.forEach(m),this.h()},h(){z(f,"href",o="#"+u[2].tournament_key),z(a,"class","tal"),z(h,"class","tar"),z(E,"class","tar"),z(I,"class","tal"),z(L,"class","tal")},m(J,Q){M(J,e,Q),i(e,n),Z(t,n,null),i(e,l),i(e,a),i(a,f),i(f,r),i(e,_),i(e,g),Z(T,g,null),i(e,A),i(e,j),i(j,d),i(e,w),i(e,h),i(h,$),i(e,c),i(e,E),i(E,C),i(e,B),i(e,I),Z(H,I,null),i(e,R),i(e,L),i(L,N),i(L,K),Z(D,L,null),i(e,V),ee=!0},p(J,Q){const le={};Q&1&&(le.date=J[2].tournament_date),t.$set(le),(!ee||Q&1)&&s!==(s=J[2].tournament_name+"")&&te(r,s),(!ee||Q&1&&o!==(o="#"+J[2].tournament_key))&&z(f,"href",o);const se={};Q&1&&(se.rank=J[2].team_result),T.$set(se),(!ee||Q&1)&&Y!==(Y=ie(J[2].rating)+"")&&te(d,Y),(!ee||Q&1)&&p!==(p=ie(J[2].rank)+"")&&te($,p),(!ee||Q&1)&&q!==(q=ie(J[2].total)+"")&&te(C,q);const fe={};Q&1&&(fe.name=J[2].team_name),Q&1&&(fe.current_name=J[2].team_current_name),H.$set(fe),(!ee||Q&1)&&G!==(G=J[2].member_name+"")&&te(N,G);const oe={};Q&1&&(oe.players=J[2].mate_list),D.$set(oe)},i(J){ee||(y(t.$$.fragment,J),y(T.$$.fragment,J),y(H.$$.fragment,J),y(D.$$.fragment,J),ee=!0)},o(J){O(t.$$.fragment,J),O(T.$$.fragment,J),O(H.$$.fragment,J),O(D.$$.fragment,J),ee=!1},d(J){J&&m(e),x(t),x(T),x(H),x(D)}}}function Nt(u){let e,n=u[4]+1+"",t;return{c(){e=F("#"),t=F(n)},l(l){e=U(l,"#"),t=U(l,n)},m(l,a){M(l,e,a),M(l,t,a)},p:ke,d(l){l&&m(e),l&&m(t)}}}function jt(u){let e=ie(u[2].rating)+"",n,t,l,a;return l=new ce({props:{$$slots:{default:[Ot]},$$scope:{ctx:u}}}),{c(){n=F(e),t=S(),W(l.$$.fragment)},l(f){n=U(f,e),t=P(f),X(l.$$.fragment,f)},m(f,s){M(f,n,s),M(f,t,s),Z(l,f,s),a=!0},p(f,s){(!a||s&1)&&e!==(e=ie(f[2].rating)+"")&&te(n,e);const r={};s&129&&(r.$$scope={dirty:s,ctx:f}),l.$set(r)},i(f){a||(y(l.$$.fragment,f),a=!0)},o(f){O(l.$$.fragment,f),a=!1},d(f){f&&m(n),f&&m(t),x(l,f)}}}function Rt(u){let e;return{c(){e=F("-")},l(n){e=U(n,"-")},m(n,t){M(n,e,t)},p:ke,i:ke,o:ke,d(n){n&&m(e)}}}function Ot(u){let e,n=ie(u[2].rank)+"",t,l,a=ie(u[2].total)+"",f,s;return{c(){e=F("("),t=F(n),l=F("\u4F4D / "),f=F(a),s=F("\u4EBA)")},l(r){e=U(r,"("),t=U(r,n),l=U(r,"\u4F4D / "),f=U(r,a),s=U(r,"\u4EBA)")},m(r,o){M(r,e,o),M(r,t,o),M(r,l,o),M(r,f,o),M(r,s,o)},p(r,o){o&1&&n!==(n=ie(r[2].rank)+"")&&te(t,n),o&1&&a!==(a=ie(r[2].total)+"")&&te(f,a)},d(r){r&&m(e),r&&m(t),r&&m(l),r&&m(f),r&&m(s)}}}function Ke(u){let e,n,t,l,a,f,s,r,o,_,g,T,A,j,Y,d,w=u[2].tournament_name+"",h,p,$,c;t=new ce({props:{$$slots:{default:[Nt]},$$scope:{ctx:u}}}),a=new De({props:{date:u[2].tournament_date,spacing:!1}}),r=new Ee({props:{rank:u[2].team_result}});const E=[Rt,jt],q=[];function C(B,I){return B[2].rating==null?0:1}return g=C(u),T=q[g]=E[g](u),{c(){e=b("tr"),n=b("td"),W(t.$$.fragment),l=S(),W(a.$$.fragment),f=S(),s=b("td"),W(r.$$.fragment),o=S(),_=b("td"),T.c(),A=S(),j=b("tr"),Y=b("td"),d=b("a"),h=F(w),$=S(),this.h()},l(B){e=v(B,"TR",{});var I=k(e);n=v(I,"TD",{class:!0});var H=k(n);X(t.$$.fragment,H),l=P(H),X(a.$$.fragment,H),H.forEach(m),f=P(I),s=v(I,"TD",{class:!0});var R=k(s);X(r.$$.fragment,R),o=P(R),R.forEach(m),_=v(I,"TD",{class:!0});var L=k(_);T.l(L),L.forEach(m),I.forEach(m),A=P(B),j=v(B,"TR",{});var G=k(j);Y=v(G,"TD",{colspan:!0,class:!0});var N=k(Y);d=v(N,"A",{href:!0});var K=k(d);h=U(K,w),K.forEach(m),N.forEach(m),$=P(G),G.forEach(m),this.h()},h(){z(n,"class","tal"),z(s,"class","nw"),z(_,"class","nw"),z(d,"href",p="#"+u[2].tournament_key),z(Y,"colspan","3"),z(Y,"class","tal")},m(B,I){M(B,e,I),i(e,n),Z(t,n,null),i(n,l),Z(a,n,null),i(e,f),i(e,s),Z(r,s,null),i(s,o),i(e,_),q[g].m(_,null),M(B,A,I),M(B,j,I),i(j,Y),i(Y,d),i(d,h),i(j,$),c=!0},p(B,I){const H={};I&128&&(H.$$scope={dirty:I,ctx:B}),t.$set(H);const R={};I&1&&(R.date=B[2].tournament_date),a.$set(R);const L={};I&1&&(L.rank=B[2].team_result),r.$set(L);let G=g;g=C(B),g===G?q[g].p(B,I):(re(),O(q[G],1,1,()=>{q[G]=null}),ae(),T=q[g],T?T.p(B,I):(T=q[g]=E[g](B),T.c()),y(T,1),T.m(_,null)),(!c||I&1)&&w!==(w=B[2].tournament_name+"")&&te(h,w),(!c||I&1&&p!==(p="#"+B[2].tournament_key))&&z(d,"href",p)},i(B){c||(y(t.$$.fragment,B),y(a.$$.fragment,B),y(r.$$.fragment,B),y(T),c=!0)},o(B){O(t.$$.fragment,B),O(a.$$.fragment,B),O(r.$$.fragment,B),O(T),c=!1},d(B){B&&m(e),x(t),x(a),x(r),q[g].d(),B&&m(A),B&&m(j)}}}function At(u){let e,n,t=u[0]&&Ue(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),M(l,e,a),n=!0},p(l,[a]){l[0]?t?(t.p(l,a),a&1&&y(t,1)):(t=Ue(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),O(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){O(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function ie(u){return u==null?"-":u.toLocaleString()}function Lt(u,e,n){let t,l;return me(u,he,a=>n(0,t=a)),me(u,ft,a=>n(1,l=a)),[t,l]}class St extends pe{constructor(e){super(),ge(this,e,Lt,At,be,{})}}function Ve(u,e,n){const t=u.slice();return t[2]=e[n],t}function ze(u,e,n){const t=u.slice();return t[5]=e[n],t}function Ge(u,e,n){const t=u.slice();return t[5]=e[n],t}function Pt(u){let e,n,t,l,a,f,s,r,o,_,g,T,A,j,Y,d,w,h,p,$,c,E,q,C,B,I,H,R=u[0].matches,L=[];for(let N=0;N<R.length;N+=1)L[N]=Qe(ze(u,R,N));const G=N=>O(L[N],1,1,()=>{L[N]=null});return{c(){e=b("table"),n=b("thead"),t=b("tr"),l=b("th"),a=F("\u30D6\u30E9\u30B1\u30C3\u30C8"),f=S(),s=b("th"),r=F("\u30E9\u30A6\u30F3\u30C9"),o=S(),_=b("th"),g=F("\u52DD\u6557"),T=S(),A=b("th"),j=F("\u30B9\u30B3\u30A2"),Y=S(),d=b("th"),w=F("\u5BFE\u6226\u76F8\u624B"),h=S(),p=b("th"),$=F("\u9806\u4F4D"),c=S(),E=b("th"),q=F("\u30E1\u30F3\u30D0\u30FC"),C=S(),B=b("tbody");for(let N=0;N<L.length;N+=1)L[N].c();I=S(),this.h()},l(N){e=v(N,"TABLE",{});var K=k(e);n=v(K,"THEAD",{});var D=k(n);t=v(D,"TR",{});var V=k(t);l=v(V,"TH",{style:!0});var ee=k(l);a=U(ee,"\u30D6\u30E9\u30B1\u30C3\u30C8"),ee.forEach(m),f=P(V),s=v(V,"TH",{style:!0});var J=k(s);r=U(J,"\u30E9\u30A6\u30F3\u30C9"),J.forEach(m),o=P(V),_=v(V,"TH",{style:!0});var Q=k(_);g=U(Q,"\u52DD\u6557"),Q.forEach(m),T=P(V),A=v(V,"TH",{style:!0});var le=k(A);j=U(le,"\u30B9\u30B3\u30A2"),le.forEach(m),Y=P(V),d=v(V,"TH",{style:!0});var se=k(d);w=U(se,"\u5BFE\u6226\u76F8\u624B"),se.forEach(m),h=P(V),p=v(V,"TH",{style:!0});var fe=k(p);$=U(fe,"\u9806\u4F4D"),fe.forEach(m),c=P(V),E=v(V,"TH",{style:!0});var oe=k(E);q=U(oe,"\u30E1\u30F3\u30D0\u30FC"),oe.forEach(m),V.forEach(m),D.forEach(m),C=P(K),B=v(K,"TBODY",{});var $e=k(B);for(let _e=0;_e<L.length;_e+=1)L[_e].l($e);$e.forEach(m),I=P(K),K.forEach(m),this.h()},h(){ue(l,"width","6%"),ue(s,"width","6%"),ue(_,"width","6%"),ue(A,"width","6%"),ue(d,"width","23%"),ue(d,"text-align","left"),ue(p,"width","6%"),ue(E,"width","47%"),ue(E,"text-align","left")},m(N,K){M(N,e,K),i(e,n),i(n,t),i(t,l),i(l,a),i(t,f),i(t,s),i(s,r),i(t,o),i(t,_),i(_,g),i(t,T),i(t,A),i(A,j),i(t,Y),i(t,d),i(d,w),i(t,h),i(t,p),i(p,$),i(t,c),i(t,E),i(E,q),i(e,C),i(e,B);for(let D=0;D<L.length;D+=1)L[D].m(B,null);i(e,I),H=!0},p(N,K){if(K&1){R=N[0].matches;let D;for(D=0;D<R.length;D+=1){const V=ze(N,R,D);L[D]?(L[D].p(V,K),y(L[D],1)):(L[D]=Qe(V),L[D].c(),y(L[D],1),L[D].m(B,null))}for(re(),D=R.length;D<L.length;D+=1)G(D);ae()}},i(N){if(!H){for(let K=0;K<R.length;K+=1)y(L[K]);H=!0}},o(N){L=L.filter(Boolean);for(let K=0;K<L.length;K+=1)O(L[K]);H=!1},d(N){N&&m(e),de(L,N)}}}function Mt(u){let e,n,t,l,a=u[0].matches,f=[];for(let r=0;r<a.length;r+=1)f[r]=Xe(Ge(u,a,r));const s=r=>O(f[r],1,1,()=>{f[r]=null});return{c(){e=b("table"),n=b("tbody");for(let r=0;r<f.length;r+=1)f[r].c();t=S(),this.h()},l(r){e=v(r,"TABLE",{});var o=k(e);n=v(o,"TBODY",{class:!0});var _=k(n);for(let g=0;g<f.length;g+=1)f[g].l(_);_.forEach(m),t=P(o),o.forEach(m),this.h()},h(){z(n,"class","triple")},m(r,o){M(r,e,o),i(e,n);for(let _=0;_<f.length;_+=1)f[_].m(n,null);i(e,t),l=!0},p(r,o){if(o&1){a=r[0].matches;let _;for(_=0;_<a.length;_+=1){const g=Ge(r,a,_);f[_]?(f[_].p(g,o),y(f[_],1)):(f[_]=Xe(g),f[_].c(),y(f[_],1),f[_].m(n,null))}for(re(),_=a.length;_<f.length;_+=1)s(_);ae()}},i(r){if(!l){for(let o=0;o<a.length;o+=1)y(f[o]);l=!0}},o(r){f=f.filter(Boolean);for(let o=0;o<f.length;o+=1)O(f[o]);l=!1},d(r){r&&m(e),de(f,r)}}}function Je(u){let e,n,t=u[5].bracket+"",l,a,f,s=u[5].round+"",r,o,_,g,T,A,j=u[5].score_text+"",Y,d,w,h,p,$,c,E,q,C,B,I;return g=new ot({props:{win:u[5].wl}}),h=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),c=new Ee({props:{rank:u[5].opponent_team_rank}}),C=new ve({props:{players:u[5].opponents_list}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=S(),f=b("td"),r=F(s),o=S(),_=b("td"),W(g.$$.fragment),T=S(),A=b("td"),Y=F(j),d=S(),w=b("td"),W(h.$$.fragment),p=S(),$=b("td"),W(c.$$.fragment),E=S(),q=b("td"),W(C.$$.fragment),B=S(),this.h()},l(H){e=v(H,"TR",{});var R=k(e);n=v(R,"TD",{});var L=k(n);l=U(L,t),L.forEach(m),a=P(R),f=v(R,"TD",{});var G=k(f);r=U(G,s),G.forEach(m),o=P(R),_=v(R,"TD",{});var N=k(_);X(g.$$.fragment,N),N.forEach(m),T=P(R),A=v(R,"TD",{});var K=k(A);Y=U(K,j),K.forEach(m),d=P(R),w=v(R,"TD",{class:!0});var D=k(w);X(h.$$.fragment,D),D.forEach(m),p=P(R),$=v(R,"TD",{});var V=k($);X(c.$$.fragment,V),V.forEach(m),E=P(R),q=v(R,"TD",{class:!0});var ee=k(q);X(C.$$.fragment,ee),ee.forEach(m),B=P(R),R.forEach(m),this.h()},h(){z(w,"class","tal"),z(q,"class","tal")},m(H,R){M(H,e,R),i(e,n),i(n,l),i(e,a),i(e,f),i(f,r),i(e,o),i(e,_),Z(g,_,null),i(e,T),i(e,A),i(A,Y),i(e,d),i(e,w),Z(h,w,null),i(e,p),i(e,$),Z(c,$,null),i(e,E),i(e,q),Z(C,q,null),i(e,B),I=!0},p(H,R){(!I||R&1)&&t!==(t=H[5].bracket+"")&&te(l,t),(!I||R&1)&&s!==(s=H[5].round+"")&&te(r,s);const L={};R&1&&(L.win=H[5].wl),g.$set(L),(!I||R&1)&&j!==(j=H[5].score_text+"")&&te(Y,j);const G={};R&1&&(G.name=H[5].opponent_team_name),R&1&&(G.current_name=H[5].opponent_team_current_name),h.$set(G);const N={};R&1&&(N.rank=H[5].opponent_team_rank),c.$set(N);const K={};R&1&&(K.players=H[5].opponents_list),C.$set(K)},i(H){I||(y(g.$$.fragment,H),y(h.$$.fragment,H),y(c.$$.fragment,H),y(C.$$.fragment,H),I=!0)},o(H){O(g.$$.fragment,H),O(h.$$.fragment,H),O(c.$$.fragment,H),O(C.$$.fragment,H),I=!1},d(H){H&&m(e),x(g),x(h),x(c),x(C)}}}function Qe(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&Je(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),M(l,e,a),n=!0},p(l,a){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,a),a&1&&y(t,1)):(t=Je(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),O(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){O(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function We(u){let e,n,t=u[5].bracket+"",l,a,f,s,r=u[5].round+"",o,_,g,T,A,j=u[5].score_text+"",Y,d,w,h,p,$,c,E,q,C,B,I,H,R,L,G;return f=new ce({props:{t:"R"}}),g=new ot({props:{win:u[5].wl}}),p=new ce({props:{t:"vs."}}),c=new we({props:{name:u[5].opponent_team_name,current_name:u[5].opponent_team_current_name}}),C=new Ee({props:{rank:u[5].opponent_team_rank}}),R=new ve({props:{players:u[5].opponents_list}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=S(),W(f.$$.fragment),s=S(),o=F(r),_=S(),W(g.$$.fragment),T=S(),A=b("td"),Y=F(j),d=S(),w=b("tr"),h=b("td"),W(p.$$.fragment),$=S(),W(c.$$.fragment),E=S(),q=b("td"),W(C.$$.fragment),B=S(),I=b("tr"),H=b("td"),W(R.$$.fragment),L=S(),this.h()},l(N){e=v(N,"TR",{});var K=k(e);n=v(K,"TD",{class:!0});var D=k(n);l=U(D,t),a=P(D),X(f.$$.fragment,D),s=P(D),o=U(D,r),_=P(D),X(g.$$.fragment,D),D.forEach(m),T=P(K),A=v(K,"TD",{class:!0});var V=k(A);Y=U(V,j),V.forEach(m),K.forEach(m),d=P(N),w=v(N,"TR",{});var ee=k(w);h=v(ee,"TD",{class:!0});var J=k(h);X(p.$$.fragment,J),$=P(J),X(c.$$.fragment,J),J.forEach(m),E=P(ee),q=v(ee,"TD",{class:!0});var Q=k(q);X(C.$$.fragment,Q),Q.forEach(m),ee.forEach(m),B=P(N),I=v(N,"TR",{});var le=k(I);H=v(le,"TD",{colspan:!0,class:!0,style:!0});var se=k(H);X(R.$$.fragment,se),se.forEach(m),L=P(le),le.forEach(m),this.h()},h(){z(n,"class","tal"),z(A,"class","nw"),z(h,"class","tal"),z(q,"class","nw"),z(H,"colspan","2"),z(H,"class","tal"),ue(H,"padding-left","1em")},m(N,K){M(N,e,K),i(e,n),i(n,l),i(n,a),Z(f,n,null),i(n,s),i(n,o),i(n,_),Z(g,n,null),i(e,T),i(e,A),i(A,Y),M(N,d,K),M(N,w,K),i(w,h),Z(p,h,null),i(h,$),Z(c,h,null),i(w,E),i(w,q),Z(C,q,null),M(N,B,K),M(N,I,K),i(I,H),Z(R,H,null),i(I,L),G=!0},p(N,K){(!G||K&1)&&t!==(t=N[5].bracket+"")&&te(l,t),(!G||K&1)&&r!==(r=N[5].round+"")&&te(o,r);const D={};K&1&&(D.win=N[5].wl),g.$set(D),(!G||K&1)&&j!==(j=N[5].score_text+"")&&te(Y,j);const V={};K&1&&(V.name=N[5].opponent_team_name),K&1&&(V.current_name=N[5].opponent_team_current_name),c.$set(V);const ee={};K&1&&(ee.rank=N[5].opponent_team_rank),C.$set(ee);const J={};K&1&&(J.players=N[5].opponents_list),R.$set(J)},i(N){G||(y(f.$$.fragment,N),y(g.$$.fragment,N),y(p.$$.fragment,N),y(c.$$.fragment,N),y(C.$$.fragment,N),y(R.$$.fragment,N),G=!0)},o(N){O(f.$$.fragment,N),O(g.$$.fragment,N),O(p.$$.fragment,N),O(c.$$.fragment,N),O(C.$$.fragment,N),O(R.$$.fragment,N),G=!1},d(N){N&&m(e),x(f),x(g),N&&m(d),N&&m(w),x(p),x(c),x(C),N&&m(B),N&&m(I),x(R)}}}function Xe(u){let e,n,t=u[5].tnmt_key===u[2].tournament_key&&We(u);return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,a){t&&t.m(l,a),M(l,e,a),n=!0},p(l,a){l[5].tnmt_key===l[2].tournament_key?t?(t.p(l,a),a&1&&y(t,1)):(t=We(l),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),O(t,1,1,()=>{t=null}),ae())},i(l){n||(y(t),n=!0)},o(l){O(t),n=!1},d(l){t&&t.d(l),l&&m(e)}}}function Ze(u){let e,n,t,l,a,f,s,r,o,_,g,T,A,j,Y,d,w=u[2].member_name+"",h,p,$,c,E,q,C,B,I,H,R,L;n=new dt({props:{name:u[2].tournament_name,key:u[2].tournament_key,official:!1}}),o=new De({props:{date:u[2].tournament_date}}),A=new we({props:{name:u[2].team_name,current_name:u[2].team_name}}),$=new ve({props:{players:u[2].mate_list}}),C=new Ee({props:{rank:u[2].team_result}});const G=[Mt,Pt],N=[];function K(D,V){return D[1]?0:1}return I=K(u),H=N[I]=G[I](u),{c(){e=b("h3"),W(n.$$.fragment),l=S(),a=b("dl"),f=b("dt"),s=F("\u958B\u50AC\u65E5"),r=b("dd"),W(o.$$.fragment),_=b("dt"),g=F("\u30C1\u30FC\u30E0"),T=b("dd"),W(A.$$.fragment),j=b("dt"),Y=F("\u30E1\u30F3\u30D0\u30FC"),d=b("dd"),h=F(w),p=F(", "),W($.$$.fragment),c=b("dt"),E=F("\u7D50\u679C"),q=b("dd"),W(C.$$.fragment),B=S(),H.c(),R=ne(),this.h()},l(D){e=v(D,"H3",{id:!0});var V=k(e);X(n.$$.fragment,V),V.forEach(m),l=P(D),a=v(D,"DL",{});var ee=k(a);f=v(ee,"DT",{});var J=k(f);s=U(J,"\u958B\u50AC\u65E5"),J.forEach(m),r=v(ee,"DD",{});var Q=k(r);X(o.$$.fragment,Q),Q.forEach(m),_=v(ee,"DT",{});var le=k(_);g=U(le,"\u30C1\u30FC\u30E0"),le.forEach(m),T=v(ee,"DD",{});var se=k(T);X(A.$$.fragment,se),se.forEach(m),j=v(ee,"DT",{});var fe=k(j);Y=U(fe,"\u30E1\u30F3\u30D0\u30FC"),fe.forEach(m),d=v(ee,"DD",{});var oe=k(d);h=U(oe,w),p=U(oe,", "),X($.$$.fragment,oe),oe.forEach(m),c=v(ee,"DT",{});var $e=k(c);E=U($e,"\u7D50\u679C"),$e.forEach(m),q=v(ee,"DD",{});var _e=k(q);X(C.$$.fragment,_e),_e.forEach(m),ee.forEach(m),B=P(D),H.l(D),R=ne(),this.h()},h(){z(e,"id",t=u[2].tournament_key)},m(D,V){M(D,e,V),Z(n,e,null),M(D,l,V),M(D,a,V),i(a,f),i(f,s),i(a,r),Z(o,r,null),i(a,_),i(_,g),i(a,T),Z(A,T,null),i(a,j),i(j,Y),i(a,d),i(d,h),i(d,p),Z($,d,null),i(a,c),i(c,E),i(a,q),Z(C,q,null),M(D,B,V),N[I].m(D,V),M(D,R,V),L=!0},p(D,V){const ee={};V&1&&(ee.name=D[2].tournament_name),V&1&&(ee.key=D[2].tournament_key),n.$set(ee),(!L||V&1&&t!==(t=D[2].tournament_key))&&z(e,"id",t);const J={};V&1&&(J.date=D[2].tournament_date),o.$set(J);const Q={};V&1&&(Q.name=D[2].team_name),V&1&&(Q.current_name=D[2].team_name),A.$set(Q),(!L||V&1)&&w!==(w=D[2].member_name+"")&&te(h,w);const le={};V&1&&(le.players=D[2].mate_list),$.$set(le);const se={};V&1&&(se.rank=D[2].team_result),C.$set(se);let fe=I;I=K(D),I===fe?N[I].p(D,V):(re(),O(N[fe],1,1,()=>{N[fe]=null}),ae(),H=N[I],H?H.p(D,V):(H=N[I]=G[I](D),H.c()),y(H,1),H.m(R.parentNode,R))},i(D){L||(y(n.$$.fragment,D),y(o.$$.fragment,D),y(A.$$.fragment,D),y($.$$.fragment,D),y(C.$$.fragment,D),y(H),L=!0)},o(D){O(n.$$.fragment,D),O(o.$$.fragment,D),O(A.$$.fragment,D),O($.$$.fragment,D),O(C.$$.fragment,D),O(H),L=!1},d(D){D&&m(e),x(n),D&&m(l),D&&m(a),x(o),x(A),x($),x(C),D&&m(B),N[I].d(D),D&&m(R)}}}function Yt(u){let e,n,t=u[0].tournaments,l=[];for(let f=0;f<t.length;f+=1)l[f]=Ze(Ve(u,t,f));const a=f=>O(l[f],1,1,()=>{l[f]=null});return{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=ne()},l(f){for(let s=0;s<l.length;s+=1)l[s].l(f);e=ne()},m(f,s){for(let r=0;r<l.length;r+=1)l[r].m(f,s);M(f,e,s),n=!0},p(f,[s]){if(s&3){t=f[0].tournaments;let r;for(r=0;r<t.length;r+=1){const o=Ve(f,t,r);l[r]?(l[r].p(o,s),y(l[r],1)):(l[r]=Ze(o),l[r].c(),y(l[r],1),l[r].m(e.parentNode,e))}for(re(),r=t.length;r<l.length;r+=1)a(r);ae()}},i(f){if(!n){for(let s=0;s<t.length;s+=1)y(l[s]);n=!0}},o(f){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)O(l[s]);n=!1},d(f){de(l,f),f&&m(e)}}}function qt(u,e,n){let t,l;return me(u,he,a=>n(0,t=a)),me(u,ft,a=>n(1,l=a)),[t,l]}class It extends pe{constructor(e){super(),ge(this,e,qt,Yt,be,{})}}const Ft=He(he,u=>{if(u==null)return[];const e={},n=[];for(const a of u.tournaments){const f={key:a.tournament_key,win:0,lose:0};for(const s of u.matches)s.tnmt_key===a.tournament_key&&(s.opponent_team_key===s.loser_key?f.win+=1:f.lose+=1);for(const s of a.mate_list)e[s]===void 0?e[s]={name:s,tournaments:[a.tournament_key]}:e[s].tournaments.push(a.tournament_key);n.push(f)}const t=Object.values(e);return[...new Set(Object.values(e).map(a=>a.tournaments.join("	")))].map(a=>a.split("	")).sort((a,f)=>f.length-a.length).map(a=>{const f=n.filter(s=>a.includes(s.key));return{names:t.filter(s=>s.tournaments.sort().join("	")===a.sort().join("	")).map(s=>s.name),entry:a.length,win:f.reduce((s,r)=>s+r.win,0),lose:f.reduce((s,r)=>s+r.lose,0)}})});function xe(u,e,n){const t=u.slice();return t[1]=e[n],t}function et(u){let e,n,t=u[1].entry+"",l,a,f,s,r=u[1].win+"",o,_,g,T=u[1].lose+"",A,j,Y,d,w,h,p;return a=new ce({props:{t:" \u5927\u4F1A"}}),_=new ce({props:{t:" \u52DD"}}),j=new ce({props:{t:" \u6557"}}),w=new ve({props:{players:u[1].names}}),{c(){e=b("tr"),n=b("td"),l=F(t),W(a.$$.fragment),f=S(),s=b("td"),o=F(r),W(_.$$.fragment),g=S(),A=F(T),W(j.$$.fragment),Y=S(),d=b("td"),W(w.$$.fragment),h=S(),this.h()},l($){e=v($,"TR",{});var c=k(e);n=v(c,"TD",{class:!0});var E=k(n);l=U(E,t),X(a.$$.fragment,E),E.forEach(m),f=P(c),s=v(c,"TD",{class:!0});var q=k(s);o=U(q,r),X(_.$$.fragment,q),g=P(q),A=U(q,T),X(j.$$.fragment,q),q.forEach(m),Y=P(c),d=v(c,"TD",{class:!0});var C=k(d);X(w.$$.fragment,C),C.forEach(m),h=P(c),c.forEach(m),this.h()},h(){z(n,"class","nw"),z(s,"class","nw"),z(d,"class","tal")},m($,c){M($,e,c),i(e,n),i(n,l),Z(a,n,null),i(e,f),i(e,s),i(s,o),Z(_,s,null),i(s,g),i(s,A),Z(j,s,null),i(e,Y),i(e,d),Z(w,d,null),i(e,h),p=!0},p($,c){(!p||c&1)&&t!==(t=$[1].entry+"")&&te(l,t),(!p||c&1)&&r!==(r=$[1].win+"")&&te(o,r),(!p||c&1)&&T!==(T=$[1].lose+"")&&te(A,T);const E={};c&1&&(E.players=$[1].names),w.$set(E)},i($){p||(y(a.$$.fragment,$),y(_.$$.fragment,$),y(j.$$.fragment,$),y(w.$$.fragment,$),p=!0)},o($){O(a.$$.fragment,$),O(_.$$.fragment,$),O(j.$$.fragment,$),O(w.$$.fragment,$),p=!1},d($){$&&m(e),x(a),x(_),x(j),x(w)}}}function Ut(u){let e,n,t,l,a,f,s,r,o,_,g,T,A,j,Y,d,w=u[0],h=[];for(let $=0;$<w.length;$+=1)h[$]=et(xe(u,w,$));const p=$=>O(h[$],1,1,()=>{h[$]=null});return{c(){e=b("h3"),n=F("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),t=S(),l=b("table"),a=b("thead"),f=b("tr"),s=b("th"),r=F("\u540C\u30C1\u30FC\u30E0"),o=S(),_=b("th"),g=F("\u6210\u7E3E"),T=S(),A=b("th"),j=S(),Y=b("tbody");for(let $=0;$<h.length;$+=1)h[$].c();this.h()},l($){e=v($,"H3",{});var c=k(e);n=U(c,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),c.forEach(m),t=P($),l=v($,"TABLE",{});var E=k(l);a=v(E,"THEAD",{});var q=k(a);f=v(q,"TR",{});var C=k(f);s=v(C,"TH",{class:!0,style:!0});var B=k(s);r=U(B,"\u540C\u30C1\u30FC\u30E0"),B.forEach(m),o=P(C),_=v(C,"TH",{class:!0,style:!0});var I=k(_);g=U(I,"\u6210\u7E3E"),I.forEach(m),T=P(C),A=v(C,"TH",{}),k(A).forEach(m),C.forEach(m),q.forEach(m),j=P(E),Y=v(E,"TBODY",{});var H=k(Y);for(let R=0;R<h.length;R+=1)h[R].l(H);H.forEach(m),E.forEach(m),this.h()},h(){z(s,"class","nw"),ue(s,"width","5em"),z(_,"class","nw"),ue(_,"width","7em")},m($,c){M($,e,c),i(e,n),M($,t,c),M($,l,c),i(l,a),i(a,f),i(f,s),i(s,r),i(f,o),i(f,_),i(_,g),i(f,T),i(f,A),i(l,j),i(l,Y);for(let E=0;E<h.length;E+=1)h[E].m(Y,null);d=!0},p($,[c]){if(c&1){w=$[0];let E;for(E=0;E<w.length;E+=1){const q=xe($,w,E);h[E]?(h[E].p(q,c),y(h[E],1)):(h[E]=et(q),h[E].c(),y(h[E],1),h[E].m(Y,null))}for(re(),E=w.length;E<h.length;E+=1)p(E);ae()}},i($){if(!d){for(let c=0;c<w.length;c+=1)y(h[c]);d=!0}},o($){h=h.filter(Boolean);for(let c=0;c<h.length;c+=1)O(h[c]);d=!1},d($){$&&m(e),$&&m(t),$&&m(l),de(h,$)}}}function Ct(u,e,n){let t;return me(u,Ft,l=>n(0,t=l)),[t]}class Kt extends pe{constructor(e){super(),ge(this,e,Ct,Ut,be,{})}}const Vt=He(he,u=>{if(u==null)return[];const e={};for(const t of u.matches)for(const l of t.opponents_list){const a=t.opponent_team_key===t.loser_key,f=`${t.tnmt_key}/${t.bracket}/${t.round}`;e[l]===void 0?e[l]={name:l,win:a?1:0,lose:a?0:1,matches:[f]}:(e[l].matches.push(f),a?e[l].win+=1:e[l].lose+=1)}const n=Object.values(e);return[...new Set(Object.values(e).map(t=>t.matches.join("	")))].map(t=>t.split("	")).sort((t,l)=>l.length-t.length).filter(t=>t.length>=3).map(t=>{const l=n.filter(a=>a.matches.join("	")===t.join("	"));return{names:l.map(a=>a.name),win:l[0].win,lose:l[0].lose}}).sort((t,l)=>l.win-t.win)});function tt(u,e,n){const t=u.slice();return t[1]=e[n],t}function lt(u){let e,n,t=u[1].win+"",l,a,f,s,r=u[1].lose+"",o,_,g,T,A,j,Y,d;return f=new ce({props:{t:"\u52DD"}}),g=new ce({props:{t:"\u6557"}}),j=new ve({props:{players:u[1].names}}),{c(){e=b("tr"),n=b("td"),l=F(t),a=S(),W(f.$$.fragment),s=S(),o=F(r),_=S(),W(g.$$.fragment),T=S(),A=b("td"),W(j.$$.fragment),Y=S(),this.h()},l(w){e=v(w,"TR",{});var h=k(e);n=v(h,"TD",{class:!0});var p=k(n);l=U(p,t),a=P(p),X(f.$$.fragment,p),s=P(p),o=U(p,r),_=P(p),X(g.$$.fragment,p),p.forEach(m),T=P(h),A=v(h,"TD",{class:!0});var $=k(A);X(j.$$.fragment,$),$.forEach(m),Y=P(h),h.forEach(m),this.h()},h(){z(n,"class","nw"),z(A,"class","tal")},m(w,h){M(w,e,h),i(e,n),i(n,l),i(n,a),Z(f,n,null),i(n,s),i(n,o),i(n,_),Z(g,n,null),i(e,T),i(e,A),Z(j,A,null),i(e,Y),d=!0},p(w,h){(!d||h&1)&&t!==(t=w[1].win+"")&&te(l,t),(!d||h&1)&&r!==(r=w[1].lose+"")&&te(o,r);const p={};h&1&&(p.players=w[1].names),j.$set(p)},i(w){d||(y(f.$$.fragment,w),y(g.$$.fragment,w),y(j.$$.fragment,w),d=!0)},o(w){O(f.$$.fragment,w),O(g.$$.fragment,w),O(j.$$.fragment,w),d=!1},d(w){w&&m(e),x(f),x(g),x(j)}}}function zt(u){let e,n,t,l,a,f,s,r,o,_,g,T,A,j,Y=u[0],d=[];for(let h=0;h<Y.length;h+=1)d[h]=lt(tt(u,Y,h));const w=h=>O(d[h],1,1,()=>{d[h]=null});return{c(){e=b("h3"),n=F("\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),t=S(),l=b("table"),a=b("thead"),f=b("tr"),s=b("th"),r=F("\u901A\u7B97\u6210\u7E3E"),o=S(),_=b("th"),g=F("\u30D7\u30EC\u30A4\u30E4\u30FC"),T=S(),A=b("tbody");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=v(h,"H3",{});var p=k(e);n=U(p,"\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),p.forEach(m),t=P(h),l=v(h,"TABLE",{});var $=k(l);a=v($,"THEAD",{});var c=k(a);f=v(c,"TR",{});var E=k(f);s=v(E,"TH",{class:!0,style:!0});var q=k(s);r=U(q,"\u901A\u7B97\u6210\u7E3E"),q.forEach(m),o=P(E),_=v(E,"TH",{class:!0});var C=k(_);g=U(C,"\u30D7\u30EC\u30A4\u30E4\u30FC"),C.forEach(m),E.forEach(m),c.forEach(m),T=P($),A=v($,"TBODY",{});var B=k(A);for(let I=0;I<d.length;I+=1)d[I].l(B);B.forEach(m),$.forEach(m),this.h()},h(){z(s,"class","nw"),ue(s,"width","7em"),z(_,"class","tal")},m(h,p){M(h,e,p),i(e,n),M(h,t,p),M(h,l,p),i(l,a),i(a,f),i(f,s),i(s,r),i(f,o),i(f,_),i(_,g),i(l,T),i(l,A);for(let $=0;$<d.length;$+=1)d[$].m(A,null);j=!0},p(h,[p]){if(p&1){Y=h[0];let $;for($=0;$<Y.length;$+=1){const c=tt(h,Y,$);d[$]?(d[$].p(c,p),y(d[$],1)):(d[$]=lt(c),d[$].c(),y(d[$],1),d[$].m(A,null))}for(re(),$=Y.length;$<d.length;$+=1)w($);ae()}},i(h){if(!j){for(let p=0;p<Y.length;p+=1)y(d[p]);j=!0}},o(h){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)O(d[p]);j=!1},d(h){h&&m(e),h&&m(t),h&&m(l),de(d,h)}}}function Gt(u,e,n){let t;return me(u,Vt,l=>n(0,t=l)),[t]}class Jt extends pe{constructor(e){super(),ge(this,e,Gt,zt,be,{})}}function Qt(u){let e,n;return e=new ht({}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,l){Z(e,t,l),n=!0},p:ke,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Wt(u){let e,n,t,l=u[2].player.collated_name+"",a,f,s,r,o,_,g,T,A,j,Y,d,w;e=new _t({props:{title:u[2].player.collated_name,type:"article",url:"player/detail/?q="+u[1],description:""}}),r=new ye({props:{current_mode:u[0],mode:"basic",name:"\u57FA\u672C",url:"/player/detail?p="+u[1]+"&mode=basic"}}),_=new ye({props:{current_mode:u[0],mode:"tournament",name:"\u5927\u4F1A",url:"/player/detail?p="+u[1]+"&mode=tournament"}}),T=new ye({props:{current_mode:u[0],mode:"relation",name:"\u95A2\u9023",url:"/player/detail?p="+u[1]+"&mode=relation"}});let h=u[0]==="basic"&&nt(),p=u[0]==="tournament"&&rt(),$=u[0]==="relation"&&at();return{c(){W(e.$$.fragment),n=S(),t=b("h1"),a=F(l),f=S(),s=b("div"),W(r.$$.fragment),o=F(` |
    `),W(_.$$.fragment),g=F(` |
    `),W(T.$$.fragment),A=S(),h&&h.c(),j=S(),p&&p.c(),Y=S(),$&&$.c(),d=ne(),this.h()},l(c){X(e.$$.fragment,c),n=P(c),t=v(c,"H1",{});var E=k(t);a=U(E,l),E.forEach(m),f=P(c),s=v(c,"DIV",{class:!0});var q=k(s);X(r.$$.fragment,q),o=U(q,` |
    `),X(_.$$.fragment,q),g=U(q,` |
    `),X(T.$$.fragment,q),q.forEach(m),A=P(c),h&&h.l(c),j=P(c),p&&p.l(c),Y=P(c),$&&$.l(c),d=ne(),this.h()},h(){z(s,"class","detail-tab")},m(c,E){Z(e,c,E),M(c,n,E),M(c,t,E),i(t,a),M(c,f,E),M(c,s,E),Z(r,s,null),i(s,o),Z(_,s,null),i(s,g),Z(T,s,null),M(c,A,E),h&&h.m(c,E),M(c,j,E),p&&p.m(c,E),M(c,Y,E),$&&$.m(c,E),M(c,d,E),w=!0},p(c,E){const q={};E&4&&(q.title=c[2].player.collated_name),E&2&&(q.url="player/detail/?q="+c[1]),e.$set(q),(!w||E&4)&&l!==(l=c[2].player.collated_name+"")&&te(a,l);const C={};E&1&&(C.current_mode=c[0]),E&2&&(C.url="/player/detail?p="+c[1]+"&mode=basic"),r.$set(C);const B={};E&1&&(B.current_mode=c[0]),E&2&&(B.url="/player/detail?p="+c[1]+"&mode=tournament"),_.$set(B);const I={};E&1&&(I.current_mode=c[0]),E&2&&(I.url="/player/detail?p="+c[1]+"&mode=relation"),T.$set(I),c[0]==="basic"?h?E&1&&y(h,1):(h=nt(),h.c(),y(h,1),h.m(j.parentNode,j)):h&&(re(),O(h,1,1,()=>{h=null}),ae()),c[0]==="tournament"?p?E&1&&y(p,1):(p=rt(),p.c(),y(p,1),p.m(Y.parentNode,Y)):p&&(re(),O(p,1,1,()=>{p=null}),ae()),c[0]==="relation"?$?E&1&&y($,1):($=at(),$.c(),y($,1),$.m(d.parentNode,d)):$&&(re(),O($,1,1,()=>{$=null}),ae())},i(c){w||(y(e.$$.fragment,c),y(r.$$.fragment,c),y(_.$$.fragment,c),y(T.$$.fragment,c),y(h),y(p),y($),w=!0)},o(c){O(e.$$.fragment,c),O(r.$$.fragment,c),O(_.$$.fragment,c),O(T.$$.fragment,c),O(h),O(p),O($),w=!1},d(c){x(e,c),c&&m(n),c&&m(t),c&&m(f),c&&m(s),x(r),x(_),x(T),c&&m(A),h&&h.d(c),c&&m(j),p&&p.d(c),c&&m(Y),$&&$.d(c),c&&m(d)}}}function nt(u){let e,n,t,l;return e=new vt({}),t=new yt({}),{c(){W(e.$$.fragment),n=S(),W(t.$$.fragment)},l(a){X(e.$$.fragment,a),n=P(a),X(t.$$.fragment,a)},m(a,f){Z(e,a,f),M(a,n,f),Z(t,a,f),l=!0},i(a){l||(y(e.$$.fragment,a),y(t.$$.fragment,a),l=!0)},o(a){O(e.$$.fragment,a),O(t.$$.fragment,a),l=!1},d(a){x(e,a),a&&m(n),x(t,a)}}}function rt(u){let e,n,t,l,a,f,s;return l=new St({}),f=new It({}),{c(){e=b("h2"),n=F("\u53C2\u52A0\u5927\u4F1A"),t=S(),W(l.$$.fragment),a=S(),W(f.$$.fragment)},l(r){e=v(r,"H2",{});var o=k(e);n=U(o,"\u53C2\u52A0\u5927\u4F1A"),o.forEach(m),t=P(r),X(l.$$.fragment,r),a=P(r),X(f.$$.fragment,r)},m(r,o){M(r,e,o),i(e,n),M(r,t,o),Z(l,r,o),M(r,a,o),Z(f,r,o),s=!0},i(r){s||(y(l.$$.fragment,r),y(f.$$.fragment,r),s=!0)},o(r){O(l.$$.fragment,r),O(f.$$.fragment,r),s=!1},d(r){r&&m(e),r&&m(t),x(l,r),r&&m(a),x(f,r)}}}function at(u){let e,n,t,l,a,f,s;return l=new Kt({}),f=new Jt({}),{c(){e=b("h2"),n=F("\u95A2\u9023\u60C5\u5831"),t=S(),W(l.$$.fragment),a=S(),W(f.$$.fragment)},l(r){e=v(r,"H2",{});var o=k(e);n=U(o,"\u95A2\u9023\u60C5\u5831"),o.forEach(m),t=P(r),X(l.$$.fragment,r),a=P(r),X(f.$$.fragment,r)},m(r,o){M(r,e,o),i(e,n),M(r,t,o),Z(l,r,o),M(r,a,o),Z(f,r,o),s=!0},i(r){s||(y(l.$$.fragment,r),y(f.$$.fragment,r),s=!0)},o(r){O(l.$$.fragment,r),O(f.$$.fragment,r),s=!1},d(r){r&&m(e),r&&m(t),x(l,r),r&&m(a),x(f,r)}}}function Xt(u){let e,n,t,l;const a=[Wt,Qt],f=[];function s(r,o){return r[2]?0:1}return e=s(u),n=f[e]=a[e](u),{c(){n.c(),t=ne()},l(r){n.l(r),t=ne()},m(r,o){f[e].m(r,o),M(r,t,o),l=!0},p(r,[o]){let _=e;e=s(r),e===_?f[e].p(r,o):(re(),O(f[_],1,1,()=>{f[_]=null}),ae(),n=f[e],n?n.p(r,o):(n=f[e]=a[e](r),n.c()),y(n,1),n.m(t.parentNode,t))},i(r){l||(y(n),l=!0)},o(r){O(n),l=!1},d(r){f[e].d(r),r&&m(t)}}}function Zt(u,e,n){let t,l;me(u,Re,r=>n(1,t=r)),me(u,he,r=>n(2,l=r));let a="basic";ut(()=>{s(null)});async function f(r){je("player/player_aliases.json").then(o=>o.json()).then(o=>s(o[r])).catch(()=>[])}async function s(r){n(0,a=it("basic","mode"));const o=mt(r,"p");t===o||o===null||(he.set(null),Re.set(o),je(`player/${t}.json`).then(_=>{if([403,404].indexOf(_.status)!==-1)throw new Error("NOT FOUND");return _.json()}).then(_=>{pt(_)}).catch(_=>{_.message==="NOT FOUND"&&r===null&&f(t)}))}return[a,t,l]}class $l extends pe{constructor(e){super(),ge(this,e,Zt,Xt,be,{})}}export{$l as default};
