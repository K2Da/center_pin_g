import{S as he,i as $e,s as de,l as se,g as C,n as te,o as O,p as le,q as w,d as i,P as ie,e as g,t as K,k as F,w as G,c as b,a as v,h as V,m as U,x as J,b as X,K as m,y as Q,j as fe,B as W,R as ue,E as it,f as re}from"../../../chunks/index-15dce5f7.js";import{o as we,p as ht,m as $t,q as dt,j as pt,k as Be}from"../../../chunks/global-fab70934.js";import{a as gt}from"../../../chunks/navigation-13fd7038.js";import{w as ut}from"../../../chunks/index-0695a55f.js";import{T as bt,P as be}from"../../../chunks/PageTab-9361fc35.js";import{H as vt}from"../../../chunks/Header-dda1721f.js";import{D as De,T as ve,P as kt}from"../../../chunks/PopUpA-022d3435.js";import{a as ge,T as pe}from"../../../chunks/TeamName-7fa6d4ae.js";import{P as ce}from"../../../chunks/PlayersLine-6e2a82ff.js";import{P as Et}from"../../../chunks/PlayerName-5dd83597.js";import{T as _t}from"../../../chunks/TournamentName-bac5c1ec.js";import{S as ye}from"../../../chunks/Span-465bde08.js";import{M as ct}from"../../../chunks/MatchResult-fc4c9239.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/Twitch-55dc744f.js";const Ne=ut(""),_e=ut(null);function Tt(o){const t={};for(const[s,r]of o.tournaments.entries())for(const f of r.player_list)t[f]===void 0&&(t[f]={tournament:s,count:0}),t[f].count+=1;const n=Object.keys(t);n.sort((s,r)=>t[s].tournament===t[r].tournament?t[r].count-t[s].count:t[s].tournament-t[r].tournament),o.matches||(o.matches=[]);for(const s of o.matches)s.wl=s.opponent_team_key===s.loser_key,s.score_text=s.wl?`${s.winner_score} - ${s.loser_score}`:`${s.loser_score} - ${s.winner_score}`;const e=[...o.tournaments].reverse(),l={...o,players:n,reversed_tournaments:e,player_stats:t};_e.set(l)}function Re(o,t,n){const e=o.slice();return e[2]=t[n],e[4]=n,e}function Oe(o,t,n){const e=o.slice();return e[2]=t[n],e[4]=n,e}function wt(o){let t,n,e,l,s,r,f,a,u,_,T,B,y,E,S,N,A,h,p,q,R,L,Y,P=o[1].tournaments,c=[];for(let D=0;D<P.length;D+=1)c[D]=Me(Re(o,P,D));const k=D=>O(c[D],1,1,()=>{c[D]=null});return{c(){t=g("table"),n=g("thead"),e=g("tr"),l=g("th"),s=K("#"),r=F(),f=g("th"),a=K("\u958B\u50AC\u65E5"),u=F(),_=g("th"),T=K("\u5927\u4F1A\u540D"),B=F(),y=g("th"),E=K("\u7D50\u679C"),S=F(),N=g("th"),A=K("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),h=F(),p=g("th"),q=K("\u30E1\u30F3\u30D0\u30FC"),R=F(),L=g("tbody");for(let D=0;D<c.length;D+=1)c[D].c();this.h()},l(D){t=b(D,"TABLE",{});var j=v(t);n=b(j,"THEAD",{});var H=v(n);e=b(H,"TR",{});var z=v(e);l=b(z,"TH",{class:!0});var d=v(l);s=V(d,"#"),d.forEach(i),r=U(z),f=b(z,"TH",{});var M=v(f);a=V(M,"\u958B\u50AC\u65E5"),M.forEach(i),u=U(z),_=b(z,"TH",{class:!0});var $=v(_);T=V($,"\u5927\u4F1A\u540D"),$.forEach(i),B=U(z),y=b(z,"TH",{});var I=v(y);E=V(I,"\u7D50\u679C"),I.forEach(i),S=U(z),N=b(z,"TH",{class:!0});var Z=v(N);A=V(Z,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),Z.forEach(i),h=U(z),p=b(z,"TH",{class:!0});var x=v(p);q=V(x,"\u30E1\u30F3\u30D0\u30FC"),x.forEach(i),z.forEach(i),H.forEach(i),R=U(j),L=b(j,"TBODY",{});var ee=v(L);for(let ne=0;ne<c.length;ne+=1)c[ne].l(ee);ee.forEach(i),j.forEach(i),this.h()},h(){X(l,"class","tar"),X(_,"class","tal"),X(N,"class","tal"),X(p,"class","tal")},m(D,j){C(D,t,j),m(t,n),m(n,e),m(e,l),m(l,s),m(e,r),m(e,f),m(f,a),m(e,u),m(e,_),m(_,T),m(e,B),m(e,y),m(y,E),m(e,S),m(e,N),m(N,A),m(e,h),m(e,p),m(p,q),m(t,R),m(t,L);for(let H=0;H<c.length;H+=1)c[H].m(L,null);Y=!0},p(D,j){if(j&2){P=D[1].tournaments;let H;for(H=0;H<P.length;H+=1){const z=Re(D,P,H);c[H]?(c[H].p(z,j),w(c[H],1)):(c[H]=Me(z),c[H].c(),w(c[H],1),c[H].m(L,null))}for(te(),H=P.length;H<c.length;H+=1)k(H);le()}},i(D){if(!Y){for(let j=0;j<P.length;j+=1)w(c[j]);Y=!0}},o(D){c=c.filter(Boolean);for(let j=0;j<c.length;j+=1)O(c[j]);Y=!1},d(D){D&&i(t),ue(c,D)}}}function Dt(o){let t,n,e,l=o[1].tournaments,s=[];for(let f=0;f<l.length;f+=1)s[f]=Ae(Oe(o,l,f));const r=f=>O(s[f],1,1,()=>{s[f]=null});return{c(){t=g("table"),n=g("tbody");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=b(f,"TABLE",{});var a=v(t);n=b(a,"TBODY",{class:!0});var u=v(n);for(let _=0;_<s.length;_+=1)s[_].l(u);u.forEach(i),a.forEach(i),this.h()},h(){X(n,"class","double")},m(f,a){C(f,t,a),m(t,n);for(let u=0;u<s.length;u+=1)s[u].m(n,null);e=!0},p(f,a){if(a&2){l=f[1].tournaments;let u;for(u=0;u<l.length;u+=1){const _=Oe(f,l,u);s[u]?(s[u].p(_,a),w(s[u],1)):(s[u]=Ae(_),s[u].c(),w(s[u],1),s[u].m(n,null))}for(te(),u=l.length;u<s.length;u+=1)r(u);le()}},i(f){if(!e){for(let a=0;a<l.length;a+=1)w(s[a]);e=!0}},o(f){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)O(s[a]);e=!1},d(f){f&&i(t),ue(s,f)}}}function Me(o){let t,n,e=o[4]+1+"",l,s,r,f,a,u,_,T=o[2].tournament_name+"",B,y,E,S,N,A,h,p=o[2].name+"",q,R,L,Y,P,c;return f=new De({props:{date:o[2].tournament_date}}),N=new ge({props:{rank:o[2].result}}),Y=new ce({props:{players:o[2].player_list}}),{c(){t=g("tr"),n=g("td"),l=K(e),s=F(),r=g("td"),G(f.$$.fragment),a=F(),u=g("td"),_=g("a"),B=K(T),E=F(),S=g("td"),G(N.$$.fragment),A=F(),h=g("td"),q=K(p),R=F(),L=g("td"),G(Y.$$.fragment),P=F(),this.h()},l(k){t=b(k,"TR",{});var D=v(t);n=b(D,"TD",{class:!0});var j=v(n);l=V(j,e),j.forEach(i),s=U(D),r=b(D,"TD",{});var H=v(r);J(f.$$.fragment,H),H.forEach(i),a=U(D),u=b(D,"TD",{class:!0});var z=v(u);_=b(z,"A",{href:!0});var d=v(_);B=V(d,T),d.forEach(i),z.forEach(i),E=U(D),S=b(D,"TD",{});var M=v(S);J(N.$$.fragment,M),M.forEach(i),A=U(D),h=b(D,"TD",{class:!0});var $=v(h);q=V($,p),$.forEach(i),R=U(D),L=b(D,"TD",{class:!0});var I=v(L);J(Y.$$.fragment,I),I.forEach(i),P=U(D),D.forEach(i),this.h()},h(){X(n,"class","tar"),X(_,"href",y="#"+o[2].tournament_key),X(u,"class","tal"),X(h,"class","tal"),X(L,"class","tal")},m(k,D){C(k,t,D),m(t,n),m(n,l),m(t,s),m(t,r),Q(f,r,null),m(t,a),m(t,u),m(u,_),m(_,B),m(t,E),m(t,S),Q(N,S,null),m(t,A),m(t,h),m(h,q),m(t,R),m(t,L),Q(Y,L,null),m(t,P),c=!0},p(k,D){const j={};D&2&&(j.date=k[2].tournament_date),f.$set(j),(!c||D&2)&&T!==(T=k[2].tournament_name+"")&&fe(B,T),(!c||D&2&&y!==(y="#"+k[2].tournament_key))&&X(_,"href",y);const H={};D&2&&(H.rank=k[2].result),N.$set(H),(!c||D&2)&&p!==(p=k[2].name+"")&&fe(q,p);const z={};D&2&&(z.players=k[2].player_list),Y.$set(z)},i(k){c||(w(f.$$.fragment,k),w(N.$$.fragment,k),w(Y.$$.fragment,k),c=!0)},o(k){O(f.$$.fragment,k),O(N.$$.fragment,k),O(Y.$$.fragment,k),c=!1},d(k){k&&i(t),W(f),W(N),W(Y)}}}function yt(o){let t,n=o[4]+1+"",e;return{c(){t=K("#"),e=K(n)},l(l){t=V(l,"#"),e=V(l,n)},m(l,s){C(l,t,s),C(l,e,s)},p:it,d(l){l&&i(t),l&&i(e)}}}function Ae(o){let t,n,e,l,s,r,f,a,u,_,T,B,y=o[2].tournament_name+"",E,S,N,A;return e=new ve({props:{$$slots:{default:[yt]},$$scope:{ctx:o}}}),s=new De({props:{date:o[2].tournament_date,spacing:!1}}),a=new ge({props:{rank:o[2].result}}),{c(){t=g("tr"),n=g("td"),G(e.$$.fragment),l=F(),G(s.$$.fragment),r=F(),f=g("td"),G(a.$$.fragment),u=F(),_=g("tr"),T=g("td"),B=g("a"),E=K(y),N=F(),this.h()},l(h){t=b(h,"TR",{});var p=v(t);n=b(p,"TD",{class:!0,colspan:!0});var q=v(n);J(e.$$.fragment,q),l=U(q),J(s.$$.fragment,q),q.forEach(i),r=U(p),f=b(p,"TD",{class:!0});var R=v(f);J(a.$$.fragment,R),R.forEach(i),p.forEach(i),u=U(h),_=b(h,"TR",{});var L=v(_);T=b(L,"TD",{colspan:!0,class:!0});var Y=v(T);B=b(Y,"A",{href:!0});var P=v(B);E=V(P,y),P.forEach(i),Y.forEach(i),N=U(L),L.forEach(i),this.h()},h(){X(n,"class","tal"),X(n,"colspan","2"),X(f,"class","nw"),X(B,"href",S="#"+o[2].tournament_key),X(T,"colspan","3"),X(T,"class","tal")},m(h,p){C(h,t,p),m(t,n),Q(e,n,null),m(n,l),Q(s,n,null),m(t,r),m(t,f),Q(a,f,null),C(h,u,p),C(h,_,p),m(_,T),m(T,B),m(B,E),m(_,N),A=!0},p(h,p){const q={};p&64&&(q.$$scope={dirty:p,ctx:h}),e.$set(q);const R={};p&2&&(R.date=h[2].tournament_date),s.$set(R);const L={};p&2&&(L.rank=h[2].result),a.$set(L),(!A||p&2)&&y!==(y=h[2].tournament_name+"")&&fe(E,y),(!A||p&2&&S!==(S="#"+h[2].tournament_key))&&X(B,"href",S)},i(h){A||(w(e.$$.fragment,h),w(s.$$.fragment,h),w(a.$$.fragment,h),A=!0)},o(h){O(e.$$.fragment,h),O(s.$$.fragment,h),O(a.$$.fragment,h),A=!1},d(h){h&&i(t),W(e),W(s),W(a),h&&i(u),h&&i(_)}}}function Ht(o){let t,n,e,l;const s=[Dt,wt],r=[];function f(a,u){return a[0]?0:1}return t=f(o),n=r[t]=s[t](o),{c(){n.c(),e=se()},l(a){n.l(a),e=se()},m(a,u){r[t].m(a,u),C(a,e,u),l=!0},p(a,[u]){let _=t;t=f(a),t===_?r[t].p(a,u):(te(),O(r[_],1,1,()=>{r[_]=null}),le(),n=r[t],n?n.p(a,u):(n=r[t]=s[t](a),n.c()),w(n,1),n.m(e.parentNode,e))},i(a){l||(w(n),l=!0)},o(a){O(n),l=!1},d(a){r[t].d(a),a&&i(e)}}}function Bt(o,t,n){let e,l;return ie(o,we,s=>n(0,e=s)),ie(o,_e,s=>n(1,l=s)),[e,l]}class Nt extends he{constructor(t){super(),$e(this,t,Bt,Ht,de,{})}}function Le(o,t,n){const e=o.slice();e[2]=t[n];const l=e[0].previous_teams[e[2]];e[3]=l;const s=e[1].dic[e[2]];return e[4]=s,e}function Pe(o,t,n){const e=o.slice();return e[7]=t[n],e}function je(o,t,n){const e=o.slice();return e[7]=t[n],e[11]=n,e}function Se(o){let t,n,e;return n=new _t({props:{name:o[0].reversed_tournaments.length-o[11],key:o[7].tournament_key,official:!1}}),{c(){t=g("th"),G(n.$$.fragment),this.h()},l(l){t=b(l,"TH",{style:!0});var s=v(t);J(n.$$.fragment,s),s.forEach(i),this.h()},h(){re(t,"width","2em")},m(l,s){C(l,t,s),Q(n,t,null),e=!0},p(l,s){const r={};s&1&&(r.name=l[0].reversed_tournaments.length-l[11]),s&1&&(r.key=l[7].tournament_key),n.$set(r)},i(l){e||(w(n.$$.fragment,l),e=!0)},o(l){O(n.$$.fragment,l),e=!1},d(l){l&&i(t),W(n)}}}function Ye(o){let t=o[4].rating.toLocaleString()+"",n;return{c(){n=K(t)},l(e){n=V(e,t)},m(e,l){C(e,n,l)},p(e,l){l&3&&t!==(t=e[4].rating.toLocaleString()+"")&&fe(n,t)},d(e){e&&i(n)}}}function qe(o){let t,n;return t=new pe({props:{name:o[3],current_name:o[3]}}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.name=e[3]),l&1&&(s.current_name=e[3]),t.$set(s)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Fe(o){let t;return{c(){t=K("\u279C")},l(n){t=V(n,"\u279C")},m(n,e){C(n,t,e)},d(n){n&&i(t)}}}function Ue(o){let t,n=o[7].player_list.indexOf(o[2])!==-1,e=n&&Fe();return{c(){t=g("td"),e&&e.c()},l(l){t=b(l,"TD",{});var s=v(t);e&&e.l(s),s.forEach(i)},m(l,s){C(l,t,s),e&&e.m(t,null)},p(l,s){s&1&&(n=l[7].player_list.indexOf(l[2])!==-1),n?e||(e=Fe(),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(l){l&&i(t),e&&e.d()}}}function Ce(o){let t,n;return t=new pe({props:{name:o[4].latest.team_current,current_name:o[4].latest.team_current}}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},p(e,l){const s={};l&3&&(s.name=e[4].latest.team_current),l&3&&(s.current_name=e[4].latest.team_current),t.$set(s)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ie(o){let t,n,e,l,s,r,f,a,u,_,T,B;e=new Et({props:{name:o[2]}});let y=o[4]&&o[4].rating&&Ye(o),E=o[3]&&qe(o),S=o[0].reversed_tournaments,N=[];for(let h=0;h<S.length;h+=1)N[h]=Ue(Pe(o,S,h));let A=o[4]&&o[4].latest.team_current!==o[0].team.name&&Ce(o);return{c(){t=g("tr"),n=g("td"),G(e.$$.fragment),l=F(),s=g("td"),y&&y.c(),r=F(),f=g("td"),E&&E.c(),a=F();for(let h=0;h<N.length;h+=1)N[h].c();u=F(),_=g("td"),A&&A.c(),T=F(),this.h()},l(h){t=b(h,"TR",{});var p=v(t);n=b(p,"TD",{class:!0});var q=v(n);J(e.$$.fragment,q),q.forEach(i),l=U(p),s=b(p,"TD",{});var R=v(s);y&&y.l(R),R.forEach(i),r=U(p),f=b(p,"TD",{class:!0});var L=v(f);E&&E.l(L),L.forEach(i),a=U(p);for(let P=0;P<N.length;P+=1)N[P].l(p);u=U(p),_=b(p,"TD",{class:!0});var Y=v(_);A&&A.l(Y),Y.forEach(i),T=U(p),p.forEach(i),this.h()},h(){X(n,"class","tal"),X(f,"class","tal nw"),X(_,"class","tal nw")},m(h,p){C(h,t,p),m(t,n),Q(e,n,null),m(t,l),m(t,s),y&&y.m(s,null),m(t,r),m(t,f),E&&E.m(f,null),m(t,a);for(let q=0;q<N.length;q+=1)N[q].m(t,null);m(t,u),m(t,_),A&&A.m(_,null),m(t,T),B=!0},p(h,p){const q={};if(p&1&&(q.name=h[2]),e.$set(q),h[4]&&h[4].rating?y?y.p(h,p):(y=Ye(h),y.c(),y.m(s,null)):y&&(y.d(1),y=null),h[3]?E?(E.p(h,p),p&1&&w(E,1)):(E=qe(h),E.c(),w(E,1),E.m(f,null)):E&&(te(),O(E,1,1,()=>{E=null}),le()),p&1){S=h[0].reversed_tournaments;let R;for(R=0;R<S.length;R+=1){const L=Pe(h,S,R);N[R]?N[R].p(L,p):(N[R]=Ue(L),N[R].c(),N[R].m(t,u))}for(;R<N.length;R+=1)N[R].d(1);N.length=S.length}h[4]&&h[4].latest.team_current!==h[0].team.name?A?(A.p(h,p),p&3&&w(A,1)):(A=Ce(h),A.c(),w(A,1),A.m(_,null)):A&&(te(),O(A,1,1,()=>{A=null}),le())},i(h){B||(w(e.$$.fragment,h),w(E),w(A),B=!0)},o(h){O(e.$$.fragment,h),O(E),O(A),B=!1},d(h){h&&i(t),W(e),y&&y.d(),E&&E.d(),ue(N,h),A&&A.d()}}}function Rt(o){let t,n,e,l,s,r,f,a,u,_,T,B,y,E,S,N,A,h,p,q,R,L,Y,P,c=o[0].reversed_tournaments,k=[];for(let d=0;d<c.length;d+=1)k[d]=Se(je(o,c,d));const D=d=>O(k[d],1,1,()=>{k[d]=null});let j=o[0].players,H=[];for(let d=0;d<j.length;d+=1)H[d]=Ie(Le(o,j,d));const z=d=>O(H[d],1,1,()=>{H[d]=null});return{c(){t=g("table"),n=g("thead"),e=g("tr"),l=g("th"),s=F(),r=g("th"),f=K("\u53C2\u52A0\u5927\u4F1A#"),u=F(),_=g("tr"),T=g("th"),B=F(),y=g("th"),E=K("rating"),S=F(),N=g("th"),A=K("\u524D\u30C1\u30FC\u30E0"),h=F();for(let d=0;d<k.length;d+=1)k[d].c();p=F(),q=g("th"),R=K("\u6700\u65B0\u30C1\u30FC\u30E0"),L=F(),Y=g("tbody");for(let d=0;d<H.length;d+=1)H[d].c();this.h()},l(d){t=b(d,"TABLE",{style:!0});var M=v(t);n=b(M,"THEAD",{});var $=v(n);e=b($,"TR",{});var I=v(e);l=b(I,"TH",{colspan:!0}),v(l).forEach(i),s=U(I),r=b(I,"TH",{colspan:!0,class:!0});var Z=v(r);f=V(Z,"\u53C2\u52A0\u5927\u4F1A#"),Z.forEach(i),I.forEach(i),u=U($),_=b($,"TR",{});var x=v(_);T=b(x,"TH",{style:!0}),v(T).forEach(i),B=U(x),y=b(x,"TH",{style:!0});var ee=v(y);E=V(ee,"rating"),ee.forEach(i),S=U(x),N=b(x,"TH",{class:!0,style:!0});var ne=v(N);A=V(ne,"\u524D\u30C1\u30FC\u30E0"),ne.forEach(i),h=U(x);for(let ae=0;ae<k.length;ae+=1)k[ae].l(x);p=U(x),q=b(x,"TH",{class:!0});var oe=v(q);R=V(oe,"\u6700\u65B0\u30C1\u30FC\u30E0"),oe.forEach(i),x.forEach(i),$.forEach(i),L=U(M),Y=b(M,"TBODY",{});var me=v(Y);for(let ae=0;ae<H.length;ae+=1)H[ae].l(me);me.forEach(i),M.forEach(i),this.h()},h(){X(l,"colspan","3"),X(r,"colspan",a=o[0].reversed_tournaments.length+1),X(r,"class","tal"),re(T,"width","10em"),re(y,"width","5em"),X(N,"class","tal"),re(N,"width","100px"),X(q,"class","tal nw"),re(t,"width","100%")},m(d,M){C(d,t,M),m(t,n),m(n,e),m(e,l),m(e,s),m(e,r),m(r,f),m(n,u),m(n,_),m(_,T),m(_,B),m(_,y),m(y,E),m(_,S),m(_,N),m(N,A),m(_,h);for(let $=0;$<k.length;$+=1)k[$].m(_,null);m(_,p),m(_,q),m(q,R),m(t,L),m(t,Y);for(let $=0;$<H.length;$+=1)H[$].m(Y,null);P=!0},p(d,[M]){if((!P||M&1&&a!==(a=d[0].reversed_tournaments.length+1))&&X(r,"colspan",a),M&1){c=d[0].reversed_tournaments;let $;for($=0;$<c.length;$+=1){const I=je(d,c,$);k[$]?(k[$].p(I,M),w(k[$],1)):(k[$]=Se(I),k[$].c(),w(k[$],1),k[$].m(_,p))}for(te(),$=c.length;$<k.length;$+=1)D($);le()}if(M&3){j=d[0].players;let $;for($=0;$<j.length;$+=1){const I=Le(d,j,$);H[$]?(H[$].p(I,M),w(H[$],1)):(H[$]=Ie(I),H[$].c(),w(H[$],1),H[$].m(Y,null))}for(te(),$=j.length;$<H.length;$+=1)z($);le()}},i(d){if(!P){for(let M=0;M<c.length;M+=1)w(k[M]);for(let M=0;M<j.length;M+=1)w(H[M]);P=!0}},o(d){k=k.filter(Boolean);for(let M=0;M<k.length;M+=1)O(k[M]);H=H.filter(Boolean);for(let M=0;M<H.length;M+=1)O(H[M]);P=!1},d(d){d&&i(t),ue(k,d),ue(H,d)}}}function Ot(o,t,n){let e,l;return ie(o,_e,s=>n(0,e=s)),ie(o,ht,s=>n(1,l=s)),[e,l]}class Mt extends he{constructor(t){super(),$e(this,t,Ot,Rt,de,{})}}function Ke(o,t,n){const e=o.slice();e[3]=t[n];const l=e[1].dic[e[3]];return e[4]=l,e}function Ve(o,t,n){const e=o.slice();e[3]=t[n];const l=e[1].dic[e[3]];return e[4]=l,e}function ze(o){let t,n,e,l,s,r,f;const a=[Lt,At],u=[];function _(T,B){return T[2]?0:1}return s=_(o),r=u[s]=a[s](o),{c(){t=g("h3"),n=K("3\u540D\u4EE5\u4E0A\u306E\u30E1\u30F3\u30D0\u30FC\u304C\u5171\u901A\u3059\u308B\u30C1\u30FC\u30E0"),e=F(),l=g("table"),r.c(),this.h()},l(T){t=b(T,"H3",{});var B=v(t);n=V(B,"3\u540D\u4EE5\u4E0A\u306E\u30E1\u30F3\u30D0\u30FC\u304C\u5171\u901A\u3059\u308B\u30C1\u30FC\u30E0"),B.forEach(i),e=U(T),l=b(T,"TABLE",{style:!0});var y=v(l);r.l(y),y.forEach(i),this.h()},h(){re(l,"width","100%")},m(T,B){C(T,t,B),m(t,n),C(T,e,B),C(T,l,B),u[s].m(l,null),f=!0},p(T,B){let y=s;s=_(T),s===y?u[s].p(T,B):(te(),O(u[y],1,1,()=>{u[y]=null}),le(),r=u[s],r?r.p(T,B):(r=u[s]=a[s](T),r.c()),w(r,1),r.m(l,null))},i(T){f||(w(r),f=!0)},o(T){O(r),f=!1},d(T){T&&i(t),T&&i(e),T&&i(l),u[s].d()}}}function At(o){let t,n,e=ke(o[0].similar_team,o[1].dic),l=[];for(let r=0;r<e.length;r+=1)l[r]=Ge(Ke(o,e,r));const s=r=>O(l[r],1,1,()=>{l[r]=null});return{c(){t=g("tbody");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){t=b(r,"TBODY",{});var f=v(t);for(let a=0;a<l.length;a+=1)l[a].l(f);f.forEach(i)},m(r,f){C(r,t,f);for(let a=0;a<l.length;a+=1)l[a].m(t,null);n=!0},p(r,f){if(f&3){e=ke(r[0].similar_team,r[1].dic);let a;for(a=0;a<e.length;a+=1){const u=Ke(r,e,a);l[a]?(l[a].p(u,f),w(l[a],1)):(l[a]=Ge(u),l[a].c(),w(l[a],1),l[a].m(t,null))}for(te(),a=e.length;a<l.length;a+=1)s(a);le()}},i(r){if(!n){for(let f=0;f<e.length;f+=1)w(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)O(l[f]);n=!1},d(r){r&&i(t),ue(l,r)}}}function Lt(o){let t,n,e=ke(o[0].similar_team,o[1].dic),l=[];for(let r=0;r<e.length;r+=1)l[r]=Je(Ve(o,e,r));const s=r=>O(l[r],1,1,()=>{l[r]=null});return{c(){t=g("tbody");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){t=b(r,"TBODY",{class:!0});var f=v(t);for(let a=0;a<l.length;a+=1)l[a].l(f);f.forEach(i),this.h()},h(){X(t,"class","triple")},m(r,f){C(r,t,f);for(let a=0;a<l.length;a+=1)l[a].m(t,null);n=!0},p(r,f){if(f&3){e=ke(r[0].similar_team,r[1].dic);let a;for(a=0;a<e.length;a+=1){const u=Ve(r,e,a);l[a]?(l[a].p(u,f),w(l[a],1)):(l[a]=Je(u),l[a].c(),w(l[a],1),l[a].m(t,null))}for(te(),a=e.length;a<l.length;a+=1)s(a);le()}},i(r){if(!n){for(let f=0;f<e.length;f+=1)w(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)O(l[f]);n=!1},d(r){r&&i(t),ue(l,r)}}}function Ge(o){let t,n,e,l,s,r,f,a,u,_,T;return e=new pe({props:{name:o[3],current_name:o[3]}}),r=new ye({props:{date1:o[4].first_tournament_date,date2:o[4].latest_tournament_date}}),u=new ce({props:{players:Ee(o[0],o[3],o[1].dic)}}),{c(){t=g("tr"),n=g("td"),G(e.$$.fragment),l=F(),s=g("td"),G(r.$$.fragment),f=F(),a=g("td"),G(u.$$.fragment),_=F(),this.h()},l(B){t=b(B,"TR",{});var y=v(t);n=b(y,"TD",{class:!0,style:!0});var E=v(n);J(e.$$.fragment,E),E.forEach(i),l=U(y),s=b(y,"TD",{class:!0});var S=v(s);J(r.$$.fragment,S),S.forEach(i),f=U(y),a=b(y,"TD",{class:!0});var N=v(a);J(u.$$.fragment,N),N.forEach(i),_=U(y),y.forEach(i),this.h()},h(){X(n,"class","tal"),re(n,"width","20em"),X(s,"class","tal"),X(a,"class","tal")},m(B,y){C(B,t,y),m(t,n),Q(e,n,null),m(t,l),m(t,s),Q(r,s,null),m(t,f),m(t,a),Q(u,a,null),m(t,_),T=!0},p(B,y){const E={};y&3&&(E.name=B[3]),y&3&&(E.current_name=B[3]),e.$set(E);const S={};y&3&&(S.date1=B[4].first_tournament_date),y&3&&(S.date2=B[4].latest_tournament_date),r.$set(S);const N={};y&3&&(N.players=Ee(B[0],B[3],B[1].dic)),u.$set(N)},i(B){T||(w(e.$$.fragment,B),w(r.$$.fragment,B),w(u.$$.fragment,B),T=!0)},o(B){O(e.$$.fragment,B),O(r.$$.fragment,B),O(u.$$.fragment,B),T=!1},d(B){B&&i(t),W(e),W(r),W(u)}}}function Je(o){let t,n,e,l,s,r,f,a,u,_,T,B,y;return e=new pe({props:{name:o[3],current_name:o[3]}}),f=new ye({props:{date1:o[4].first_tournament_date,date2:o[4].latest_tournament_date}}),T=new ce({props:{players:Ee(o[0],o[3],o[1].dic)}}),{c(){t=g("tr"),n=g("td"),G(e.$$.fragment),l=F(),s=g("tr"),r=g("td"),G(f.$$.fragment),a=F(),u=g("tr"),_=g("td"),G(T.$$.fragment),B=F(),this.h()},l(E){t=b(E,"TR",{});var S=v(t);n=b(S,"TD",{class:!0,style:!0});var N=v(n);J(e.$$.fragment,N),N.forEach(i),l=U(S),S.forEach(i),s=b(E,"TR",{});var A=v(s);r=b(A,"TD",{class:!0});var h=v(r);J(f.$$.fragment,h),h.forEach(i),A.forEach(i),a=U(E),u=b(E,"TR",{});var p=v(u);_=b(p,"TD",{class:!0});var q=v(_);J(T.$$.fragment,q),q.forEach(i),B=U(p),p.forEach(i),this.h()},h(){X(n,"class","tal"),re(n,"width","20em"),X(r,"class","tal"),X(_,"class","tal")},m(E,S){C(E,t,S),m(t,n),Q(e,n,null),m(t,l),C(E,s,S),m(s,r),Q(f,r,null),C(E,a,S),C(E,u,S),m(u,_),Q(T,_,null),m(u,B),y=!0},p(E,S){const N={};S&3&&(N.name=E[3]),S&3&&(N.current_name=E[3]),e.$set(N);const A={};S&3&&(A.date1=E[4].first_tournament_date),S&3&&(A.date2=E[4].latest_tournament_date),f.$set(A);const h={};S&3&&(h.players=Ee(E[0],E[3],E[1].dic)),T.$set(h)},i(E){y||(w(e.$$.fragment,E),w(f.$$.fragment,E),w(T.$$.fragment,E),y=!0)},o(E){O(e.$$.fragment,E),O(f.$$.fragment,E),O(T.$$.fragment,E),y=!1},d(E){E&&i(t),W(e),E&&i(s),W(f),E&&i(a),E&&i(u),W(T)}}}function Pt(o){let t,n,e=o[0]&&o[1].list.length>0&&o[0].similar_team.length>0&&ze(o);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,s){e&&e.m(l,s),C(l,t,s),n=!0},p(l,[s]){l[0]&&l[1].list.length>0&&l[0].similar_team.length>0?e?(e.p(l,s),s&3&&w(e,1)):(e=ze(l),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(te(),O(e,1,1,()=>{e=null}),le())},i(l){n||(w(e),n=!0)},o(l){O(e),n=!1},d(l){e&&e.d(l),l&&i(t)}}}function ke(o,t){return o.sort((n,e)=>{var l,s;return((l=t[e])==null?void 0:l.first_tournament_date)-((s=t[n])==null?void 0:s.first_tournament_date)})}function Ee(o,t,n){return o.players.filter(e=>n[t].members.includes(e)>0)}function jt(o,t,n){let e,l,s;return ie(o,_e,r=>n(0,e=r)),ie(o,$t,r=>n(1,l=r)),ie(o,we,r=>n(2,s=r)),[e,l,s]}class St extends he{constructor(t){super(),$e(this,t,jt,Pt,de,{})}}function Qe(o){let t,n,e,l=o[0].team.names.join(", ")+"",s;return{c(){t=g("dt"),n=K("\u5927\u4F1A\u767B\u9332\u540D"),e=g("dd"),s=K(l)},l(r){t=b(r,"DT",{});var f=v(t);n=V(f,"\u5927\u4F1A\u767B\u9332\u540D"),f.forEach(i),e=b(r,"DD",{});var a=v(e);s=V(a,l),a.forEach(i)},m(r,f){C(r,t,f),m(t,n),C(r,e,f),m(e,s)},p(r,f){f&1&&l!==(l=r[0].team.names.join(", ")+"")&&fe(s,l)},d(r){r&&i(t),r&&i(e)}}}function Yt(o){let t,n,e,l,s,r,f,a,u,_,T,B,y,E,S,N,A;a=new ye({props:{date1:o[0].team.first_tournament_date,date2:o[0].team.latest_tournament_date,length:"true"}}),B=new bt({props:{stats:o[0].team}});let h=o[0].team.names.length>0&&Qe(o);return N=new ce({props:{players:Xe(o[0].players,o[0].player_stats),notes:We(o[0].player_stats)}}),{c(){t=g("h2"),n=K("\u57FA\u672C\u60C5\u5831"),e=F(),l=g("dl"),s=g("dt"),r=K("\u6D3B\u52D5\u671F\u9593"),f=g("dd"),G(a.$$.fragment),u=g("dt"),_=K("\u6226\u7E3E"),T=g("dd"),G(B.$$.fragment),h&&h.c(),y=g("dt"),E=K("\u6B74\u4EE3\u30E1\u30F3\u30D0\u30FC(\u51FA\u5834\u6570)"),S=g("dd"),G(N.$$.fragment)},l(p){t=b(p,"H2",{});var q=v(t);n=V(q,"\u57FA\u672C\u60C5\u5831"),q.forEach(i),e=U(p),l=b(p,"DL",{});var R=v(l);s=b(R,"DT",{});var L=v(s);r=V(L,"\u6D3B\u52D5\u671F\u9593"),L.forEach(i),f=b(R,"DD",{});var Y=v(f);J(a.$$.fragment,Y),Y.forEach(i),u=b(R,"DT",{});var P=v(u);_=V(P,"\u6226\u7E3E"),P.forEach(i),T=b(R,"DD",{});var c=v(T);J(B.$$.fragment,c),c.forEach(i),h&&h.l(R),y=b(R,"DT",{});var k=v(y);E=V(k,"\u6B74\u4EE3\u30E1\u30F3\u30D0\u30FC(\u51FA\u5834\u6570)"),k.forEach(i),S=b(R,"DD",{});var D=v(S);J(N.$$.fragment,D),D.forEach(i),R.forEach(i)},m(p,q){C(p,t,q),m(t,n),C(p,e,q),C(p,l,q),m(l,s),m(s,r),m(l,f),Q(a,f,null),m(l,u),m(u,_),m(l,T),Q(B,T,null),h&&h.m(l,null),m(l,y),m(y,E),m(l,S),Q(N,S,null),A=!0},p(p,[q]){const R={};q&1&&(R.date1=p[0].team.first_tournament_date),q&1&&(R.date2=p[0].team.latest_tournament_date),a.$set(R);const L={};q&1&&(L.stats=p[0].team),B.$set(L),p[0].team.names.length>0?h?h.p(p,q):(h=Qe(p),h.c(),h.m(l,y)):h&&(h.d(1),h=null);const Y={};q&1&&(Y.players=Xe(p[0].players,p[0].player_stats)),q&1&&(Y.notes=We(p[0].player_stats)),N.$set(Y)},i(p){A||(w(a.$$.fragment,p),w(B.$$.fragment,p),w(N.$$.fragment,p),A=!0)},o(p){O(a.$$.fragment,p),O(B.$$.fragment,p),O(N.$$.fragment,p),A=!1},d(p){p&&i(t),p&&i(e),p&&i(l),W(a),W(B),h&&h.d(),W(N)}}}function We(o){const t={};for(const n in o)t[n]=o[n].count;return t}function Xe(o,t){return o.slice().sort((n,e)=>t[e].count-t[n].count)}function qt(o,t,n){let e;return ie(o,_e,l=>n(0,e=l)),[e]}class Ft extends he{constructor(t){super(),$e(this,t,qt,Yt,de,{})}}function Ze(o,t,n){const e=o.slice();return e[2]=t[n],e}function xe(o,t,n){const e=o.slice();return e[5]=t[n],e}function et(o,t,n){const e=o.slice();return e[5]=t[n],e}function Ut(o){let t,n,e,l,s,r,f,a,u,_,T,B,y,E,S,N,A,h,p,q,R,L,Y,P,c,k,D,j=o[0].matches,H=[];for(let d=0;d<j.length;d+=1)H[d]=lt(xe(o,j,d));const z=d=>O(H[d],1,1,()=>{H[d]=null});return{c(){t=g("table"),n=g("thead"),e=g("tr"),l=g("th"),s=K("\u30D6\u30E9\u30B1\u30C3\u30C8"),r=F(),f=g("th"),a=K("\u30E9\u30A6\u30F3\u30C9"),u=F(),_=g("th"),T=K("\u52DD\u6557"),B=F(),y=g("th"),E=K("\u30B9\u30B3\u30A2"),S=F(),N=g("th"),A=K("\u5BFE\u6226\u76F8\u624B"),h=F(),p=g("th"),q=K("\u9806\u4F4D"),R=F(),L=g("th"),Y=K("\u30E1\u30F3\u30D0\u30FC"),P=F(),c=g("tbody");for(let d=0;d<H.length;d+=1)H[d].c();k=F(),this.h()},l(d){t=b(d,"TABLE",{});var M=v(t);n=b(M,"THEAD",{});var $=v(n);e=b($,"TR",{});var I=v(e);l=b(I,"TH",{style:!0});var Z=v(l);s=V(Z,"\u30D6\u30E9\u30B1\u30C3\u30C8"),Z.forEach(i),r=U(I),f=b(I,"TH",{style:!0});var x=v(f);a=V(x,"\u30E9\u30A6\u30F3\u30C9"),x.forEach(i),u=U(I),_=b(I,"TH",{style:!0});var ee=v(_);T=V(ee,"\u52DD\u6557"),ee.forEach(i),B=U(I),y=b(I,"TH",{style:!0});var ne=v(y);E=V(ne,"\u30B9\u30B3\u30A2"),ne.forEach(i),S=U(I),N=b(I,"TH",{style:!0});var oe=v(N);A=V(oe,"\u5BFE\u6226\u76F8\u624B"),oe.forEach(i),h=U(I),p=b(I,"TH",{style:!0});var me=v(p);q=V(me,"\u9806\u4F4D"),me.forEach(i),R=U(I),L=b(I,"TH",{style:!0});var ae=v(L);Y=V(ae,"\u30E1\u30F3\u30D0\u30FC"),ae.forEach(i),I.forEach(i),$.forEach(i),P=U(M),c=b(M,"TBODY",{});var He=v(c);for(let Te=0;Te<H.length;Te+=1)H[Te].l(He);He.forEach(i),k=U(M),M.forEach(i),this.h()},h(){re(l,"width","6%"),re(f,"width","6%"),re(_,"width","6%"),re(y,"width","6%"),re(N,"width","23%"),re(N,"text-align","left"),re(p,"width","6%"),re(L,"width","47%"),re(L,"text-align","left")},m(d,M){C(d,t,M),m(t,n),m(n,e),m(e,l),m(l,s),m(e,r),m(e,f),m(f,a),m(e,u),m(e,_),m(_,T),m(e,B),m(e,y),m(y,E),m(e,S),m(e,N),m(N,A),m(e,h),m(e,p),m(p,q),m(e,R),m(e,L),m(L,Y),m(t,P),m(t,c);for(let $=0;$<H.length;$+=1)H[$].m(c,null);m(t,k),D=!0},p(d,M){if(M&1){j=d[0].matches;let $;for($=0;$<j.length;$+=1){const I=xe(d,j,$);H[$]?(H[$].p(I,M),w(H[$],1)):(H[$]=lt(I),H[$].c(),w(H[$],1),H[$].m(c,null))}for(te(),$=j.length;$<H.length;$+=1)z($);le()}},i(d){if(!D){for(let M=0;M<j.length;M+=1)w(H[M]);D=!0}},o(d){H=H.filter(Boolean);for(let M=0;M<H.length;M+=1)O(H[M]);D=!1},d(d){d&&i(t),ue(H,d)}}}function Ct(o){let t,n,e,l,s=o[0].matches,r=[];for(let a=0;a<s.length;a+=1)r[a]=rt(et(o,s,a));const f=a=>O(r[a],1,1,()=>{r[a]=null});return{c(){t=g("table"),n=g("tbody");for(let a=0;a<r.length;a+=1)r[a].c();e=F(),this.h()},l(a){t=b(a,"TABLE",{});var u=v(t);n=b(u,"TBODY",{class:!0});var _=v(n);for(let T=0;T<r.length;T+=1)r[T].l(_);_.forEach(i),e=U(u),u.forEach(i),this.h()},h(){X(n,"class","triple")},m(a,u){C(a,t,u),m(t,n);for(let _=0;_<r.length;_+=1)r[_].m(n,null);m(t,e),l=!0},p(a,u){if(u&1){s=a[0].matches;let _;for(_=0;_<s.length;_+=1){const T=et(a,s,_);r[_]?(r[_].p(T,u),w(r[_],1)):(r[_]=rt(T),r[_].c(),w(r[_],1),r[_].m(n,null))}for(te(),_=s.length;_<r.length;_+=1)f(_);le()}},i(a){if(!l){for(let u=0;u<s.length;u+=1)w(r[u]);l=!0}},o(a){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)O(r[u]);l=!1},d(a){a&&i(t),ue(r,a)}}}function tt(o){let t,n,e=o[5].bracket+"",l,s,r,f=o[5].round+"",a,u,_,T,B,y,E=o[5].score_text+"",S,N,A,h,p,q,R,L,Y,P,c,k;return T=new ct({props:{win:o[5].wl}}),h=new pe({props:{name:o[5].opponent_team_name,current_name:o[5].opponent_team_current_name}}),R=new ge({props:{rank:o[5].opponent_team_rank}}),P=new ce({props:{players:o[5].opponents_list}}),{c(){t=g("tr"),n=g("td"),l=K(e),s=F(),r=g("td"),a=K(f),u=F(),_=g("td"),G(T.$$.fragment),B=F(),y=g("td"),S=K(E),N=F(),A=g("td"),G(h.$$.fragment),p=F(),q=g("td"),G(R.$$.fragment),L=F(),Y=g("td"),G(P.$$.fragment),c=F(),this.h()},l(D){t=b(D,"TR",{});var j=v(t);n=b(j,"TD",{});var H=v(n);l=V(H,e),H.forEach(i),s=U(j),r=b(j,"TD",{});var z=v(r);a=V(z,f),z.forEach(i),u=U(j),_=b(j,"TD",{});var d=v(_);J(T.$$.fragment,d),d.forEach(i),B=U(j),y=b(j,"TD",{});var M=v(y);S=V(M,E),M.forEach(i),N=U(j),A=b(j,"TD",{class:!0});var $=v(A);J(h.$$.fragment,$),$.forEach(i),p=U(j),q=b(j,"TD",{});var I=v(q);J(R.$$.fragment,I),I.forEach(i),L=U(j),Y=b(j,"TD",{class:!0});var Z=v(Y);J(P.$$.fragment,Z),Z.forEach(i),c=U(j),j.forEach(i),this.h()},h(){X(A,"class","tal"),X(Y,"class","tal")},m(D,j){C(D,t,j),m(t,n),m(n,l),m(t,s),m(t,r),m(r,a),m(t,u),m(t,_),Q(T,_,null),m(t,B),m(t,y),m(y,S),m(t,N),m(t,A),Q(h,A,null),m(t,p),m(t,q),Q(R,q,null),m(t,L),m(t,Y),Q(P,Y,null),m(t,c),k=!0},p(D,j){(!k||j&1)&&e!==(e=D[5].bracket+"")&&fe(l,e),(!k||j&1)&&f!==(f=D[5].round+"")&&fe(a,f);const H={};j&1&&(H.win=D[5].wl),T.$set(H),(!k||j&1)&&E!==(E=D[5].score_text+"")&&fe(S,E);const z={};j&1&&(z.name=D[5].opponent_team_name),j&1&&(z.current_name=D[5].opponent_team_current_name),h.$set(z);const d={};j&1&&(d.rank=D[5].opponent_team_rank),R.$set(d);const M={};j&1&&(M.players=D[5].opponents_list),P.$set(M)},i(D){k||(w(T.$$.fragment,D),w(h.$$.fragment,D),w(R.$$.fragment,D),w(P.$$.fragment,D),k=!0)},o(D){O(T.$$.fragment,D),O(h.$$.fragment,D),O(R.$$.fragment,D),O(P.$$.fragment,D),k=!1},d(D){D&&i(t),W(T),W(h),W(R),W(P)}}}function lt(o){let t,n,e=o[5].tnmt_key===o[2].tournament_key&&tt(o);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,s){e&&e.m(l,s),C(l,t,s),n=!0},p(l,s){l[5].tnmt_key===l[2].tournament_key?e?(e.p(l,s),s&1&&w(e,1)):(e=tt(l),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(te(),O(e,1,1,()=>{e=null}),le())},i(l){n||(w(e),n=!0)},o(l){O(e),n=!1},d(l){e&&e.d(l),l&&i(t)}}}function nt(o){let t,n,e,l,s=o[5].bracket+"",r,f,a,u,_=o[5].round+"",T,B,y,E=o[5].score_text+"",S,N,A,h,p,q,R,L,Y,P,c,k,D,j,H,z,d,M;return e=new ct({props:{win:o[5].wl}}),a=new ve({props:{t:"R "}}),p=new ve({props:{t:"vs. "}}),R=new pe({props:{name:o[5].opponent_team_name,current_name:o[5].opponent_team_current_name}}),P=new ve({props:{t:""}}),k=new ge({props:{rank:o[5].opponent_team_rank}}),z=new ce({props:{players:o[5].opponents_list}}),{c(){t=g("tr"),n=g("td"),G(e.$$.fragment),l=F(),r=K(s),f=F(),G(a.$$.fragment),u=F(),T=K(_),B=F(),y=g("td"),S=K(E),N=F(),A=g("tr"),h=g("td"),G(p.$$.fragment),q=F(),G(R.$$.fragment),L=F(),Y=g("td"),G(P.$$.fragment),c=F(),G(k.$$.fragment),D=F(),j=g("tr"),H=g("td"),G(z.$$.fragment),d=F(),this.h()},l($){t=b($,"TR",{});var I=v(t);n=b(I,"TD",{class:!0});var Z=v(n);J(e.$$.fragment,Z),l=U(Z),r=V(Z,s),f=U(Z),J(a.$$.fragment,Z),u=U(Z),T=V(Z,_),Z.forEach(i),B=U(I),y=b(I,"TD",{});var x=v(y);S=V(x,E),x.forEach(i),I.forEach(i),N=U($),A=b($,"TR",{});var ee=v(A);h=b(ee,"TD",{class:!0});var ne=v(h);J(p.$$.fragment,ne),q=U(ne),J(R.$$.fragment,ne),ne.forEach(i),L=U(ee),Y=b(ee,"TD",{});var oe=v(Y);J(P.$$.fragment,oe),c=U(oe),J(k.$$.fragment,oe),oe.forEach(i),ee.forEach(i),D=U($),j=b($,"TR",{});var me=v(j);H=b(me,"TD",{colspan:!0,class:!0,style:!0});var ae=v(H);J(z.$$.fragment,ae),ae.forEach(i),d=U(me),me.forEach(i),this.h()},h(){X(n,"class","tal"),X(h,"class","tal"),X(H,"colspan","2"),X(H,"class","tal"),re(H,"padding-left","1em")},m($,I){C($,t,I),m(t,n),Q(e,n,null),m(n,l),m(n,r),m(n,f),Q(a,n,null),m(n,u),m(n,T),m(t,B),m(t,y),m(y,S),C($,N,I),C($,A,I),m(A,h),Q(p,h,null),m(h,q),Q(R,h,null),m(A,L),m(A,Y),Q(P,Y,null),m(Y,c),Q(k,Y,null),C($,D,I),C($,j,I),m(j,H),Q(z,H,null),m(j,d),M=!0},p($,I){const Z={};I&1&&(Z.win=$[5].wl),e.$set(Z),(!M||I&1)&&s!==(s=$[5].bracket+"")&&fe(r,s),(!M||I&1)&&_!==(_=$[5].round+"")&&fe(T,_),(!M||I&1)&&E!==(E=$[5].score_text+"")&&fe(S,E);const x={};I&1&&(x.name=$[5].opponent_team_name),I&1&&(x.current_name=$[5].opponent_team_current_name),R.$set(x);const ee={};I&1&&(ee.rank=$[5].opponent_team_rank),k.$set(ee);const ne={};I&1&&(ne.players=$[5].opponents_list),z.$set(ne)},i($){M||(w(e.$$.fragment,$),w(a.$$.fragment,$),w(p.$$.fragment,$),w(R.$$.fragment,$),w(P.$$.fragment,$),w(k.$$.fragment,$),w(z.$$.fragment,$),M=!0)},o($){O(e.$$.fragment,$),O(a.$$.fragment,$),O(p.$$.fragment,$),O(R.$$.fragment,$),O(P.$$.fragment,$),O(k.$$.fragment,$),O(z.$$.fragment,$),M=!1},d($){$&&i(t),W(e),W(a),$&&i(N),$&&i(A),W(p),W(R),W(P),W(k),$&&i(D),$&&i(j),W(z)}}}function rt(o){let t,n,e=o[5].tnmt_key===o[2].tournament_key&&nt(o);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,s){e&&e.m(l,s),C(l,t,s),n=!0},p(l,s){l[5].tnmt_key===l[2].tournament_key?e?(e.p(l,s),s&1&&w(e,1)):(e=nt(l),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(te(),O(e,1,1,()=>{e=null}),le())},i(l){n||(w(e),n=!0)},o(l){O(e),n=!1},d(l){e&&e.d(l),l&&i(t)}}}function at(o){let t,n,e,l,s,r,f,a,u,_,T,B,y=o[2].name+"",E,S,N,A,h,p,q,R,L,Y,P,c,k,D;n=new _t({props:{name:o[2].tournament_name,key:o[2].tournament_key,official:!1}}),u=new De({props:{date:o[2].tournament_date,spacing:!1}}),h=new ge({props:{rank:o[2].result}}),L=new ce({props:{players:o[2].player_list}});const j=[Ct,Ut],H=[];function z(d,M){return d[1]?0:1}return P=z(o),c=H[P]=j[P](o),{c(){t=g("h3"),G(n.$$.fragment),l=F(),s=g("dl"),r=g("dt"),f=K("\u958B\u50AC\u65E5"),a=g("dd"),G(u.$$.fragment),_=g("dt"),T=K("\u30A8\u30F3\u30C8\u30EA\u30FC\u30C1\u30FC\u30E0\u540D"),B=g("dd"),E=K(y),S=g("dt"),N=K("\u7D50\u679C"),A=g("dd"),G(h.$$.fragment),p=g("dt"),q=K("\u30E1\u30F3\u30D0\u30FC"),R=g("dd"),G(L.$$.fragment),Y=F(),c.c(),k=se(),this.h()},l(d){t=b(d,"H3",{id:!0});var M=v(t);J(n.$$.fragment,M),M.forEach(i),l=U(d),s=b(d,"DL",{});var $=v(s);r=b($,"DT",{});var I=v(r);f=V(I,"\u958B\u50AC\u65E5"),I.forEach(i),a=b($,"DD",{});var Z=v(a);J(u.$$.fragment,Z),Z.forEach(i),_=b($,"DT",{});var x=v(_);T=V(x,"\u30A8\u30F3\u30C8\u30EA\u30FC\u30C1\u30FC\u30E0\u540D"),x.forEach(i),B=b($,"DD",{});var ee=v(B);E=V(ee,y),ee.forEach(i),S=b($,"DT",{});var ne=v(S);N=V(ne,"\u7D50\u679C"),ne.forEach(i),A=b($,"DD",{});var oe=v(A);J(h.$$.fragment,oe),oe.forEach(i),p=b($,"DT",{});var me=v(p);q=V(me,"\u30E1\u30F3\u30D0\u30FC"),me.forEach(i),R=b($,"DD",{});var ae=v(R);J(L.$$.fragment,ae),ae.forEach(i),$.forEach(i),Y=U(d),c.l(d),k=se(),this.h()},h(){X(t,"id",e=o[2].tournament_key)},m(d,M){C(d,t,M),Q(n,t,null),C(d,l,M),C(d,s,M),m(s,r),m(r,f),m(s,a),Q(u,a,null),m(s,_),m(_,T),m(s,B),m(B,E),m(s,S),m(S,N),m(s,A),Q(h,A,null),m(s,p),m(p,q),m(s,R),Q(L,R,null),C(d,Y,M),H[P].m(d,M),C(d,k,M),D=!0},p(d,M){const $={};M&1&&($.name=d[2].tournament_name),M&1&&($.key=d[2].tournament_key),n.$set($),(!D||M&1&&e!==(e=d[2].tournament_key))&&X(t,"id",e);const I={};M&1&&(I.date=d[2].tournament_date),u.$set(I),(!D||M&1)&&y!==(y=d[2].name+"")&&fe(E,y);const Z={};M&1&&(Z.rank=d[2].result),h.$set(Z);const x={};M&1&&(x.players=d[2].player_list),L.$set(x);let ee=P;P=z(d),P===ee?H[P].p(d,M):(te(),O(H[ee],1,1,()=>{H[ee]=null}),le(),c=H[P],c?c.p(d,M):(c=H[P]=j[P](d),c.c()),w(c,1),c.m(k.parentNode,k))},i(d){D||(w(n.$$.fragment,d),w(u.$$.fragment,d),w(h.$$.fragment,d),w(L.$$.fragment,d),w(c),D=!0)},o(d){O(n.$$.fragment,d),O(u.$$.fragment,d),O(h.$$.fragment,d),O(L.$$.fragment,d),O(c),D=!1},d(d){d&&i(t),W(n),d&&i(l),d&&i(s),W(u),W(h),W(L),d&&i(Y),H[P].d(d),d&&i(k)}}}function It(o){let t,n,e=o[0].tournaments,l=[];for(let r=0;r<e.length;r+=1)l[r]=at(Ze(o,e,r));const s=r=>O(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=se()},l(r){for(let f=0;f<l.length;f+=1)l[f].l(r);t=se()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);C(r,t,f),n=!0},p(r,[f]){if(f&3){e=r[0].tournaments;let a;for(a=0;a<e.length;a+=1){const u=Ze(r,e,a);l[a]?(l[a].p(u,f),w(l[a],1)):(l[a]=at(u),l[a].c(),w(l[a],1),l[a].m(t.parentNode,t))}for(te(),a=e.length;a<l.length;a+=1)s(a);le()}},i(r){if(!n){for(let f=0;f<e.length;f+=1)w(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)O(l[f]);n=!1},d(r){ue(l,r),r&&i(t)}}}function Kt(o,t,n){let e,l;return ie(o,_e,s=>n(0,e=s)),ie(o,we,s=>n(1,l=s)),[e,l]}class Vt extends he{constructor(t){super(),$e(this,t,Kt,It,de,{})}}function zt(o){let t,n;return t=new kt({}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},p:it,i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Gt(o){let t,n,e,l=o[3].team.name+"",s,r,f,a,u,_,T,B,y,E,S,N,A,h,p,q;t=new vt({props:{title:o[3].team.name+" : "+o[1],type:"article",url:"team/detail/?t="+o[2],description:""}}),a=new be({props:{current_mode:o[0],mode:"basic",name:"\u57FA\u672C",url:"/team/detail?m="+o[2]+"&mode=basic"}}),_=new be({props:{current_mode:o[0],mode:"tournament",name:"\u5927\u4F1A",url:"/team/detail?m="+o[2]+"&mode=tournament"}}),B=new be({props:{current_mode:o[0],mode:"member",name:"\u30E1\u30F3\u30D0\u30FC",url:"/team/detail?m="+o[2]+"&mode=member"}}),E=new be({props:{current_mode:o[0],mode:"relation",name:"\u95A2\u9023",url:"/team/detail?m="+o[2]+"&mode=relation"}});let R=o[0]==="basic"&&st(),L=o[0]==="tournament"&&ot(),Y=o[0]==="member"&&ft(),P=o[0]==="relation"&&mt();return{c(){G(t.$$.fragment),n=F(),e=g("h1"),s=K(l),r=F(),f=g("div"),G(a.$$.fragment),u=K(` |
    `),G(_.$$.fragment),T=K(` |
    `),G(B.$$.fragment),y=K(` |
    `),G(E.$$.fragment),S=F(),R&&R.c(),N=F(),L&&L.c(),A=F(),Y&&Y.c(),h=F(),P&&P.c(),p=se(),this.h()},l(c){J(t.$$.fragment,c),n=U(c),e=b(c,"H1",{});var k=v(e);s=V(k,l),k.forEach(i),r=U(c),f=b(c,"DIV",{class:!0});var D=v(f);J(a.$$.fragment,D),u=V(D,` |
    `),J(_.$$.fragment,D),T=V(D,` |
    `),J(B.$$.fragment,D),y=V(D,` |
    `),J(E.$$.fragment,D),D.forEach(i),S=U(c),R&&R.l(c),N=U(c),L&&L.l(c),A=U(c),Y&&Y.l(c),h=U(c),P&&P.l(c),p=se(),this.h()},h(){X(f,"class","detail-tab")},m(c,k){Q(t,c,k),C(c,n,k),C(c,e,k),m(e,s),C(c,r,k),C(c,f,k),Q(a,f,null),m(f,u),Q(_,f,null),m(f,T),Q(B,f,null),m(f,y),Q(E,f,null),C(c,S,k),R&&R.m(c,k),C(c,N,k),L&&L.m(c,k),C(c,A,k),Y&&Y.m(c,k),C(c,h,k),P&&P.m(c,k),C(c,p,k),q=!0},p(c,k){const D={};k&10&&(D.title=c[3].team.name+" : "+c[1]),k&4&&(D.url="team/detail/?t="+c[2]),t.$set(D),(!q||k&8)&&l!==(l=c[3].team.name+"")&&fe(s,l);const j={};k&1&&(j.current_mode=c[0]),k&4&&(j.url="/team/detail?m="+c[2]+"&mode=basic"),a.$set(j);const H={};k&1&&(H.current_mode=c[0]),k&4&&(H.url="/team/detail?m="+c[2]+"&mode=tournament"),_.$set(H);const z={};k&1&&(z.current_mode=c[0]),k&4&&(z.url="/team/detail?m="+c[2]+"&mode=member"),B.$set(z);const d={};k&1&&(d.current_mode=c[0]),k&4&&(d.url="/team/detail?m="+c[2]+"&mode=relation"),E.$set(d),c[0]==="basic"?R?k&1&&w(R,1):(R=st(),R.c(),w(R,1),R.m(N.parentNode,N)):R&&(te(),O(R,1,1,()=>{R=null}),le()),c[0]==="tournament"?L?k&1&&w(L,1):(L=ot(),L.c(),w(L,1),L.m(A.parentNode,A)):L&&(te(),O(L,1,1,()=>{L=null}),le()),c[0]==="member"?Y?k&1&&w(Y,1):(Y=ft(),Y.c(),w(Y,1),Y.m(h.parentNode,h)):Y&&(te(),O(Y,1,1,()=>{Y=null}),le()),c[0]==="relation"?P?k&1&&w(P,1):(P=mt(),P.c(),w(P,1),P.m(p.parentNode,p)):P&&(te(),O(P,1,1,()=>{P=null}),le())},i(c){q||(w(t.$$.fragment,c),w(a.$$.fragment,c),w(_.$$.fragment,c),w(B.$$.fragment,c),w(E.$$.fragment,c),w(R),w(L),w(Y),w(P),q=!0)},o(c){O(t.$$.fragment,c),O(a.$$.fragment,c),O(_.$$.fragment,c),O(B.$$.fragment,c),O(E.$$.fragment,c),O(R),O(L),O(Y),O(P),q=!1},d(c){W(t,c),c&&i(n),c&&i(e),c&&i(r),c&&i(f),W(a),W(_),W(B),W(E),c&&i(S),R&&R.d(c),c&&i(N),L&&L.d(c),c&&i(A),Y&&Y.d(c),c&&i(h),P&&P.d(c),c&&i(p)}}}function st(o){let t,n;return t=new Ft({}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function ot(o){let t,n,e,l,s,r,f;return l=new Nt({}),r=new Vt({}),{c(){t=g("h2"),n=K("\u53C2\u52A0\u5927\u4F1A"),e=F(),G(l.$$.fragment),s=F(),G(r.$$.fragment)},l(a){t=b(a,"H2",{});var u=v(t);n=V(u,"\u53C2\u52A0\u5927\u4F1A"),u.forEach(i),e=U(a),J(l.$$.fragment,a),s=U(a),J(r.$$.fragment,a)},m(a,u){C(a,t,u),m(t,n),C(a,e,u),Q(l,a,u),C(a,s,u),Q(r,a,u),f=!0},i(a){f||(w(l.$$.fragment,a),w(r.$$.fragment,a),f=!0)},o(a){O(l.$$.fragment,a),O(r.$$.fragment,a),f=!1},d(a){a&&i(t),a&&i(e),W(l,a),a&&i(s),W(r,a)}}}function ft(o){let t,n,e,l,s;return l=new Mt({}),{c(){t=g("h2"),n=K("\u30E1\u30F3\u30D0\u30FC"),e=F(),G(l.$$.fragment)},l(r){t=b(r,"H2",{});var f=v(t);n=V(f,"\u30E1\u30F3\u30D0\u30FC"),f.forEach(i),e=U(r),J(l.$$.fragment,r)},m(r,f){C(r,t,f),m(t,n),C(r,e,f),Q(l,r,f),s=!0},i(r){s||(w(l.$$.fragment,r),s=!0)},o(r){O(l.$$.fragment,r),s=!1},d(r){r&&i(t),r&&i(e),W(l,r)}}}function mt(o){let t,n,e,l,s;return l=new St({}),{c(){t=g("h2"),n=K("\u95A2\u9023"),e=F(),G(l.$$.fragment)},l(r){t=b(r,"H2",{});var f=v(t);n=V(f,"\u95A2\u9023"),f.forEach(i),e=U(r),J(l.$$.fragment,r)},m(r,f){C(r,t,f),m(t,n),C(r,e,f),Q(l,r,f),s=!0},i(r){s||(w(l.$$.fragment,r),s=!0)},o(r){O(l.$$.fragment,r),s=!1},d(r){r&&i(t),r&&i(e),W(l,r)}}}function Jt(o){let t,n,e,l;const s=[Gt,zt],r=[];function f(a,u){return a[3]?0:1}return t=f(o),n=r[t]=s[t](o),{c(){n.c(),e=se()},l(a){n.l(a),e=se()},m(a,u){r[t].m(a,u),C(a,e,u),l=!0},p(a,[u]){let _=t;t=f(a),t===_?r[t].p(a,u):(te(),O(r[_],1,1,()=>{r[_]=null}),le(),n=r[t],n?n.p(a,u):(n=r[t]=s[t](a),n.c()),w(n,1),n.m(e.parentNode,e))},i(a){l||(w(n),l=!0)},o(a){O(n),l=!1},d(a){r[t].d(a),a&&i(e)}}}function Qt(o,t,n){let e,l,s;ie(o,Ne,u=>n(2,l=u)),ie(o,_e,u=>n(3,s=u));let r="basic";gt(()=>{a(null)});async function f(u){Be("team/team_aliases.json").then(_=>_.json()).then(_=>{a(_[u])}).catch(()=>[])}async function a(u){n(0,r=dt("basic","mode"));const _=pt(u,"m");l===_||_===null||(_e.set(null),Ne.set(_),Be(`team/${l}.json`).then(T=>{if([403,404].indexOf(T.status)!==-1)throw new Error("NOT FOUND");return T.json()}).then(T=>{Tt(T)}).catch(T=>{T.message==="NOT FOUND"&&u===null&&f(l)}))}return o.$$.update=()=>{o.$$.dirty&1&&n(1,e={basic:"\u57FA\u672C",tournament:"\u5927\u4F1A",member:"\u30E1\u30F3\u30D0\u30FC",relation:"\u95A2\u9023"}[r])},[r,e,l,s]}class _l extends he{constructor(t){super(),$e(this,t,Qt,Jt,de,{})}}export{_l as default};
