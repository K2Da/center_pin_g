import{S as he,i as $e,s as de,l as se,g as C,n as te,o as O,p as le,q as w,d as i,P as ie,e as b,t as K,k as F,w as G,c as v,a as k,h as V,m as U,x as J,b as X,K as m,y as Q,j as fe,B as W,R as ue,E as it,f as re}from"../../../chunks/index-15dce5f7.js";import{n as we,p as ht,k as $t,o as dt,i as pt,j as Be}from"../../../chunks/global-52dfa6c4.js";import{a as gt}from"../../../chunks/navigation-13fd7038.js";import{w as ut}from"../../../chunks/index-0695a55f.js";import{T as bt,P as be}from"../../../chunks/PageTab-8288354f.js";import{H as vt}from"../../../chunks/Header-9774d4d4.js";import{D as De,T as ve,P as kt}from"../../../chunks/PopUpA-e12b6952.js";import{a as ge,T as pe}from"../../../chunks/TeamName-785adc0a.js";import{P as ce}from"../../../chunks/PlayersLine-b0fb57e4.js";import{P as Et}from"../../../chunks/PlayerName-df278622.js";import{T as _t}from"../../../chunks/TournamentName-c28449fc.js";import{S as ye}from"../../../chunks/Span-69d9c919.js";import{M as ct}from"../../../chunks/MatchResult-fc4c9239.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/Twitch-55dc744f.js";const Ne=ut(""),_e=ut(null);function Tt(o){const t={};for(const[s,r]of o.tournaments.entries())for(const f of r.player_list)t[f]===void 0&&(t[f]={tournament:s,count:0}),t[f].count+=1;const n=Object.keys(t);n.sort((s,r)=>t[s].tournament===t[r].tournament?t[r].count-t[s].count:t[s].tournament-t[r].tournament),o.matches||(o.matches=[]);for(const s of o.matches)s.wl=s.opponent_team_key===s.loser_key,s.score_text=s.wl?`${s.winner_score} - ${s.loser_score}`:`${s.loser_score} - ${s.winner_score}`;const e=[...o.tournaments].reverse(),l={...o,players:n,reversed_tournaments:e,player_stats:t};console.log({view_data:l}),_e.set(l)}function Re(o,t,n){const e=o.slice();return e[2]=t[n],e[4]=n,e}function Oe(o,t,n){const e=o.slice();return e[2]=t[n],e[4]=n,e}function wt(o){let t,n,e,l,s,r,f,a,u,c,g,B,y,T,S,N,A,h,p,q,R,L,Y,P=o[1].tournaments,_=[];for(let D=0;D<P.length;D+=1)_[D]=Me(Re(o,P,D));const E=D=>O(_[D],1,1,()=>{_[D]=null});return{c(){t=b("table"),n=b("thead"),e=b("tr"),l=b("th"),s=K("#"),r=F(),f=b("th"),a=K("\u958B\u50AC\u65E5"),u=F(),c=b("th"),g=K("\u5927\u4F1A\u540D"),B=F(),y=b("th"),T=K("\u7D50\u679C"),S=F(),N=b("th"),A=K("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),h=F(),p=b("th"),q=K("\u30E1\u30F3\u30D0\u30FC"),R=F(),L=b("tbody");for(let D=0;D<_.length;D+=1)_[D].c();this.h()},l(D){t=v(D,"TABLE",{});var j=k(t);n=v(j,"THEAD",{});var H=k(n);e=v(H,"TR",{});var z=k(e);l=v(z,"TH",{class:!0});var d=k(l);s=V(d,"#"),d.forEach(i),r=U(z),f=v(z,"TH",{});var M=k(f);a=V(M,"\u958B\u50AC\u65E5"),M.forEach(i),u=U(z),c=v(z,"TH",{class:!0});var $=k(c);g=V($,"\u5927\u4F1A\u540D"),$.forEach(i),B=U(z),y=v(z,"TH",{});var I=k(y);T=V(I,"\u7D50\u679C"),I.forEach(i),S=U(z),N=v(z,"TH",{class:!0});var Z=k(N);A=V(Z,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),Z.forEach(i),h=U(z),p=v(z,"TH",{class:!0});var x=k(p);q=V(x,"\u30E1\u30F3\u30D0\u30FC"),x.forEach(i),z.forEach(i),H.forEach(i),R=U(j),L=v(j,"TBODY",{});var ee=k(L);for(let ne=0;ne<_.length;ne+=1)_[ne].l(ee);ee.forEach(i),j.forEach(i),this.h()},h(){X(l,"class","tar"),X(c,"class","tal"),X(N,"class","tal"),X(p,"class","tal")},m(D,j){C(D,t,j),m(t,n),m(n,e),m(e,l),m(l,s),m(e,r),m(e,f),m(f,a),m(e,u),m(e,c),m(c,g),m(e,B),m(e,y),m(y,T),m(e,S),m(e,N),m(N,A),m(e,h),m(e,p),m(p,q),m(t,R),m(t,L);for(let H=0;H<_.length;H+=1)_[H].m(L,null);Y=!0},p(D,j){if(j&2){P=D[1].tournaments;let H;for(H=0;H<P.length;H+=1){const z=Re(D,P,H);_[H]?(_[H].p(z,j),w(_[H],1)):(_[H]=Me(z),_[H].c(),w(_[H],1),_[H].m(L,null))}for(te(),H=P.length;H<_.length;H+=1)E(H);le()}},i(D){if(!Y){for(let j=0;j<P.length;j+=1)w(_[j]);Y=!0}},o(D){_=_.filter(Boolean);for(let j=0;j<_.length;j+=1)O(_[j]);Y=!1},d(D){D&&i(t),ue(_,D)}}}function Dt(o){let t,n,e,l=o[1].tournaments,s=[];for(let f=0;f<l.length;f+=1)s[f]=Ae(Oe(o,l,f));const r=f=>O(s[f],1,1,()=>{s[f]=null});return{c(){t=b("table"),n=b("tbody");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=v(f,"TABLE",{});var a=k(t);n=v(a,"TBODY",{class:!0});var u=k(n);for(let c=0;c<s.length;c+=1)s[c].l(u);u.forEach(i),a.forEach(i),this.h()},h(){X(n,"class","double")},m(f,a){C(f,t,a),m(t,n);for(let u=0;u<s.length;u+=1)s[u].m(n,null);e=!0},p(f,a){if(a&2){l=f[1].tournaments;let u;for(u=0;u<l.length;u+=1){const c=Oe(f,l,u);s[u]?(s[u].p(c,a),w(s[u],1)):(s[u]=Ae(c),s[u].c(),w(s[u],1),s[u].m(n,null))}for(te(),u=l.length;u<s.length;u+=1)r(u);le()}},i(f){if(!e){for(let a=0;a<l.length;a+=1)w(s[a]);e=!0}},o(f){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)O(s[a]);e=!1},d(f){f&&i(t),ue(s,f)}}}function Me(o){let t,n,e=o[4]+1+"",l,s,r,f,a,u,c,g=o[2].tournament_name+"",B,y,T,S,N,A,h,p=o[2].name+"",q,R,L,Y,P,_;return f=new De({props:{date:o[2].tournament_date}}),N=new ge({props:{rank:o[2].result}}),Y=new ce({props:{players:o[2].player_list}}),{c(){t=b("tr"),n=b("td"),l=K(e),s=F(),r=b("td"),G(f.$$.fragment),a=F(),u=b("td"),c=b("a"),B=K(g),T=F(),S=b("td"),G(N.$$.fragment),A=F(),h=b("td"),q=K(p),R=F(),L=b("td"),G(Y.$$.fragment),P=F(),this.h()},l(E){t=v(E,"TR",{});var D=k(t);n=v(D,"TD",{class:!0});var j=k(n);l=V(j,e),j.forEach(i),s=U(D),r=v(D,"TD",{});var H=k(r);J(f.$$.fragment,H),H.forEach(i),a=U(D),u=v(D,"TD",{class:!0});var z=k(u);c=v(z,"A",{href:!0});var d=k(c);B=V(d,g),d.forEach(i),z.forEach(i),T=U(D),S=v(D,"TD",{});var M=k(S);J(N.$$.fragment,M),M.forEach(i),A=U(D),h=v(D,"TD",{class:!0});var $=k(h);q=V($,p),$.forEach(i),R=U(D),L=v(D,"TD",{class:!0});var I=k(L);J(Y.$$.fragment,I),I.forEach(i),P=U(D),D.forEach(i),this.h()},h(){X(n,"class","tar"),X(c,"href",y="#"+o[2].tournament_key),X(u,"class","tal"),X(h,"class","tal"),X(L,"class","tal")},m(E,D){C(E,t,D),m(t,n),m(n,l),m(t,s),m(t,r),Q(f,r,null),m(t,a),m(t,u),m(u,c),m(c,B),m(t,T),m(t,S),Q(N,S,null),m(t,A),m(t,h),m(h,q),m(t,R),m(t,L),Q(Y,L,null),m(t,P),_=!0},p(E,D){const j={};D&2&&(j.date=E[2].tournament_date),f.$set(j),(!_||D&2)&&g!==(g=E[2].tournament_name+"")&&fe(B,g),(!_||D&2&&y!==(y="#"+E[2].tournament_key))&&X(c,"href",y);const H={};D&2&&(H.rank=E[2].result),N.$set(H),(!_||D&2)&&p!==(p=E[2].name+"")&&fe(q,p);const z={};D&2&&(z.players=E[2].player_list),Y.$set(z)},i(E){_||(w(f.$$.fragment,E),w(N.$$.fragment,E),w(Y.$$.fragment,E),_=!0)},o(E){O(f.$$.fragment,E),O(N.$$.fragment,E),O(Y.$$.fragment,E),_=!1},d(E){E&&i(t),W(f),W(N),W(Y)}}}function yt(o){let t,n=o[4]+1+"",e;return{c(){t=K("#"),e=K(n)},l(l){t=V(l,"#"),e=V(l,n)},m(l,s){C(l,t,s),C(l,e,s)},p:it,d(l){l&&i(t),l&&i(e)}}}function Ae(o){let t,n,e,l,s,r,f,a,u,c,g,B,y=o[2].tournament_name+"",T,S,N,A;return e=new ve({props:{$$slots:{default:[yt]},$$scope:{ctx:o}}}),s=new De({props:{date:o[2].tournament_date,spacing:!1}}),a=new ge({props:{rank:o[2].result}}),{c(){t=b("tr"),n=b("td"),G(e.$$.fragment),l=F(),G(s.$$.fragment),r=F(),f=b("td"),G(a.$$.fragment),u=F(),c=b("tr"),g=b("td"),B=b("a"),T=K(y),N=F(),this.h()},l(h){t=v(h,"TR",{});var p=k(t);n=v(p,"TD",{class:!0,colspan:!0});var q=k(n);J(e.$$.fragment,q),l=U(q),J(s.$$.fragment,q),q.forEach(i),r=U(p),f=v(p,"TD",{class:!0});var R=k(f);J(a.$$.fragment,R),R.forEach(i),p.forEach(i),u=U(h),c=v(h,"TR",{});var L=k(c);g=v(L,"TD",{colspan:!0,class:!0});var Y=k(g);B=v(Y,"A",{href:!0});var P=k(B);T=V(P,y),P.forEach(i),Y.forEach(i),N=U(L),L.forEach(i),this.h()},h(){X(n,"class","tal"),X(n,"colspan","2"),X(f,"class","nw"),X(B,"href",S="#"+o[2].tournament_key),X(g,"colspan","3"),X(g,"class","tal")},m(h,p){C(h,t,p),m(t,n),Q(e,n,null),m(n,l),Q(s,n,null),m(t,r),m(t,f),Q(a,f,null),C(h,u,p),C(h,c,p),m(c,g),m(g,B),m(B,T),m(c,N),A=!0},p(h,p){const q={};p&64&&(q.$$scope={dirty:p,ctx:h}),e.$set(q);const R={};p&2&&(R.date=h[2].tournament_date),s.$set(R);const L={};p&2&&(L.rank=h[2].result),a.$set(L),(!A||p&2)&&y!==(y=h[2].tournament_name+"")&&fe(T,y),(!A||p&2&&S!==(S="#"+h[2].tournament_key))&&X(B,"href",S)},i(h){A||(w(e.$$.fragment,h),w(s.$$.fragment,h),w(a.$$.fragment,h),A=!0)},o(h){O(e.$$.fragment,h),O(s.$$.fragment,h),O(a.$$.fragment,h),A=!1},d(h){h&&i(t),W(e),W(s),W(a),h&&i(u),h&&i(c)}}}function Ht(o){let t,n,e,l;const s=[Dt,wt],r=[];function f(a,u){return a[0]?0:1}return t=f(o),n=r[t]=s[t](o),{c(){n.c(),e=se()},l(a){n.l(a),e=se()},m(a,u){r[t].m(a,u),C(a,e,u),l=!0},p(a,[u]){let c=t;t=f(a),t===c?r[t].p(a,u):(te(),O(r[c],1,1,()=>{r[c]=null}),le(),n=r[t],n?n.p(a,u):(n=r[t]=s[t](a),n.c()),w(n,1),n.m(e.parentNode,e))},i(a){l||(w(n),l=!0)},o(a){O(n),l=!1},d(a){r[t].d(a),a&&i(e)}}}function Bt(o,t,n){let e,l;return ie(o,we,s=>n(0,e=s)),ie(o,_e,s=>n(1,l=s)),[e,l]}class Nt extends he{constructor(t){super(),$e(this,t,Bt,Ht,de,{})}}function Le(o,t,n){const e=o.slice();e[2]=t[n];const l=e[0].previous_teams[e[2]];e[3]=l;const s=e[1].dic[e[2]];return e[4]=s,e}function Pe(o,t,n){const e=o.slice();return e[7]=t[n],e}function je(o,t,n){const e=o.slice();return e[7]=t[n],e[11]=n,e}function Se(o){let t,n,e;return n=new _t({props:{name:o[0].reversed_tournaments.length-o[11],key:o[7].tournament_key,official:!1}}),{c(){t=b("th"),G(n.$$.fragment),this.h()},l(l){t=v(l,"TH",{style:!0});var s=k(t);J(n.$$.fragment,s),s.forEach(i),this.h()},h(){re(t,"width","2em")},m(l,s){C(l,t,s),Q(n,t,null),e=!0},p(l,s){const r={};s&1&&(r.name=l[0].reversed_tournaments.length-l[11]),s&1&&(r.key=l[7].tournament_key),n.$set(r)},i(l){e||(w(n.$$.fragment,l),e=!0)},o(l){O(n.$$.fragment,l),e=!1},d(l){l&&i(t),W(n)}}}function Ye(o){let t=o[4].rating.toLocaleString()+"",n;return{c(){n=K(t)},l(e){n=V(e,t)},m(e,l){C(e,n,l)},p(e,l){l&3&&t!==(t=e[4].rating.toLocaleString()+"")&&fe(n,t)},d(e){e&&i(n)}}}function qe(o){let t,n;return t=new pe({props:{name:o[3],current_name:o[3]}}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},p(e,l){const s={};l&1&&(s.name=e[3]),l&1&&(s.current_name=e[3]),t.$set(s)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Fe(o){let t;return{c(){t=K("\u279C")},l(n){t=V(n,"\u279C")},m(n,e){C(n,t,e)},d(n){n&&i(t)}}}function Ue(o){let t,n=o[7].player_list.indexOf(o[2])!==-1,e=n&&Fe();return{c(){t=b("td"),e&&e.c()},l(l){t=v(l,"TD",{});var s=k(t);e&&e.l(s),s.forEach(i)},m(l,s){C(l,t,s),e&&e.m(t,null)},p(l,s){s&1&&(n=l[7].player_list.indexOf(l[2])!==-1),n?e||(e=Fe(),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(l){l&&i(t),e&&e.d()}}}function Ce(o){let t,n;return t=new pe({props:{name:o[4].latest.team_current,current_name:o[4].latest.team_current}}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},p(e,l){const s={};l&3&&(s.name=e[4].latest.team_current),l&3&&(s.current_name=e[4].latest.team_current),t.$set(s)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ie(o){let t,n,e,l,s,r,f,a,u,c,g,B;e=new Et({props:{name:o[2]}});let y=o[4]&&o[4].rating&&Ye(o),T=o[3]&&qe(o),S=o[0].reversed_tournaments,N=[];for(let h=0;h<S.length;h+=1)N[h]=Ue(Pe(o,S,h));let A=o[4]&&o[4].latest.team_current!==o[0].team.name&&Ce(o);return{c(){t=b("tr"),n=b("td"),G(e.$$.fragment),l=F(),s=b("td"),y&&y.c(),r=F(),f=b("td"),T&&T.c(),a=F();for(let h=0;h<N.length;h+=1)N[h].c();u=F(),c=b("td"),A&&A.c(),g=F(),this.h()},l(h){t=v(h,"TR",{});var p=k(t);n=v(p,"TD",{class:!0});var q=k(n);J(e.$$.fragment,q),q.forEach(i),l=U(p),s=v(p,"TD",{});var R=k(s);y&&y.l(R),R.forEach(i),r=U(p),f=v(p,"TD",{class:!0});var L=k(f);T&&T.l(L),L.forEach(i),a=U(p);for(let P=0;P<N.length;P+=1)N[P].l(p);u=U(p),c=v(p,"TD",{class:!0});var Y=k(c);A&&A.l(Y),Y.forEach(i),g=U(p),p.forEach(i),this.h()},h(){X(n,"class","tal"),X(f,"class","tal nw"),X(c,"class","tal nw")},m(h,p){C(h,t,p),m(t,n),Q(e,n,null),m(t,l),m(t,s),y&&y.m(s,null),m(t,r),m(t,f),T&&T.m(f,null),m(t,a);for(let q=0;q<N.length;q+=1)N[q].m(t,null);m(t,u),m(t,c),A&&A.m(c,null),m(t,g),B=!0},p(h,p){const q={};if(p&1&&(q.name=h[2]),e.$set(q),h[4]&&h[4].rating?y?y.p(h,p):(y=Ye(h),y.c(),y.m(s,null)):y&&(y.d(1),y=null),h[3]?T?(T.p(h,p),p&1&&w(T,1)):(T=qe(h),T.c(),w(T,1),T.m(f,null)):T&&(te(),O(T,1,1,()=>{T=null}),le()),p&1){S=h[0].reversed_tournaments;let R;for(R=0;R<S.length;R+=1){const L=Pe(h,S,R);N[R]?N[R].p(L,p):(N[R]=Ue(L),N[R].c(),N[R].m(t,u))}for(;R<N.length;R+=1)N[R].d(1);N.length=S.length}h[4]&&h[4].latest.team_current!==h[0].team.name?A?(A.p(h,p),p&3&&w(A,1)):(A=Ce(h),A.c(),w(A,1),A.m(c,null)):A&&(te(),O(A,1,1,()=>{A=null}),le())},i(h){B||(w(e.$$.fragment,h),w(T),w(A),B=!0)},o(h){O(e.$$.fragment,h),O(T),O(A),B=!1},d(h){h&&i(t),W(e),y&&y.d(),T&&T.d(),ue(N,h),A&&A.d()}}}function Rt(o){let t,n,e,l,s,r,f,a,u,c,g,B,y,T,S,N,A,h,p,q,R,L,Y,P,_=o[0].reversed_tournaments,E=[];for(let d=0;d<_.length;d+=1)E[d]=Se(je(o,_,d));const D=d=>O(E[d],1,1,()=>{E[d]=null});let j=o[0].players,H=[];for(let d=0;d<j.length;d+=1)H[d]=Ie(Le(o,j,d));const z=d=>O(H[d],1,1,()=>{H[d]=null});return{c(){t=b("table"),n=b("thead"),e=b("tr"),l=b("th"),s=F(),r=b("th"),f=K("\u53C2\u52A0\u5927\u4F1A#"),u=F(),c=b("tr"),g=b("th"),B=F(),y=b("th"),T=K("rating"),S=F(),N=b("th"),A=K("\u524D\u30C1\u30FC\u30E0"),h=F();for(let d=0;d<E.length;d+=1)E[d].c();p=F(),q=b("th"),R=K("\u6700\u65B0\u30C1\u30FC\u30E0"),L=F(),Y=b("tbody");for(let d=0;d<H.length;d+=1)H[d].c();this.h()},l(d){t=v(d,"TABLE",{style:!0});var M=k(t);n=v(M,"THEAD",{});var $=k(n);e=v($,"TR",{});var I=k(e);l=v(I,"TH",{colspan:!0}),k(l).forEach(i),s=U(I),r=v(I,"TH",{colspan:!0,class:!0});var Z=k(r);f=V(Z,"\u53C2\u52A0\u5927\u4F1A#"),Z.forEach(i),I.forEach(i),u=U($),c=v($,"TR",{});var x=k(c);g=v(x,"TH",{style:!0}),k(g).forEach(i),B=U(x),y=v(x,"TH",{style:!0});var ee=k(y);T=V(ee,"rating"),ee.forEach(i),S=U(x),N=v(x,"TH",{class:!0,style:!0});var ne=k(N);A=V(ne,"\u524D\u30C1\u30FC\u30E0"),ne.forEach(i),h=U(x);for(let ae=0;ae<E.length;ae+=1)E[ae].l(x);p=U(x),q=v(x,"TH",{class:!0});var oe=k(q);R=V(oe,"\u6700\u65B0\u30C1\u30FC\u30E0"),oe.forEach(i),x.forEach(i),$.forEach(i),L=U(M),Y=v(M,"TBODY",{});var me=k(Y);for(let ae=0;ae<H.length;ae+=1)H[ae].l(me);me.forEach(i),M.forEach(i),this.h()},h(){X(l,"colspan","3"),X(r,"colspan",a=o[0].reversed_tournaments.length+1),X(r,"class","tal"),re(g,"width","10em"),re(y,"width","5em"),X(N,"class","tal"),re(N,"width","100px"),X(q,"class","tal nw"),re(t,"width","100%")},m(d,M){C(d,t,M),m(t,n),m(n,e),m(e,l),m(e,s),m(e,r),m(r,f),m(n,u),m(n,c),m(c,g),m(c,B),m(c,y),m(y,T),m(c,S),m(c,N),m(N,A),m(c,h);for(let $=0;$<E.length;$+=1)E[$].m(c,null);m(c,p),m(c,q),m(q,R),m(t,L),m(t,Y);for(let $=0;$<H.length;$+=1)H[$].m(Y,null);P=!0},p(d,[M]){if((!P||M&1&&a!==(a=d[0].reversed_tournaments.length+1))&&X(r,"colspan",a),M&1){_=d[0].reversed_tournaments;let $;for($=0;$<_.length;$+=1){const I=je(d,_,$);E[$]?(E[$].p(I,M),w(E[$],1)):(E[$]=Se(I),E[$].c(),w(E[$],1),E[$].m(c,p))}for(te(),$=_.length;$<E.length;$+=1)D($);le()}if(M&3){j=d[0].players;let $;for($=0;$<j.length;$+=1){const I=Le(d,j,$);H[$]?(H[$].p(I,M),w(H[$],1)):(H[$]=Ie(I),H[$].c(),w(H[$],1),H[$].m(Y,null))}for(te(),$=j.length;$<H.length;$+=1)z($);le()}},i(d){if(!P){for(let M=0;M<_.length;M+=1)w(E[M]);for(let M=0;M<j.length;M+=1)w(H[M]);P=!0}},o(d){E=E.filter(Boolean);for(let M=0;M<E.length;M+=1)O(E[M]);H=H.filter(Boolean);for(let M=0;M<H.length;M+=1)O(H[M]);P=!1},d(d){d&&i(t),ue(E,d),ue(H,d)}}}function Ot(o,t,n){let e,l;return ie(o,_e,s=>n(0,e=s)),ie(o,ht,s=>n(1,l=s)),[e,l]}class Mt extends he{constructor(t){super(),$e(this,t,Ot,Rt,de,{})}}function Ke(o,t,n){const e=o.slice();e[3]=t[n];const l=e[1].dic[e[3]];return e[4]=l,e}function Ve(o,t,n){const e=o.slice();e[3]=t[n];const l=e[1].dic[e[3]];return e[4]=l,e}function ze(o){let t,n,e,l,s,r,f;const a=[Lt,At],u=[];function c(g,B){return g[2]?0:1}return s=c(o),r=u[s]=a[s](o),{c(){t=b("h3"),n=K("3\u540D\u4EE5\u4E0A\u306E\u30E1\u30F3\u30D0\u30FC\u304C\u5171\u901A\u3059\u308B\u30C1\u30FC\u30E0"),e=F(),l=b("table"),r.c(),this.h()},l(g){t=v(g,"H3",{});var B=k(t);n=V(B,"3\u540D\u4EE5\u4E0A\u306E\u30E1\u30F3\u30D0\u30FC\u304C\u5171\u901A\u3059\u308B\u30C1\u30FC\u30E0"),B.forEach(i),e=U(g),l=v(g,"TABLE",{style:!0});var y=k(l);r.l(y),y.forEach(i),this.h()},h(){re(l,"width","100%")},m(g,B){C(g,t,B),m(t,n),C(g,e,B),C(g,l,B),u[s].m(l,null),f=!0},p(g,B){let y=s;s=c(g),s===y?u[s].p(g,B):(te(),O(u[y],1,1,()=>{u[y]=null}),le(),r=u[s],r?r.p(g,B):(r=u[s]=a[s](g),r.c()),w(r,1),r.m(l,null))},i(g){f||(w(r),f=!0)},o(g){O(r),f=!1},d(g){g&&i(t),g&&i(e),g&&i(l),u[s].d()}}}function At(o){let t,n,e=ke(o[0].similar_team,o[1].dic),l=[];for(let r=0;r<e.length;r+=1)l[r]=Ge(Ke(o,e,r));const s=r=>O(l[r],1,1,()=>{l[r]=null});return{c(){t=b("tbody");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){t=v(r,"TBODY",{});var f=k(t);for(let a=0;a<l.length;a+=1)l[a].l(f);f.forEach(i)},m(r,f){C(r,t,f);for(let a=0;a<l.length;a+=1)l[a].m(t,null);n=!0},p(r,f){if(f&3){e=ke(r[0].similar_team,r[1].dic);let a;for(a=0;a<e.length;a+=1){const u=Ke(r,e,a);l[a]?(l[a].p(u,f),w(l[a],1)):(l[a]=Ge(u),l[a].c(),w(l[a],1),l[a].m(t,null))}for(te(),a=e.length;a<l.length;a+=1)s(a);le()}},i(r){if(!n){for(let f=0;f<e.length;f+=1)w(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)O(l[f]);n=!1},d(r){r&&i(t),ue(l,r)}}}function Lt(o){let t,n,e=ke(o[0].similar_team,o[1].dic),l=[];for(let r=0;r<e.length;r+=1)l[r]=Je(Ve(o,e,r));const s=r=>O(l[r],1,1,()=>{l[r]=null});return{c(){t=b("tbody");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){t=v(r,"TBODY",{class:!0});var f=k(t);for(let a=0;a<l.length;a+=1)l[a].l(f);f.forEach(i),this.h()},h(){X(t,"class","triple")},m(r,f){C(r,t,f);for(let a=0;a<l.length;a+=1)l[a].m(t,null);n=!0},p(r,f){if(f&3){e=ke(r[0].similar_team,r[1].dic);let a;for(a=0;a<e.length;a+=1){const u=Ve(r,e,a);l[a]?(l[a].p(u,f),w(l[a],1)):(l[a]=Je(u),l[a].c(),w(l[a],1),l[a].m(t,null))}for(te(),a=e.length;a<l.length;a+=1)s(a);le()}},i(r){if(!n){for(let f=0;f<e.length;f+=1)w(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)O(l[f]);n=!1},d(r){r&&i(t),ue(l,r)}}}function Ge(o){let t,n,e,l,s,r,f,a,u,c,g;return e=new pe({props:{name:o[3],current_name:o[3]}}),r=new ye({props:{date1:o[4].first_tournament_date,date2:o[4].latest_tournament_date}}),u=new ce({props:{players:Ee(o[0],o[3],o[1].dic)}}),{c(){t=b("tr"),n=b("td"),G(e.$$.fragment),l=F(),s=b("td"),G(r.$$.fragment),f=F(),a=b("td"),G(u.$$.fragment),c=F(),this.h()},l(B){t=v(B,"TR",{});var y=k(t);n=v(y,"TD",{class:!0,style:!0});var T=k(n);J(e.$$.fragment,T),T.forEach(i),l=U(y),s=v(y,"TD",{class:!0});var S=k(s);J(r.$$.fragment,S),S.forEach(i),f=U(y),a=v(y,"TD",{class:!0});var N=k(a);J(u.$$.fragment,N),N.forEach(i),c=U(y),y.forEach(i),this.h()},h(){X(n,"class","tal"),re(n,"width","20em"),X(s,"class","tal"),X(a,"class","tal")},m(B,y){C(B,t,y),m(t,n),Q(e,n,null),m(t,l),m(t,s),Q(r,s,null),m(t,f),m(t,a),Q(u,a,null),m(t,c),g=!0},p(B,y){const T={};y&3&&(T.name=B[3]),y&3&&(T.current_name=B[3]),e.$set(T);const S={};y&3&&(S.date1=B[4].first_tournament_date),y&3&&(S.date2=B[4].latest_tournament_date),r.$set(S);const N={};y&3&&(N.players=Ee(B[0],B[3],B[1].dic)),u.$set(N)},i(B){g||(w(e.$$.fragment,B),w(r.$$.fragment,B),w(u.$$.fragment,B),g=!0)},o(B){O(e.$$.fragment,B),O(r.$$.fragment,B),O(u.$$.fragment,B),g=!1},d(B){B&&i(t),W(e),W(r),W(u)}}}function Je(o){let t,n,e,l,s,r,f,a,u,c,g,B,y;return e=new pe({props:{name:o[3],current_name:o[3]}}),f=new ye({props:{date1:o[4].first_tournament_date,date2:o[4].latest_tournament_date}}),g=new ce({props:{players:Ee(o[0],o[3],o[1].dic)}}),{c(){t=b("tr"),n=b("td"),G(e.$$.fragment),l=F(),s=b("tr"),r=b("td"),G(f.$$.fragment),a=F(),u=b("tr"),c=b("td"),G(g.$$.fragment),B=F(),this.h()},l(T){t=v(T,"TR",{});var S=k(t);n=v(S,"TD",{class:!0,style:!0});var N=k(n);J(e.$$.fragment,N),N.forEach(i),l=U(S),S.forEach(i),s=v(T,"TR",{});var A=k(s);r=v(A,"TD",{class:!0});var h=k(r);J(f.$$.fragment,h),h.forEach(i),A.forEach(i),a=U(T),u=v(T,"TR",{});var p=k(u);c=v(p,"TD",{class:!0});var q=k(c);J(g.$$.fragment,q),q.forEach(i),B=U(p),p.forEach(i),this.h()},h(){X(n,"class","tal"),re(n,"width","20em"),X(r,"class","tal"),X(c,"class","tal")},m(T,S){C(T,t,S),m(t,n),Q(e,n,null),m(t,l),C(T,s,S),m(s,r),Q(f,r,null),C(T,a,S),C(T,u,S),m(u,c),Q(g,c,null),m(u,B),y=!0},p(T,S){const N={};S&3&&(N.name=T[3]),S&3&&(N.current_name=T[3]),e.$set(N);const A={};S&3&&(A.date1=T[4].first_tournament_date),S&3&&(A.date2=T[4].latest_tournament_date),f.$set(A);const h={};S&3&&(h.players=Ee(T[0],T[3],T[1].dic)),g.$set(h)},i(T){y||(w(e.$$.fragment,T),w(f.$$.fragment,T),w(g.$$.fragment,T),y=!0)},o(T){O(e.$$.fragment,T),O(f.$$.fragment,T),O(g.$$.fragment,T),y=!1},d(T){T&&i(t),W(e),T&&i(s),W(f),T&&i(a),T&&i(u),W(g)}}}function Pt(o){let t,n,e=o[0]&&o[1].list.length>0&&o[0].similar_team.length>0&&ze(o);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,s){e&&e.m(l,s),C(l,t,s),n=!0},p(l,[s]){l[0]&&l[1].list.length>0&&l[0].similar_team.length>0?e?(e.p(l,s),s&3&&w(e,1)):(e=ze(l),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(te(),O(e,1,1,()=>{e=null}),le())},i(l){n||(w(e),n=!0)},o(l){O(e),n=!1},d(l){e&&e.d(l),l&&i(t)}}}function ke(o,t){return o.sort((n,e)=>{var l,s;return((l=t[e])==null?void 0:l.first_tournament_date)-((s=t[n])==null?void 0:s.first_tournament_date)})}function Ee(o,t,n){return o.players.filter(e=>n[t].members.includes(e)>0)}function jt(o,t,n){let e,l,s;return ie(o,_e,r=>n(0,e=r)),ie(o,$t,r=>n(1,l=r)),ie(o,we,r=>n(2,s=r)),[e,l,s]}class St extends he{constructor(t){super(),$e(this,t,jt,Pt,de,{})}}function Qe(o){let t,n,e,l=o[0].team.names.join(", ")+"",s;return{c(){t=b("dt"),n=K("\u5927\u4F1A\u767B\u9332\u540D"),e=b("dd"),s=K(l)},l(r){t=v(r,"DT",{});var f=k(t);n=V(f,"\u5927\u4F1A\u767B\u9332\u540D"),f.forEach(i),e=v(r,"DD",{});var a=k(e);s=V(a,l),a.forEach(i)},m(r,f){C(r,t,f),m(t,n),C(r,e,f),m(e,s)},p(r,f){f&1&&l!==(l=r[0].team.names.join(", ")+"")&&fe(s,l)},d(r){r&&i(t),r&&i(e)}}}function Yt(o){let t,n,e,l,s,r,f,a,u,c,g,B,y,T,S,N,A;a=new ye({props:{date1:o[0].team.first_tournament_date,date2:o[0].team.latest_tournament_date,length:"true"}}),B=new bt({props:{stats:o[0].team}});let h=o[0].team.names.length>0&&Qe(o);return N=new ce({props:{players:Xe(o[0].players,o[0].player_stats),notes:We(o[0].player_stats)}}),{c(){t=b("h2"),n=K("\u57FA\u672C\u60C5\u5831"),e=F(),l=b("dl"),s=b("dt"),r=K("\u6D3B\u52D5\u671F\u9593"),f=b("dd"),G(a.$$.fragment),u=b("dt"),c=K("\u6226\u7E3E"),g=b("dd"),G(B.$$.fragment),h&&h.c(),y=b("dt"),T=K("\u6B74\u4EE3\u30E1\u30F3\u30D0\u30FC(\u51FA\u5834\u6570)"),S=b("dd"),G(N.$$.fragment)},l(p){t=v(p,"H2",{});var q=k(t);n=V(q,"\u57FA\u672C\u60C5\u5831"),q.forEach(i),e=U(p),l=v(p,"DL",{});var R=k(l);s=v(R,"DT",{});var L=k(s);r=V(L,"\u6D3B\u52D5\u671F\u9593"),L.forEach(i),f=v(R,"DD",{});var Y=k(f);J(a.$$.fragment,Y),Y.forEach(i),u=v(R,"DT",{});var P=k(u);c=V(P,"\u6226\u7E3E"),P.forEach(i),g=v(R,"DD",{});var _=k(g);J(B.$$.fragment,_),_.forEach(i),h&&h.l(R),y=v(R,"DT",{});var E=k(y);T=V(E,"\u6B74\u4EE3\u30E1\u30F3\u30D0\u30FC(\u51FA\u5834\u6570)"),E.forEach(i),S=v(R,"DD",{});var D=k(S);J(N.$$.fragment,D),D.forEach(i),R.forEach(i)},m(p,q){C(p,t,q),m(t,n),C(p,e,q),C(p,l,q),m(l,s),m(s,r),m(l,f),Q(a,f,null),m(l,u),m(u,c),m(l,g),Q(B,g,null),h&&h.m(l,null),m(l,y),m(y,T),m(l,S),Q(N,S,null),A=!0},p(p,[q]){const R={};q&1&&(R.date1=p[0].team.first_tournament_date),q&1&&(R.date2=p[0].team.latest_tournament_date),a.$set(R);const L={};q&1&&(L.stats=p[0].team),B.$set(L),p[0].team.names.length>0?h?h.p(p,q):(h=Qe(p),h.c(),h.m(l,y)):h&&(h.d(1),h=null);const Y={};q&1&&(Y.players=Xe(p[0].players,p[0].player_stats)),q&1&&(Y.notes=We(p[0].player_stats)),N.$set(Y)},i(p){A||(w(a.$$.fragment,p),w(B.$$.fragment,p),w(N.$$.fragment,p),A=!0)},o(p){O(a.$$.fragment,p),O(B.$$.fragment,p),O(N.$$.fragment,p),A=!1},d(p){p&&i(t),p&&i(e),p&&i(l),W(a),W(B),h&&h.d(),W(N)}}}function We(o){const t={};for(const n in o)t[n]=o[n].count;return t}function Xe(o,t){return o.slice().sort((n,e)=>t[e].count-t[n].count)}function qt(o,t,n){let e;return ie(o,_e,l=>n(0,e=l)),[e]}class Ft extends he{constructor(t){super(),$e(this,t,qt,Yt,de,{})}}function Ze(o,t,n){const e=o.slice();return e[2]=t[n],e}function xe(o,t,n){const e=o.slice();return e[5]=t[n],e}function et(o,t,n){const e=o.slice();return e[5]=t[n],e}function Ut(o){let t,n,e,l,s,r,f,a,u,c,g,B,y,T,S,N,A,h,p,q,R,L,Y,P,_,E,D,j=o[0].matches,H=[];for(let d=0;d<j.length;d+=1)H[d]=lt(xe(o,j,d));const z=d=>O(H[d],1,1,()=>{H[d]=null});return{c(){t=b("table"),n=b("thead"),e=b("tr"),l=b("th"),s=K("\u30D6\u30E9\u30B1\u30C3\u30C8"),r=F(),f=b("th"),a=K("\u30E9\u30A6\u30F3\u30C9"),u=F(),c=b("th"),g=K("\u52DD\u6557"),B=F(),y=b("th"),T=K("\u30B9\u30B3\u30A2"),S=F(),N=b("th"),A=K("\u5BFE\u6226\u76F8\u624B"),h=F(),p=b("th"),q=K("\u9806\u4F4D"),R=F(),L=b("th"),Y=K("\u30E1\u30F3\u30D0\u30FC"),P=F(),_=b("tbody");for(let d=0;d<H.length;d+=1)H[d].c();E=F(),this.h()},l(d){t=v(d,"TABLE",{});var M=k(t);n=v(M,"THEAD",{});var $=k(n);e=v($,"TR",{});var I=k(e);l=v(I,"TH",{style:!0});var Z=k(l);s=V(Z,"\u30D6\u30E9\u30B1\u30C3\u30C8"),Z.forEach(i),r=U(I),f=v(I,"TH",{style:!0});var x=k(f);a=V(x,"\u30E9\u30A6\u30F3\u30C9"),x.forEach(i),u=U(I),c=v(I,"TH",{style:!0});var ee=k(c);g=V(ee,"\u52DD\u6557"),ee.forEach(i),B=U(I),y=v(I,"TH",{style:!0});var ne=k(y);T=V(ne,"\u30B9\u30B3\u30A2"),ne.forEach(i),S=U(I),N=v(I,"TH",{style:!0});var oe=k(N);A=V(oe,"\u5BFE\u6226\u76F8\u624B"),oe.forEach(i),h=U(I),p=v(I,"TH",{style:!0});var me=k(p);q=V(me,"\u9806\u4F4D"),me.forEach(i),R=U(I),L=v(I,"TH",{style:!0});var ae=k(L);Y=V(ae,"\u30E1\u30F3\u30D0\u30FC"),ae.forEach(i),I.forEach(i),$.forEach(i),P=U(M),_=v(M,"TBODY",{});var He=k(_);for(let Te=0;Te<H.length;Te+=1)H[Te].l(He);He.forEach(i),E=U(M),M.forEach(i),this.h()},h(){re(l,"width","6%"),re(f,"width","6%"),re(c,"width","6%"),re(y,"width","6%"),re(N,"width","23%"),re(N,"text-align","left"),re(p,"width","6%"),re(L,"width","47%"),re(L,"text-align","left")},m(d,M){C(d,t,M),m(t,n),m(n,e),m(e,l),m(l,s),m(e,r),m(e,f),m(f,a),m(e,u),m(e,c),m(c,g),m(e,B),m(e,y),m(y,T),m(e,S),m(e,N),m(N,A),m(e,h),m(e,p),m(p,q),m(e,R),m(e,L),m(L,Y),m(t,P),m(t,_);for(let $=0;$<H.length;$+=1)H[$].m(_,null);m(t,E),D=!0},p(d,M){if(M&1){j=d[0].matches;let $;for($=0;$<j.length;$+=1){const I=xe(d,j,$);H[$]?(H[$].p(I,M),w(H[$],1)):(H[$]=lt(I),H[$].c(),w(H[$],1),H[$].m(_,null))}for(te(),$=j.length;$<H.length;$+=1)z($);le()}},i(d){if(!D){for(let M=0;M<j.length;M+=1)w(H[M]);D=!0}},o(d){H=H.filter(Boolean);for(let M=0;M<H.length;M+=1)O(H[M]);D=!1},d(d){d&&i(t),ue(H,d)}}}function Ct(o){let t,n,e,l,s=o[0].matches,r=[];for(let a=0;a<s.length;a+=1)r[a]=rt(et(o,s,a));const f=a=>O(r[a],1,1,()=>{r[a]=null});return{c(){t=b("table"),n=b("tbody");for(let a=0;a<r.length;a+=1)r[a].c();e=F(),this.h()},l(a){t=v(a,"TABLE",{});var u=k(t);n=v(u,"TBODY",{class:!0});var c=k(n);for(let g=0;g<r.length;g+=1)r[g].l(c);c.forEach(i),e=U(u),u.forEach(i),this.h()},h(){X(n,"class","triple")},m(a,u){C(a,t,u),m(t,n);for(let c=0;c<r.length;c+=1)r[c].m(n,null);m(t,e),l=!0},p(a,u){if(u&1){s=a[0].matches;let c;for(c=0;c<s.length;c+=1){const g=et(a,s,c);r[c]?(r[c].p(g,u),w(r[c],1)):(r[c]=rt(g),r[c].c(),w(r[c],1),r[c].m(n,null))}for(te(),c=s.length;c<r.length;c+=1)f(c);le()}},i(a){if(!l){for(let u=0;u<s.length;u+=1)w(r[u]);l=!0}},o(a){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)O(r[u]);l=!1},d(a){a&&i(t),ue(r,a)}}}function tt(o){let t,n,e=o[5].bracket+"",l,s,r,f=o[5].round+"",a,u,c,g,B,y,T=o[5].score_text+"",S,N,A,h,p,q,R,L,Y,P,_,E;return g=new ct({props:{win:o[5].wl}}),h=new pe({props:{name:o[5].opponent_team_name,current_name:o[5].opponent_team_current_name}}),R=new ge({props:{rank:o[5].opponent_team_rank}}),P=new ce({props:{players:o[5].opponents_list}}),{c(){t=b("tr"),n=b("td"),l=K(e),s=F(),r=b("td"),a=K(f),u=F(),c=b("td"),G(g.$$.fragment),B=F(),y=b("td"),S=K(T),N=F(),A=b("td"),G(h.$$.fragment),p=F(),q=b("td"),G(R.$$.fragment),L=F(),Y=b("td"),G(P.$$.fragment),_=F(),this.h()},l(D){t=v(D,"TR",{});var j=k(t);n=v(j,"TD",{});var H=k(n);l=V(H,e),H.forEach(i),s=U(j),r=v(j,"TD",{});var z=k(r);a=V(z,f),z.forEach(i),u=U(j),c=v(j,"TD",{});var d=k(c);J(g.$$.fragment,d),d.forEach(i),B=U(j),y=v(j,"TD",{});var M=k(y);S=V(M,T),M.forEach(i),N=U(j),A=v(j,"TD",{class:!0});var $=k(A);J(h.$$.fragment,$),$.forEach(i),p=U(j),q=v(j,"TD",{});var I=k(q);J(R.$$.fragment,I),I.forEach(i),L=U(j),Y=v(j,"TD",{class:!0});var Z=k(Y);J(P.$$.fragment,Z),Z.forEach(i),_=U(j),j.forEach(i),this.h()},h(){X(A,"class","tal"),X(Y,"class","tal")},m(D,j){C(D,t,j),m(t,n),m(n,l),m(t,s),m(t,r),m(r,a),m(t,u),m(t,c),Q(g,c,null),m(t,B),m(t,y),m(y,S),m(t,N),m(t,A),Q(h,A,null),m(t,p),m(t,q),Q(R,q,null),m(t,L),m(t,Y),Q(P,Y,null),m(t,_),E=!0},p(D,j){(!E||j&1)&&e!==(e=D[5].bracket+"")&&fe(l,e),(!E||j&1)&&f!==(f=D[5].round+"")&&fe(a,f);const H={};j&1&&(H.win=D[5].wl),g.$set(H),(!E||j&1)&&T!==(T=D[5].score_text+"")&&fe(S,T);const z={};j&1&&(z.name=D[5].opponent_team_name),j&1&&(z.current_name=D[5].opponent_team_current_name),h.$set(z);const d={};j&1&&(d.rank=D[5].opponent_team_rank),R.$set(d);const M={};j&1&&(M.players=D[5].opponents_list),P.$set(M)},i(D){E||(w(g.$$.fragment,D),w(h.$$.fragment,D),w(R.$$.fragment,D),w(P.$$.fragment,D),E=!0)},o(D){O(g.$$.fragment,D),O(h.$$.fragment,D),O(R.$$.fragment,D),O(P.$$.fragment,D),E=!1},d(D){D&&i(t),W(g),W(h),W(R),W(P)}}}function lt(o){let t,n,e=o[5].tnmt_key===o[2].tournament_key&&tt(o);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,s){e&&e.m(l,s),C(l,t,s),n=!0},p(l,s){l[5].tnmt_key===l[2].tournament_key?e?(e.p(l,s),s&1&&w(e,1)):(e=tt(l),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(te(),O(e,1,1,()=>{e=null}),le())},i(l){n||(w(e),n=!0)},o(l){O(e),n=!1},d(l){e&&e.d(l),l&&i(t)}}}function nt(o){let t,n,e=o[5].bracket+"",l,s,r,f,a=o[5].round+"",u,c,g,B,y,T=o[5].score_text+"",S,N,A,h,p,q,R,L,Y,P,_,E,D,j,H,z,d,M;return r=new ve({props:{t:"R "}}),g=new ct({props:{win:o[5].wl}}),p=new ve({props:{t:"vs. "}}),R=new pe({props:{name:o[5].opponent_team_name,current_name:o[5].opponent_team_current_name}}),P=new ve({props:{t:""}}),E=new ge({props:{rank:o[5].opponent_team_rank}}),z=new ce({props:{players:o[5].opponents_list}}),{c(){t=b("tr"),n=b("td"),l=K(e),s=F(),G(r.$$.fragment),f=F(),u=K(a),c=F(),G(g.$$.fragment),B=F(),y=b("td"),S=K(T),N=F(),A=b("tr"),h=b("td"),G(p.$$.fragment),q=F(),G(R.$$.fragment),L=F(),Y=b("td"),G(P.$$.fragment),_=F(),G(E.$$.fragment),D=F(),j=b("tr"),H=b("td"),G(z.$$.fragment),d=F(),this.h()},l($){t=v($,"TR",{});var I=k(t);n=v(I,"TD",{class:!0});var Z=k(n);l=V(Z,e),s=U(Z),J(r.$$.fragment,Z),f=U(Z),u=V(Z,a),c=U(Z),J(g.$$.fragment,Z),Z.forEach(i),B=U(I),y=v(I,"TD",{});var x=k(y);S=V(x,T),x.forEach(i),I.forEach(i),N=U($),A=v($,"TR",{});var ee=k(A);h=v(ee,"TD",{class:!0});var ne=k(h);J(p.$$.fragment,ne),q=U(ne),J(R.$$.fragment,ne),ne.forEach(i),L=U(ee),Y=v(ee,"TD",{});var oe=k(Y);J(P.$$.fragment,oe),_=U(oe),J(E.$$.fragment,oe),oe.forEach(i),ee.forEach(i),D=U($),j=v($,"TR",{});var me=k(j);H=v(me,"TD",{colspan:!0,class:!0,style:!0});var ae=k(H);J(z.$$.fragment,ae),ae.forEach(i),d=U(me),me.forEach(i),this.h()},h(){X(n,"class","tal"),X(h,"class","tal"),X(H,"colspan","2"),X(H,"class","tal"),re(H,"padding-left","1em")},m($,I){C($,t,I),m(t,n),m(n,l),m(n,s),Q(r,n,null),m(n,f),m(n,u),m(n,c),Q(g,n,null),m(t,B),m(t,y),m(y,S),C($,N,I),C($,A,I),m(A,h),Q(p,h,null),m(h,q),Q(R,h,null),m(A,L),m(A,Y),Q(P,Y,null),m(Y,_),Q(E,Y,null),C($,D,I),C($,j,I),m(j,H),Q(z,H,null),m(j,d),M=!0},p($,I){(!M||I&1)&&e!==(e=$[5].bracket+"")&&fe(l,e),(!M||I&1)&&a!==(a=$[5].round+"")&&fe(u,a);const Z={};I&1&&(Z.win=$[5].wl),g.$set(Z),(!M||I&1)&&T!==(T=$[5].score_text+"")&&fe(S,T);const x={};I&1&&(x.name=$[5].opponent_team_name),I&1&&(x.current_name=$[5].opponent_team_current_name),R.$set(x);const ee={};I&1&&(ee.rank=$[5].opponent_team_rank),E.$set(ee);const ne={};I&1&&(ne.players=$[5].opponents_list),z.$set(ne)},i($){M||(w(r.$$.fragment,$),w(g.$$.fragment,$),w(p.$$.fragment,$),w(R.$$.fragment,$),w(P.$$.fragment,$),w(E.$$.fragment,$),w(z.$$.fragment,$),M=!0)},o($){O(r.$$.fragment,$),O(g.$$.fragment,$),O(p.$$.fragment,$),O(R.$$.fragment,$),O(P.$$.fragment,$),O(E.$$.fragment,$),O(z.$$.fragment,$),M=!1},d($){$&&i(t),W(r),W(g),$&&i(N),$&&i(A),W(p),W(R),W(P),W(E),$&&i(D),$&&i(j),W(z)}}}function rt(o){let t,n,e=o[5].tnmt_key===o[2].tournament_key&&nt(o);return{c(){e&&e.c(),t=se()},l(l){e&&e.l(l),t=se()},m(l,s){e&&e.m(l,s),C(l,t,s),n=!0},p(l,s){l[5].tnmt_key===l[2].tournament_key?e?(e.p(l,s),s&1&&w(e,1)):(e=nt(l),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(te(),O(e,1,1,()=>{e=null}),le())},i(l){n||(w(e),n=!0)},o(l){O(e),n=!1},d(l){e&&e.d(l),l&&i(t)}}}function at(o){let t,n,e,l,s,r,f,a,u,c,g,B,y=o[2].name+"",T,S,N,A,h,p,q,R,L,Y,P,_,E,D;n=new _t({props:{name:o[2].tournament_name,key:o[2].tournament_key,official:!1}}),u=new De({props:{date:o[2].tournament_date,spacing:!1}}),h=new ge({props:{rank:o[2].result}}),L=new ce({props:{players:o[2].player_list}});const j=[Ct,Ut],H=[];function z(d,M){return d[1]?0:1}return P=z(o),_=H[P]=j[P](o),{c(){t=b("h3"),G(n.$$.fragment),l=F(),s=b("dl"),r=b("dt"),f=K("\u958B\u50AC\u65E5"),a=b("dd"),G(u.$$.fragment),c=b("dt"),g=K("\u30A8\u30F3\u30C8\u30EA\u30FC\u30C1\u30FC\u30E0\u540D"),B=b("dd"),T=K(y),S=b("dt"),N=K("\u7D50\u679C"),A=b("dd"),G(h.$$.fragment),p=b("dt"),q=K("\u30E1\u30F3\u30D0\u30FC"),R=b("dd"),G(L.$$.fragment),Y=F(),_.c(),E=se(),this.h()},l(d){t=v(d,"H3",{id:!0});var M=k(t);J(n.$$.fragment,M),M.forEach(i),l=U(d),s=v(d,"DL",{});var $=k(s);r=v($,"DT",{});var I=k(r);f=V(I,"\u958B\u50AC\u65E5"),I.forEach(i),a=v($,"DD",{});var Z=k(a);J(u.$$.fragment,Z),Z.forEach(i),c=v($,"DT",{});var x=k(c);g=V(x,"\u30A8\u30F3\u30C8\u30EA\u30FC\u30C1\u30FC\u30E0\u540D"),x.forEach(i),B=v($,"DD",{});var ee=k(B);T=V(ee,y),ee.forEach(i),S=v($,"DT",{});var ne=k(S);N=V(ne,"\u7D50\u679C"),ne.forEach(i),A=v($,"DD",{});var oe=k(A);J(h.$$.fragment,oe),oe.forEach(i),p=v($,"DT",{});var me=k(p);q=V(me,"\u30E1\u30F3\u30D0\u30FC"),me.forEach(i),R=v($,"DD",{});var ae=k(R);J(L.$$.fragment,ae),ae.forEach(i),$.forEach(i),Y=U(d),_.l(d),E=se(),this.h()},h(){X(t,"id",e=o[2].tournament_key)},m(d,M){C(d,t,M),Q(n,t,null),C(d,l,M),C(d,s,M),m(s,r),m(r,f),m(s,a),Q(u,a,null),m(s,c),m(c,g),m(s,B),m(B,T),m(s,S),m(S,N),m(s,A),Q(h,A,null),m(s,p),m(p,q),m(s,R),Q(L,R,null),C(d,Y,M),H[P].m(d,M),C(d,E,M),D=!0},p(d,M){const $={};M&1&&($.name=d[2].tournament_name),M&1&&($.key=d[2].tournament_key),n.$set($),(!D||M&1&&e!==(e=d[2].tournament_key))&&X(t,"id",e);const I={};M&1&&(I.date=d[2].tournament_date),u.$set(I),(!D||M&1)&&y!==(y=d[2].name+"")&&fe(T,y);const Z={};M&1&&(Z.rank=d[2].result),h.$set(Z);const x={};M&1&&(x.players=d[2].player_list),L.$set(x);let ee=P;P=z(d),P===ee?H[P].p(d,M):(te(),O(H[ee],1,1,()=>{H[ee]=null}),le(),_=H[P],_?_.p(d,M):(_=H[P]=j[P](d),_.c()),w(_,1),_.m(E.parentNode,E))},i(d){D||(w(n.$$.fragment,d),w(u.$$.fragment,d),w(h.$$.fragment,d),w(L.$$.fragment,d),w(_),D=!0)},o(d){O(n.$$.fragment,d),O(u.$$.fragment,d),O(h.$$.fragment,d),O(L.$$.fragment,d),O(_),D=!1},d(d){d&&i(t),W(n),d&&i(l),d&&i(s),W(u),W(h),W(L),d&&i(Y),H[P].d(d),d&&i(E)}}}function It(o){let t,n,e=o[0].tournaments,l=[];for(let r=0;r<e.length;r+=1)l[r]=at(Ze(o,e,r));const s=r=>O(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=se()},l(r){for(let f=0;f<l.length;f+=1)l[f].l(r);t=se()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);C(r,t,f),n=!0},p(r,[f]){if(f&3){e=r[0].tournaments;let a;for(a=0;a<e.length;a+=1){const u=Ze(r,e,a);l[a]?(l[a].p(u,f),w(l[a],1)):(l[a]=at(u),l[a].c(),w(l[a],1),l[a].m(t.parentNode,t))}for(te(),a=e.length;a<l.length;a+=1)s(a);le()}},i(r){if(!n){for(let f=0;f<e.length;f+=1)w(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)O(l[f]);n=!1},d(r){ue(l,r),r&&i(t)}}}function Kt(o,t,n){let e,l;return ie(o,_e,s=>n(0,e=s)),ie(o,we,s=>n(1,l=s)),[e,l]}class Vt extends he{constructor(t){super(),$e(this,t,Kt,It,de,{})}}function zt(o){let t,n;return t=new kt({}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},p:it,i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Gt(o){let t,n,e,l=o[3].team.name+"",s,r,f,a,u,c,g,B,y,T,S,N,A,h,p,q;t=new vt({props:{title:o[3].team.name+" : "+o[1],type:"article",url:"team/detail/?t="+o[2],description:""}}),a=new be({props:{current_mode:o[0],mode:"basic",name:"\u57FA\u672C",url:"/team/detail?m="+o[2]+"&mode=basic"}}),c=new be({props:{current_mode:o[0],mode:"tournament",name:"\u5927\u4F1A",url:"/team/detail?m="+o[2]+"&mode=tournament"}}),B=new be({props:{current_mode:o[0],mode:"member",name:"\u30E1\u30F3\u30D0\u30FC",url:"/team/detail?m="+o[2]+"&mode=member"}}),T=new be({props:{current_mode:o[0],mode:"relation",name:"\u95A2\u9023",url:"/team/detail?m="+o[2]+"&mode=relation"}});let R=o[0]==="basic"&&st(),L=o[0]==="tournament"&&ot(),Y=o[0]==="member"&&ft(),P=o[0]==="relation"&&mt();return{c(){G(t.$$.fragment),n=F(),e=b("h1"),s=K(l),r=F(),f=b("div"),G(a.$$.fragment),u=K(` |
    `),G(c.$$.fragment),g=K(` |
    `),G(B.$$.fragment),y=K(` |
    `),G(T.$$.fragment),S=F(),R&&R.c(),N=F(),L&&L.c(),A=F(),Y&&Y.c(),h=F(),P&&P.c(),p=se(),this.h()},l(_){J(t.$$.fragment,_),n=U(_),e=v(_,"H1",{});var E=k(e);s=V(E,l),E.forEach(i),r=U(_),f=v(_,"DIV",{class:!0});var D=k(f);J(a.$$.fragment,D),u=V(D,` |
    `),J(c.$$.fragment,D),g=V(D,` |
    `),J(B.$$.fragment,D),y=V(D,` |
    `),J(T.$$.fragment,D),D.forEach(i),S=U(_),R&&R.l(_),N=U(_),L&&L.l(_),A=U(_),Y&&Y.l(_),h=U(_),P&&P.l(_),p=se(),this.h()},h(){X(f,"class","detail-tab")},m(_,E){Q(t,_,E),C(_,n,E),C(_,e,E),m(e,s),C(_,r,E),C(_,f,E),Q(a,f,null),m(f,u),Q(c,f,null),m(f,g),Q(B,f,null),m(f,y),Q(T,f,null),C(_,S,E),R&&R.m(_,E),C(_,N,E),L&&L.m(_,E),C(_,A,E),Y&&Y.m(_,E),C(_,h,E),P&&P.m(_,E),C(_,p,E),q=!0},p(_,E){const D={};E&10&&(D.title=_[3].team.name+" : "+_[1]),E&4&&(D.url="team/detail/?t="+_[2]),t.$set(D),(!q||E&8)&&l!==(l=_[3].team.name+"")&&fe(s,l);const j={};E&1&&(j.current_mode=_[0]),E&4&&(j.url="/team/detail?m="+_[2]+"&mode=basic"),a.$set(j);const H={};E&1&&(H.current_mode=_[0]),E&4&&(H.url="/team/detail?m="+_[2]+"&mode=tournament"),c.$set(H);const z={};E&1&&(z.current_mode=_[0]),E&4&&(z.url="/team/detail?m="+_[2]+"&mode=member"),B.$set(z);const d={};E&1&&(d.current_mode=_[0]),E&4&&(d.url="/team/detail?m="+_[2]+"&mode=relation"),T.$set(d),_[0]==="basic"?R?E&1&&w(R,1):(R=st(),R.c(),w(R,1),R.m(N.parentNode,N)):R&&(te(),O(R,1,1,()=>{R=null}),le()),_[0]==="tournament"?L?E&1&&w(L,1):(L=ot(),L.c(),w(L,1),L.m(A.parentNode,A)):L&&(te(),O(L,1,1,()=>{L=null}),le()),_[0]==="member"?Y?E&1&&w(Y,1):(Y=ft(),Y.c(),w(Y,1),Y.m(h.parentNode,h)):Y&&(te(),O(Y,1,1,()=>{Y=null}),le()),_[0]==="relation"?P?E&1&&w(P,1):(P=mt(),P.c(),w(P,1),P.m(p.parentNode,p)):P&&(te(),O(P,1,1,()=>{P=null}),le())},i(_){q||(w(t.$$.fragment,_),w(a.$$.fragment,_),w(c.$$.fragment,_),w(B.$$.fragment,_),w(T.$$.fragment,_),w(R),w(L),w(Y),w(P),q=!0)},o(_){O(t.$$.fragment,_),O(a.$$.fragment,_),O(c.$$.fragment,_),O(B.$$.fragment,_),O(T.$$.fragment,_),O(R),O(L),O(Y),O(P),q=!1},d(_){W(t,_),_&&i(n),_&&i(e),_&&i(r),_&&i(f),W(a),W(c),W(B),W(T),_&&i(S),R&&R.d(_),_&&i(N),L&&L.d(_),_&&i(A),Y&&Y.d(_),_&&i(h),P&&P.d(_),_&&i(p)}}}function st(o){let t,n;return t=new Ft({}),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,l){Q(t,e,l),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function ot(o){let t,n,e,l,s,r,f;return l=new Nt({}),r=new Vt({}),{c(){t=b("h2"),n=K("\u53C2\u52A0\u5927\u4F1A"),e=F(),G(l.$$.fragment),s=F(),G(r.$$.fragment)},l(a){t=v(a,"H2",{});var u=k(t);n=V(u,"\u53C2\u52A0\u5927\u4F1A"),u.forEach(i),e=U(a),J(l.$$.fragment,a),s=U(a),J(r.$$.fragment,a)},m(a,u){C(a,t,u),m(t,n),C(a,e,u),Q(l,a,u),C(a,s,u),Q(r,a,u),f=!0},i(a){f||(w(l.$$.fragment,a),w(r.$$.fragment,a),f=!0)},o(a){O(l.$$.fragment,a),O(r.$$.fragment,a),f=!1},d(a){a&&i(t),a&&i(e),W(l,a),a&&i(s),W(r,a)}}}function ft(o){let t,n,e,l,s;return l=new Mt({}),{c(){t=b("h2"),n=K("\u30E1\u30F3\u30D0\u30FC"),e=F(),G(l.$$.fragment)},l(r){t=v(r,"H2",{});var f=k(t);n=V(f,"\u30E1\u30F3\u30D0\u30FC"),f.forEach(i),e=U(r),J(l.$$.fragment,r)},m(r,f){C(r,t,f),m(t,n),C(r,e,f),Q(l,r,f),s=!0},i(r){s||(w(l.$$.fragment,r),s=!0)},o(r){O(l.$$.fragment,r),s=!1},d(r){r&&i(t),r&&i(e),W(l,r)}}}function mt(o){let t,n,e,l,s;return l=new St({}),{c(){t=b("h2"),n=K("\u95A2\u9023"),e=F(),G(l.$$.fragment)},l(r){t=v(r,"H2",{});var f=k(t);n=V(f,"\u95A2\u9023"),f.forEach(i),e=U(r),J(l.$$.fragment,r)},m(r,f){C(r,t,f),m(t,n),C(r,e,f),Q(l,r,f),s=!0},i(r){s||(w(l.$$.fragment,r),s=!0)},o(r){O(l.$$.fragment,r),s=!1},d(r){r&&i(t),r&&i(e),W(l,r)}}}function Jt(o){let t,n,e,l;const s=[Gt,zt],r=[];function f(a,u){return a[3]?0:1}return t=f(o),n=r[t]=s[t](o),{c(){n.c(),e=se()},l(a){n.l(a),e=se()},m(a,u){r[t].m(a,u),C(a,e,u),l=!0},p(a,[u]){let c=t;t=f(a),t===c?r[t].p(a,u):(te(),O(r[c],1,1,()=>{r[c]=null}),le(),n=r[t],n?n.p(a,u):(n=r[t]=s[t](a),n.c()),w(n,1),n.m(e.parentNode,e))},i(a){l||(w(n),l=!0)},o(a){O(n),l=!1},d(a){r[t].d(a),a&&i(e)}}}function Qt(o,t,n){let e,l,s;ie(o,Ne,u=>n(2,l=u)),ie(o,_e,u=>n(3,s=u));let r="basic";gt(()=>{a(null)});async function f(u){Be("team/team_aliases.json").then(c=>c.json()).then(c=>{a(c[u])}).catch(()=>[])}async function a(u){n(0,r=dt("basic","mode"));const c=pt(u,"m");l===c||c===null||(_e.set(null),Ne.set(c),Be(`team/${l}.json`).then(g=>{if([403,404].indexOf(g.status)!==-1)throw new Error("NOT FOUND");return g.json()}).then(g=>{Tt(g)}).catch(g=>{g.message==="NOT FOUND"&&u===null&&f(l)}))}return o.$$.update=()=>{o.$$.dirty&1&&n(1,e={basic:"\u57FA\u672C",tournament:"\u5927\u4F1A",member:"\u30E1\u30F3\u30D0\u30FC",relation:"\u95A2\u9023"}[r])},[r,e,l,s]}class _l extends he{constructor(t){super(),$e(this,t,Qt,Jt,de,{})}}export{_l as default};
