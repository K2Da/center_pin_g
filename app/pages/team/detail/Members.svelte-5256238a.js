import{S as pe,i as de,s as ge,e as b,k as N,t as F,c as y,a as T,d as p,m as S,h as G,b as Y,f as I,g as z,H as c,q as k,w as V,x as W,y as X,o as H,B as Z,p as J,j as $e,Q as U,l as ae,M as ve,n as K}from"../../../chunks/vendor-96e95496.js";import{a as be}from"../../../chunks/index_store-e18aa26d.js";import{P as ye}from"../../../chunks/PlayerName-ba84072c.js";import{T as Te}from"../../../chunks/TournamentName-d9d098a2.js";import{T as ke}from"../../../chunks/TeamName-33c9c422.js";import"../../../chunks/paths-4b3c6e7e.js";import"../../../chunks/util-4543d778.js";function ne(o,t,l){const e=o.slice();return e[1]=t[l],e}function re(o,t,l){const e=o.slice();return e[4]=t[l],e}function oe(o,t,l){const e=o.slice();return e[4]=t[l],e[8]=l,e}function se(o){let t,l,e,a,f,v,q,A,M,d,L,O,E,g,_,s,h,w,$,D,R,j=o[0].reversed_tournaments,m=[];for(let r=0;r<j.length;r+=1)m[r]=fe(oe(o,j,r));const me=r=>H(m[r],1,1,()=>{m[r]=null});let C=o[0].players,u=[];for(let r=0;r<C.length;r+=1)u[r]=_e(ne(o,C,r));const ue=r=>H(u[r],1,1,()=>{u[r]=null});return{c(){t=b("table"),l=b("thead"),e=b("tr"),a=b("th"),f=N(),v=b("th"),q=F("\u53C2\u52A0\u5927\u4F1A#"),M=N(),d=b("tr"),L=b("th"),O=N(),E=b("th"),g=F("rating"),_=N();for(let r=0;r<m.length;r+=1)m[r].c();s=N(),h=b("th"),w=F("\u6700\u65B0\u30C1\u30FC\u30E0"),$=N(),D=b("tbody");for(let r=0;r<u.length;r+=1)u[r].c();this.h()},l(r){t=y(r,"TABLE",{style:!0});var i=T(t);l=y(i,"THEAD",{});var n=T(l);e=y(n,"TR",{});var B=T(e);a=y(B,"TH",{colspan:!0}),T(a).forEach(p),f=S(B),v=y(B,"TH",{colspan:!0,class:!0});var x=T(v);q=G(x,"\u53C2\u52A0\u5927\u4F1A#"),x.forEach(p),B.forEach(p),M=S(n),d=y(n,"TR",{});var P=T(d);L=y(P,"TH",{style:!0}),T(L).forEach(p),O=S(P),E=y(P,"TH",{style:!0});var ee=T(E);g=G(ee,"rating"),ee.forEach(p),_=S(P);for(let Q=0;Q<m.length;Q+=1)m[Q].l(P);s=S(P),h=y(P,"TH",{class:!0});var te=T(h);w=G(te,"\u6700\u65B0\u30C1\u30FC\u30E0"),te.forEach(p),P.forEach(p),n.forEach(p),$=S(i),D=y(i,"TBODY",{});var le=T(D);for(let Q=0;Q<u.length;Q+=1)u[Q].l(le);le.forEach(p),i.forEach(p),this.h()},h(){Y(a,"colspan","2"),Y(v,"colspan",A=o[0].reversed_tournaments.length+1),Y(v,"class","tal"),I(L,"width","10em"),I(E,"width","5em"),Y(h,"class","tal"),I(t,"width","100%")},m(r,i){z(r,t,i),c(t,l),c(l,e),c(e,a),c(e,f),c(e,v),c(v,q),c(l,M),c(l,d),c(d,L),c(d,O),c(d,E),c(E,g),c(d,_);for(let n=0;n<m.length;n+=1)m[n].m(d,null);c(d,s),c(d,h),c(h,w),c(t,$),c(t,D);for(let n=0;n<u.length;n+=1)u[n].m(D,null);R=!0},p(r,i){if((!R||i&1&&A!==(A=r[0].reversed_tournaments.length+1))&&Y(v,"colspan",A),i&1){j=r[0].reversed_tournaments;let n;for(n=0;n<j.length;n+=1){const B=oe(r,j,n);m[n]?(m[n].p(B,i),k(m[n],1)):(m[n]=fe(B),m[n].c(),k(m[n],1),m[n].m(d,s))}for(K(),n=j.length;n<m.length;n+=1)me(n);J()}if(i&1){C=r[0].players;let n;for(n=0;n<C.length;n+=1){const B=ne(r,C,n);u[n]?(u[n].p(B,i),k(u[n],1)):(u[n]=_e(B),u[n].c(),k(u[n],1),u[n].m(D,null))}for(K(),n=C.length;n<u.length;n+=1)ue(n);J()}},i(r){if(!R){for(let i=0;i<j.length;i+=1)k(m[i]);for(let i=0;i<C.length;i+=1)k(u[i]);R=!0}},o(r){m=m.filter(Boolean);for(let i=0;i<m.length;i+=1)H(m[i]);u=u.filter(Boolean);for(let i=0;i<u.length;i+=1)H(u[i]);R=!1},d(r){r&&p(t),U(m,r),U(u,r)}}}function fe(o){let t,l,e;return l=new Te({props:{name:o[0].reversed_tournaments.length-o[8],key:o[4].tournament_key,official:!1}}),{c(){t=b("th"),V(l.$$.fragment),this.h()},l(a){t=y(a,"TH",{style:!0});var f=T(t);W(l.$$.fragment,f),f.forEach(p),this.h()},h(){I(t,"width","2em")},m(a,f){z(a,t,f),X(l,t,null),e=!0},p(a,f){const v={};f&1&&(v.name=a[0].reversed_tournaments.length-a[8]),f&1&&(v.key=a[4].tournament_key),l.$set(v)},i(a){e||(k(l.$$.fragment,a),e=!0)},o(a){H(l.$$.fragment,a),e=!1},d(a){a&&p(t),Z(l)}}}function ie(o){let t;return{c(){t=F("\u279C")},l(l){t=G(l,"\u279C")},m(l,e){z(l,t,e)},d(l){l&&p(t)}}}function ce(o){let t,l=o[4].player_list.indexOf(o[1])!==-1,e=l&&ie();return{c(){t=b("td"),e&&e.c()},l(a){t=y(a,"TD",{});var f=T(t);e&&e.l(f),f.forEach(p)},m(a,f){z(a,t,f),e&&e.m(t,null)},p(a,f){f&1&&(l=a[4].player_list.indexOf(a[1])!==-1),l?e||(e=ie(),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(a){a&&p(t),e&&e.d()}}}function he(o){let t,l;return t=new ke({props:{name:o[0].player_info[o[1]].latest_team}}),{c(){V(t.$$.fragment)},l(e){W(t.$$.fragment,e)},m(e,a){X(t,e,a),l=!0},p(e,a){const f={};a&1&&(f.name=e[0].player_info[e[1]].latest_team),t.$set(f)},i(e){l||(k(t.$$.fragment,e),l=!0)},o(e){H(t.$$.fragment,e),l=!1},d(e){Z(t,e)}}}function _e(o){let t,l,e,a,f,v=o[0].player_info[o[1]].rating.toLocaleString()+"",q,A,M,d,L,O;e=new ye({props:{name:o[1]}});let E=o[0].reversed_tournaments,g=[];for(let s=0;s<E.length;s+=1)g[s]=ce(re(o,E,s));let _=o[0].player_info[o[1]].latest_team!==o[0].team.name&&he(o);return{c(){t=b("tr"),l=b("td"),V(e.$$.fragment),a=N(),f=b("td"),q=F(v),A=N();for(let s=0;s<g.length;s+=1)g[s].c();M=N(),d=b("td"),_&&_.c(),L=N(),this.h()},l(s){t=y(s,"TR",{});var h=T(t);l=y(h,"TD",{class:!0});var w=T(l);W(e.$$.fragment,w),w.forEach(p),a=S(h),f=y(h,"TD",{});var $=T(f);q=G($,v),$.forEach(p),A=S(h);for(let R=0;R<g.length;R+=1)g[R].l(h);M=S(h),d=y(h,"TD",{class:!0});var D=T(d);_&&_.l(D),D.forEach(p),L=S(h),h.forEach(p),this.h()},h(){Y(l,"class","tal"),Y(d,"class","tal nw")},m(s,h){z(s,t,h),c(t,l),X(e,l,null),c(t,a),c(t,f),c(f,q),c(t,A);for(let w=0;w<g.length;w+=1)g[w].m(t,null);c(t,M),c(t,d),_&&_.m(d,null),c(t,L),O=!0},p(s,h){const w={};if(h&1&&(w.name=s[1]),e.$set(w),(!O||h&1)&&v!==(v=s[0].player_info[s[1]].rating.toLocaleString()+"")&&$e(q,v),h&1){E=s[0].reversed_tournaments;let $;for($=0;$<E.length;$+=1){const D=re(s,E,$);g[$]?g[$].p(D,h):(g[$]=ce(D),g[$].c(),g[$].m(t,M))}for(;$<g.length;$+=1)g[$].d(1);g.length=E.length}s[0].player_info[s[1]].latest_team!==s[0].team.name?_?(_.p(s,h),h&1&&k(_,1)):(_=he(s),_.c(),k(_,1),_.m(d,null)):_&&(K(),H(_,1,1,()=>{_=null}),J())},i(s){O||(k(e.$$.fragment,s),k(_),O=!0)},o(s){H(e.$$.fragment,s),H(_),O=!1},d(s){s&&p(t),Z(e),U(g,s),_&&_.d()}}}function Ee(o){let t,l,e=o[0]&&se(o);return{c(){e&&e.c(),t=ae()},l(a){e&&e.l(a),t=ae()},m(a,f){e&&e.m(a,f),z(a,t,f),l=!0},p(a,[f]){a[0]?e?(e.p(a,f),f&1&&k(e,1)):(e=se(a),e.c(),k(e,1),e.m(t.parentNode,t)):e&&(K(),H(e,1,1,()=>{e=null}),J())},i(a){l||(k(e),l=!0)},o(a){H(e),l=!1},d(a){e&&e.d(a),a&&p(t)}}}function we(o,t,l){let e;return ve(o,be,a=>l(0,e=a)),[e]}class Re extends pe{constructor(t){super();de(this,t,we,Ee,ge,{})}}export{Re as default};
