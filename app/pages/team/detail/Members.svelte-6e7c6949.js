import{S as Q,i as U,s as V,e as b,t as F,c as v,a as $,g as K,d as _,b as q,f as R,F as d,h as me,M as W,j as D,l as j,O as L,p as y,v as X,w as Z,x,n as H,A as ee,o as Y,P as z,k as te,K as de,m as G}from"../../../chunks/vendor-183b23ac.js";import{a as pe}from"../../../chunks/index_store-bc6b09eb.js";import{b as le}from"../../../chunks/paths-28a87002.js";import{s as ne}from"../../../chunks/util-f29b5fc7.js";import{T as ge}from"../../../chunks/TournamentName-2fd546dc.js";function be(s){let t,n,e;return{c(){t=b("a"),n=F(s[0]),this.h()},l(l){t=v(l,"A",{href:!0});var o=$(t);n=K(o,s[0]),o.forEach(_),this.h()},h(){q(t,"href",e=""+(le+"/player/detail/?p="+ne(s[0])))},m(l,o){R(l,t,o),d(t,n)},p(l,[o]){o&1&&me(n,l[0]),o&1&&e!==(e=""+(le+"/player/detail/?p="+ne(l[0])))&&q(t,"href",e)},i:W,o:W,d(l){l&&_(t)}}}function ve(s,t,n){let{player:e}=t;return s.$$set=l=>{"player"in l&&n(0,e=l.player)},[e]}class $e extends Q{constructor(t){super();U(this,t,ve,be,V,{player:0})}}function re(s,t,n){const e=s.slice();return e[1]=t[n],e}function ae(s,t,n){const e=s.slice();return e[4]=t[n],e}function oe(s,t,n){const e=s.slice();return e[4]=t[n],e[8]=n,e}function se(s){let t,n,e,l,o,p,A,w,E,i,c,g,k,m,M,P,C,B=s[0].reversed_tournaments,h=[];for(let a=0;a<B.length;a+=1)h[a]=ce(oe(s,B,a));const ue=a=>H(h[a],1,1,()=>{h[a]=null});let N=s[0].players,u=[];for(let a=0;a<N.length;a+=1)u[a]=he(re(s,N,a));const _e=a=>H(u[a],1,1,()=>{u[a]=null});return{c(){t=b("table"),n=b("thead"),e=b("tr"),l=b("th"),o=D(),p=b("th"),A=F("\u53C2\u52A0\u5927\u4F1A#"),E=D(),i=b("tr"),c=b("th"),g=D();for(let a=0;a<h.length;a+=1)h[a].c();k=D(),m=b("th"),M=D(),P=b("tbody");for(let a=0;a<u.length;a+=1)u[a].c();this.h()},l(a){t=v(a,"TABLE",{style:!0});var f=$(t);n=v(f,"THEAD",{});var r=$(n);e=v(r,"TR",{});var T=$(e);l=v(T,"TH",{}),$(l).forEach(_),o=j(T),p=v(T,"TH",{colspan:!0,class:!0});var I=$(p);A=K(I,"\u53C2\u52A0\u5927\u4F1A#"),I.forEach(_),T.forEach(_),E=j(r),i=v(r,"TR",{});var S=$(i);c=v(S,"TH",{style:!0}),$(c).forEach(_),g=j(S);for(let O=0;O<h.length;O+=1)h[O].l(S);k=j(S),m=v(S,"TH",{}),$(m).forEach(_),S.forEach(_),r.forEach(_),M=j(f),P=v(f,"TBODY",{});var J=$(P);for(let O=0;O<u.length;O+=1)u[O].l(J);J.forEach(_),f.forEach(_),this.h()},h(){q(p,"colspan",w=s[0].reversed_tournaments.length+1),q(p,"class","tal"),L(c,"width","10em"),L(t,"width","100%")},m(a,f){R(a,t,f),d(t,n),d(n,e),d(e,l),d(e,o),d(e,p),d(p,A),d(n,E),d(n,i),d(i,c),d(i,g);for(let r=0;r<h.length;r+=1)h[r].m(i,null);d(i,k),d(i,m),d(t,M),d(t,P);for(let r=0;r<u.length;r+=1)u[r].m(P,null);C=!0},p(a,f){if((!C||f&1&&w!==(w=a[0].reversed_tournaments.length+1))&&q(p,"colspan",w),f&1){B=a[0].reversed_tournaments;let r;for(r=0;r<B.length;r+=1){const T=oe(a,B,r);h[r]?(h[r].p(T,f),y(h[r],1)):(h[r]=ce(T),h[r].c(),y(h[r],1),h[r].m(i,k))}for(G(),r=B.length;r<h.length;r+=1)ue(r);Y()}if(f&1){N=a[0].players;let r;for(r=0;r<N.length;r+=1){const T=re(a,N,r);u[r]?(u[r].p(T,f),y(u[r],1)):(u[r]=he(T),u[r].c(),y(u[r],1),u[r].m(P,null))}for(G(),r=N.length;r<u.length;r+=1)_e(r);Y()}},i(a){if(!C){for(let f=0;f<B.length;f+=1)y(h[f]);for(let f=0;f<N.length;f+=1)y(u[f]);C=!0}},o(a){h=h.filter(Boolean);for(let f=0;f<h.length;f+=1)H(h[f]);u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)H(u[f]);C=!1},d(a){a&&_(t),z(h,a),z(u,a)}}}function ce(s){let t,n,e;return n=new ge({props:{name:s[0].reversed_tournaments.length-s[8],key:s[4].tournament_key}}),{c(){t=b("th"),X(n.$$.fragment),this.h()},l(l){t=v(l,"TH",{style:!0});var o=$(t);Z(n.$$.fragment,o),o.forEach(_),this.h()},h(){L(t,"width","2em")},m(l,o){R(l,t,o),x(n,t,null),e=!0},p(l,o){const p={};o&1&&(p.name=l[0].reversed_tournaments.length-l[8]),o&1&&(p.key=l[4].tournament_key),n.$set(p)},i(l){e||(y(n.$$.fragment,l),e=!0)},o(l){H(n.$$.fragment,l),e=!1},d(l){l&&_(t),ee(n)}}}function fe(s){let t;return{c(){t=F("\u279C")},l(n){t=K(n,"\u279C")},m(n,e){R(n,t,e)},d(n){n&&_(t)}}}function ie(s){let t,n=s[4].player_list.indexOf(s[1])!==-1,e=n&&fe();return{c(){t=b("td"),e&&e.c()},l(l){t=v(l,"TD",{});var o=$(t);e&&e.l(o),o.forEach(_)},m(l,o){R(l,t,o),e&&e.m(t,null)},p(l,o){o&1&&(n=l[4].player_list.indexOf(l[1])!==-1),n?e||(e=fe(),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(l){l&&_(t),e&&e.d()}}}function he(s){let t,n,e,l,o,p,A,w;e=new $e({props:{player:s[1]}});let E=s[0].reversed_tournaments,i=[];for(let c=0;c<E.length;c+=1)i[c]=ie(ae(s,E,c));return{c(){t=b("tr"),n=b("td"),X(e.$$.fragment),l=D();for(let c=0;c<i.length;c+=1)i[c].c();o=D(),p=b("td"),A=D(),this.h()},l(c){t=v(c,"TR",{});var g=$(t);n=v(g,"TD",{class:!0});var k=$(n);Z(e.$$.fragment,k),k.forEach(_),l=j(g);for(let m=0;m<i.length;m+=1)i[m].l(g);o=j(g),p=v(g,"TD",{}),$(p).forEach(_),A=j(g),g.forEach(_),this.h()},h(){q(n,"class","tal")},m(c,g){R(c,t,g),d(t,n),x(e,n,null),d(t,l);for(let k=0;k<i.length;k+=1)i[k].m(t,null);d(t,o),d(t,p),d(t,A),w=!0},p(c,g){const k={};if(g&1&&(k.player=c[1]),e.$set(k),g&1){E=c[0].reversed_tournaments;let m;for(m=0;m<E.length;m+=1){const M=ae(c,E,m);i[m]?i[m].p(M,g):(i[m]=ie(M),i[m].c(),i[m].m(t,o))}for(;m<i.length;m+=1)i[m].d(1);i.length=E.length}},i(c){w||(y(e.$$.fragment,c),w=!0)},o(c){H(e.$$.fragment,c),w=!1},d(c){c&&_(t),ee(e),z(i,c)}}}function ke(s){let t,n,e=s[0]&&se(s);return{c(){e&&e.c(),t=te()},l(l){e&&e.l(l),t=te()},m(l,o){e&&e.m(l,o),R(l,t,o),n=!0},p(l,[o]){l[0]?e?(e.p(l,o),o&1&&y(e,1)):(e=se(l),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(G(),H(e,1,1,()=>{e=null}),Y())},i(l){n||(y(e),n=!0)},o(l){H(e),n=!1},d(l){e&&e.d(l),l&&_(t)}}}function ye(s,t,n){let e;return de(s,pe,l=>n(0,e=l)),[e]}class He extends Q{constructor(t){super();U(this,t,ye,ke,V,{})}}export{He as default};
