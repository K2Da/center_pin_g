import{S as q,i as C,s as F,e as y,t as K,c as $,a as v,g as L,d as m,b as N,f as A,F as d,h as ae,M as Y,j as B,l as H,O,p as E,v as z,w as G,x as I,n as D,A as J,o as M,P,k as Q,K as oe,m as R}from"../../../chunks/vendor-183b23ac.js";import{T as se,a as fe}from"../../../chunks/TournamentName-236fa97f.js";import{b as U}from"../../../chunks/paths-28a87002.js";import{s as V}from"../../../chunks/util-f29b5fc7.js";function ie(f){let t,n,e;return{c(){t=y("a"),n=K(f[0]),this.h()},l(l){t=$(l,"A",{href:!0});var o=v(t);n=L(o,f[0]),o.forEach(m),this.h()},h(){N(t,"href",e=""+(U+"/player/detail/?p="+V(f[0])))},m(l,o){A(l,t,o),d(t,n)},p(l,[o]){o&1&&ae(n,l[0]),o&1&&e!==(e=""+(U+"/player/detail/?p="+V(l[0])))&&N(t,"href",e)},i:Y,o:Y,d(l){l&&m(t)}}}function ce(f,t,n){let{player:e}=t;return f.$$set=l=>{"player"in l&&n(0,e=l.player)},[e]}class he extends q{constructor(t){super();C(this,t,ce,ie,F,{player:0})}}function W(f,t,n){const e=f.slice();return e[1]=t[n],e}function X(f,t,n){const e=f.slice();return e[4]=t[n],e}function Z(f,t,n){const e=f.slice();return e[4]=t[n],e[8]=n,e}function x(f){let t,n,e,l,o,p,T,w,g,_,i=f[0].reversed_tournaments,s=[];for(let a=0;a<i.length;a+=1)s[a]=ee(Z(f,i,a));const k=a=>D(s[a],1,1,()=>{s[a]=null});let u=f[0].players,h=[];for(let a=0;a<u.length;a+=1)h[a]=ne(W(f,u,a));const re=a=>D(h[a],1,1,()=>{h[a]=null});return{c(){t=y("table"),n=y("thead"),e=y("tr"),l=y("th"),o=B();for(let a=0;a<s.length;a+=1)s[a].c();p=B(),T=y("th"),w=B(),g=y("tbody");for(let a=0;a<h.length;a+=1)h[a].c();this.h()},l(a){t=$(a,"TABLE",{style:!0});var c=v(t);n=$(c,"THEAD",{});var r=v(n);e=$(r,"TR",{});var b=v(e);l=$(b,"TH",{style:!0}),v(l).forEach(m),o=H(b);for(let j=0;j<s.length;j+=1)s[j].l(b);p=H(b),T=$(b,"TH",{}),v(T).forEach(m),b.forEach(m),r.forEach(m),w=H(c),g=$(c,"TBODY",{});var S=v(g);for(let j=0;j<h.length;j+=1)h[j].l(S);S.forEach(m),c.forEach(m),this.h()},h(){O(l,"width","10em"),O(t,"width","100%")},m(a,c){A(a,t,c),d(t,n),d(n,e),d(e,l),d(e,o);for(let r=0;r<s.length;r+=1)s[r].m(e,null);d(e,p),d(e,T),d(t,w),d(t,g);for(let r=0;r<h.length;r+=1)h[r].m(g,null);_=!0},p(a,c){if(c&1){i=a[0].reversed_tournaments;let r;for(r=0;r<i.length;r+=1){const b=Z(a,i,r);s[r]?(s[r].p(b,c),E(s[r],1)):(s[r]=ee(b),s[r].c(),E(s[r],1),s[r].m(e,p))}for(R(),r=i.length;r<s.length;r+=1)k(r);M()}if(c&1){u=a[0].players;let r;for(r=0;r<u.length;r+=1){const b=W(a,u,r);h[r]?(h[r].p(b,c),E(h[r],1)):(h[r]=ne(b),h[r].c(),E(h[r],1),h[r].m(g,null))}for(R(),r=u.length;r<h.length;r+=1)re(r);M()}},i(a){if(!_){for(let c=0;c<i.length;c+=1)E(s[c]);for(let c=0;c<u.length;c+=1)E(h[c]);_=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)D(s[c]);h=h.filter(Boolean);for(let c=0;c<h.length;c+=1)D(h[c]);_=!1},d(a){a&&m(t),P(s,a),P(h,a)}}}function ee(f){let t,n,e;return n=new se({props:{name:f[0].reversed_tournaments.length-f[8],key:f[4].tournament_key}}),{c(){t=y("th"),z(n.$$.fragment),this.h()},l(l){t=$(l,"TH",{style:!0});var o=v(t);G(n.$$.fragment,o),o.forEach(m),this.h()},h(){O(t,"width","2em")},m(l,o){A(l,t,o),I(n,t,null),e=!0},p(l,o){const p={};o&1&&(p.name=l[0].reversed_tournaments.length-l[8]),o&1&&(p.key=l[4].tournament_key),n.$set(p)},i(l){e||(E(n.$$.fragment,l),e=!0)},o(l){D(n.$$.fragment,l),e=!1},d(l){l&&m(t),J(n)}}}function te(f){let t;return{c(){t=K("\u279C")},l(n){t=L(n,"\u279C")},m(n,e){A(n,t,e)},d(n){n&&m(t)}}}function le(f){let t,n=f[4].player_list.indexOf(f[1])!==-1,e=n&&te();return{c(){t=y("td"),e&&e.c()},l(l){t=$(l,"TD",{});var o=v(t);e&&e.l(o),o.forEach(m)},m(l,o){A(l,t,o),e&&e.m(t,null)},p(l,o){o&1&&(n=l[4].player_list.indexOf(l[1])!==-1),n?e||(e=te(),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(l){l&&m(t),e&&e.d()}}}function ne(f){let t,n,e,l,o,p,T,w;e=new he({props:{player:f[1]}});let g=f[0].reversed_tournaments,_=[];for(let i=0;i<g.length;i+=1)_[i]=le(X(f,g,i));return{c(){t=y("tr"),n=y("td"),z(e.$$.fragment),l=B();for(let i=0;i<_.length;i+=1)_[i].c();o=B(),p=y("td"),T=B(),this.h()},l(i){t=$(i,"TR",{});var s=v(t);n=$(s,"TD",{class:!0});var k=v(n);G(e.$$.fragment,k),k.forEach(m),l=H(s);for(let u=0;u<_.length;u+=1)_[u].l(s);o=H(s),p=$(s,"TD",{}),v(p).forEach(m),T=H(s),s.forEach(m),this.h()},h(){N(n,"class","tal")},m(i,s){A(i,t,s),d(t,n),I(e,n,null),d(t,l);for(let k=0;k<_.length;k+=1)_[k].m(t,null);d(t,o),d(t,p),d(t,T),w=!0},p(i,s){const k={};if(s&1&&(k.player=i[1]),e.$set(k),s&1){g=i[0].reversed_tournaments;let u;for(u=0;u<g.length;u+=1){const h=X(i,g,u);_[u]?_[u].p(h,s):(_[u]=le(h),_[u].c(),_[u].m(t,o))}for(;u<_.length;u+=1)_[u].d(1);_.length=g.length}},i(i){w||(E(e.$$.fragment,i),w=!0)},o(i){D(e.$$.fragment,i),w=!1},d(i){i&&m(t),J(e),P(_,i)}}}function ue(f){let t,n,e=f[0]&&x(f);return{c(){e&&e.c(),t=Q()},l(l){e&&e.l(l),t=Q()},m(l,o){e&&e.m(l,o),A(l,t,o),n=!0},p(l,[o]){l[0]?e?(e.p(l,o),o&1&&E(e,1)):(e=x(l),e.c(),E(e,1),e.m(t.parentNode,t)):e&&(R(),D(e,1,1,()=>{e=null}),M())},i(l){n||(E(e),n=!0)},o(l){D(e),n=!1},d(l){e&&e.d(l),l&&m(t)}}}function _e(f,t,n){let e;return oe(f,fe,l=>n(0,e=l)),[e]}class be extends q{constructor(t){super();C(this,t,_e,ue,F,{})}}export{be as default};
