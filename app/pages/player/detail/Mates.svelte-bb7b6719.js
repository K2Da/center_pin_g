import{N as J,S as P,i as Q,s as U,e as g,j as M,t as w,c as E,a as y,d as p,l as R,g as D,b as C,f as q,E as c,h as I,M as K,I as L,K as V}from"../../../chunks/vendor-a3d98bb7.js";import{a as W}from"../../../chunks/index_store-dc25fb6c.js";import{b as N}from"../../../chunks/paths-28a87002.js";import{s as Y}from"../../../chunks/util-f29b5fc7.js";const X=J(W,h=>{if(h==null)return[];const t={},l=[];for(const o of h.tournaments){const r={key:o.tournament_key,win:0,lose:0};for(const e of h.matches)e.tnmt_key===o.tournament_key&&(e.opponent_team_key===e.loser_key?r.win+=1:r.lose+=1);for(const e of o.mate_list)t[e]===void 0?t[e]={name:e,tournaments:[o.tournament_key]}:t[e].tournaments.push(o.tournament_key);l.push(r)}const a=Object.values(t);return[...new Set(Object.values(t).map(o=>o.tournaments.join("	")))].map(o=>o.split("	")).sort((o,r)=>r.length-o.length).map(o=>{const r=l.filter(e=>o.includes(e.key));return{names:a.filter(e=>e.tournaments.sort().join("	")===o.sort().join("	")).map(e=>e.name),entry:o.length,win:r.reduce((e,_)=>e+_.win,0),lose:r.reduce((e,_)=>e+_.lose,0)}})});function $(h,t,l){const a=h.slice();return a[1]=t[l],a}function z(h,t,l){const a=h.slice();return a[4]=t[l],a[6]=l,a}function Z(h){let t;return{c(){t=w(",")},l(l){t=D(l,",")},m(l,a){q(l,t,a)},d(l){l&&p(t)}}}function F(h){let t,l,a=h[4]+"",u,o,r=h[6]>0&&Z();return{c(){r&&r.c(),t=M(),l=g("a"),u=w(a),this.h()},l(e){r&&r.l(e),t=R(e),l=E(e,"A",{href:!0});var _=y(l);u=D(_,a),_.forEach(p),this.h()},h(){C(l,"href",o=""+(N+"/player/detail/?p="+Y(h[4])))},m(e,_){r&&r.m(e,_),q(e,t,_),q(e,l,_),c(l,u)},p(e,_){_&1&&a!==(a=e[4]+"")&&I(u,a),_&1&&o!==(o=""+(N+"/player/detail/?p="+Y(e[4])))&&C(l,"href",o)},d(e){r&&r.d(e),e&&p(t),e&&p(l)}}}function G(h){let t,l,a,u,o=h[1].entry+"",r,e,_,b,T=h[1].win+"",A,S,k=h[1].lose+"",j,m,i,v=h[1].names,n=[];for(let s=0;s<v.length;s+=1)n[s]=F(z(h,v,s));return{c(){t=g("tr"),l=g("td");for(let s=0;s<n.length;s+=1)n[s].c();a=M(),u=g("td"),r=w(o),e=w("\u5927\u4F1A"),_=M(),b=g("td"),A=w(T),S=w("\u52DD"),j=w(k),m=w("\u6557"),i=M(),this.h()},l(s){t=E(s,"TR",{});var d=y(t);l=E(d,"TD",{class:!0});var f=y(l);for(let B=0;B<n.length;B+=1)n[B].l(f);f.forEach(p),a=R(d),u=E(d,"TD",{});var H=y(u);r=D(H,o),e=D(H,"\u5927\u4F1A"),H.forEach(p),_=R(d),b=E(d,"TD",{});var O=y(b);A=D(O,T),S=D(O,"\u52DD"),j=D(O,k),m=D(O,"\u6557"),O.forEach(p),i=R(d),d.forEach(p),this.h()},h(){C(l,"class","tal")},m(s,d){q(s,t,d),c(t,l);for(let f=0;f<n.length;f+=1)n[f].m(l,null);c(t,a),c(t,u),c(u,r),c(u,e),c(t,_),c(t,b),c(b,A),c(b,S),c(b,j),c(b,m),c(t,i)},p(s,d){if(d&1){v=s[1].names;let f;for(f=0;f<v.length;f+=1){const H=z(s,v,f);n[f]?n[f].p(H,d):(n[f]=F(H),n[f].c(),n[f].m(l,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=v.length}d&1&&o!==(o=s[1].entry+"")&&I(r,o),d&1&&T!==(T=s[1].win+"")&&I(A,T),d&1&&k!==(k=s[1].lose+"")&&I(j,k)},d(s){s&&p(t),K(n,s)}}}function x(h){let t,l,a,u,o,r,e,_,b,T,A,S,k,j=h[0],m=[];for(let i=0;i<j.length;i+=1)m[i]=G($(h,j,i));return{c(){t=g("table"),l=g("thead"),a=g("tr"),u=g("th"),o=w("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),r=M(),e=g("th"),_=w("\u53C2\u52A0\u5927\u4F1A\u6570"),b=M(),T=g("th"),A=w("\u6226\u7E3E"),S=M(),k=g("tbody");for(let i=0;i<m.length;i+=1)m[i].c();this.h()},l(i){t=E(i,"TABLE",{});var v=y(t);l=E(v,"THEAD",{});var n=y(l);a=E(n,"TR",{});var s=y(a);u=E(s,"TH",{class:!0});var d=y(u);o=D(d,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),d.forEach(p),r=R(s),e=E(s,"TH",{});var f=y(e);_=D(f,"\u53C2\u52A0\u5927\u4F1A\u6570"),f.forEach(p),b=R(s),T=E(s,"TH",{});var H=y(T);A=D(H,"\u6226\u7E3E"),H.forEach(p),s.forEach(p),n.forEach(p),S=R(v),k=E(v,"TBODY",{});var O=y(k);for(let B=0;B<m.length;B+=1)m[B].l(O);O.forEach(p),v.forEach(p),this.h()},h(){C(u,"class","tal")},m(i,v){q(i,t,v),c(t,l),c(l,a),c(a,u),c(u,o),c(a,r),c(a,e),c(e,_),c(a,b),c(a,T),c(T,A),c(t,S),c(t,k);for(let n=0;n<m.length;n+=1)m[n].m(k,null)},p(i,[v]){if(v&1){j=i[0];let n;for(n=0;n<j.length;n+=1){const s=$(i,j,n);m[n]?m[n].p(s,v):(m[n]=G(s),m[n].c(),m[n].m(k,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=j.length}},i:L,o:L,d(i){i&&p(t),K(m,i)}}}function tt(h,t,l){let a;return V(h,X,u=>l(0,a=u)),[a]}class st extends P{constructor(t){super();Q(this,t,tt,x,U,{})}}export{st as default};
