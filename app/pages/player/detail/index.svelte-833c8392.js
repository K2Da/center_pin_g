var ct=Object.defineProperty,ht=Object.defineProperties;var $t=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var Re=(o,e,l)=>e in o?ct(o,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[e]=l,Te=(o,e)=>{for(var l in e||(e={}))dt.call(e,l)&&Re(o,l,e[l]);if(Oe)for(var l of Oe(e))pt.call(e,l)&&Re(o,l,e[l]);return o},De=(o,e)=>ht(o,$t(e));import{D as ut,S as he,i as $e,s as de,e as v,t as Q,c as k,a as w,h as V,d as m,g as P,H as i,j as ee,l as te,b as z,w as G,k as A,x as J,m as L,y as K,q as j,o as R,B as W,M as ue,N as je,n as ne,p as le,Q as _e,O as it,f as se,V as gt,Y as ye,Z as He,_ as Be}from"../../../chunks/vendor-30de17eb.js";import{a as bt}from"../../../chunks/navigation-13fd7038.js";import{s as mt,d as vt,f as Ae}from"../../../chunks/global-4a2f8dab.js";import{T as kt,a as Ne}from"../../../chunks/TournamentsStats-41d83e54.js";import{H as wt}from"../../../chunks/Header-b7cc2bf7.js";import{D as Ee,T as me,P as Et}from"../../../chunks/PopUpA-4032365a.js";import{S as Tt}from"../../../chunks/Span-1401db13.js";import{T as ve,a as ke}from"../../../chunks/TeamName-101a67aa.js";import{P as ge}from"../../../chunks/PlayersLine-a01d41be.js";import{M as _t}from"../../../chunks/MatchResult-31e97d0c.js";import{T as Dt}from"../../../chunks/TournamentName-e982084e.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/paths-396f020f.js";import"../../../chunks/PlayerName-6d0a4ed8.js";import"../../../chunks/Twitch-9c59f28d.js";const Le=ut(""),fe=ut(null);function yt(o){for(const e of o.matches)e.wl=e.opponent_team_key===e.loser_key,e.score_text=e.wl?`${e.winner_score} - ${e.loser_score}`:`${e.loser_score} - ${e.winner_score}`;fe.set(o)}function Se(o){let e,l,t,n=[...new Set(o[0].tournaments.map(Ie))].join(", ")+"",r;return{c(){e=v("dt"),l=Q("\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),t=v("dd"),r=Q(n)},l(s){e=k(s,"DT",{});var a=w(e);l=V(a,"\u30A8\u30F3\u30C8\u30EA\u30FC\u540D"),a.forEach(m),t=k(s,"DD",{});var f=w(t);r=V(f,n),f.forEach(m)},m(s,a){P(s,e,a),i(e,l),P(s,t,a),i(t,r)},p(s,a){a&1&&n!==(n=[...new Set(s[0].tournaments.map(Ie))].join(", ")+"")&&ee(r,n)},d(s){s&&m(e),s&&m(t)}}}function Me(o){let e,l,t,n=o[0].data.twitter&&Pe(o),r=o[0].data.youtube&&Ye(o),s=o[0].data.twitch&&qe(o);return{c(){n&&n.c(),e=te(),r&&r.c(),l=te(),s&&s.c(),t=te()},l(a){n&&n.l(a),e=te(),r&&r.l(a),l=te(),s&&s.l(a),t=te()},m(a,f){n&&n.m(a,f),P(a,e,f),r&&r.m(a,f),P(a,l,f),s&&s.m(a,f),P(a,t,f)},p(a,f){a[0].data.twitter?n?n.p(a,f):(n=Pe(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a[0].data.youtube?r?r.p(a,f):(r=Ye(a),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null),a[0].data.twitch?s?s.p(a,f):(s=qe(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(a){n&&n.d(a),a&&m(e),r&&r.d(a),a&&m(l),s&&s.d(a),a&&m(t)}}}function Pe(o){let e,l,t,n,r,s=o[0].data.twitter+"",a,f;return{c(){e=v("dt"),l=v("i"),t=Q(" twitter"),n=v("dd"),r=v("a"),a=Q(s),this.h()},l(u){e=k(u,"DT",{});var _=w(e);l=k(_,"I",{class:!0}),w(l).forEach(m),t=V(_," twitter"),_.forEach(m),n=k(u,"DD",{});var d=w(n);r=k(d,"A",{href:!0});var H=w(r);a=V(H,s),H.forEach(m),d.forEach(m),this.h()},h(){z(l,"class","fab fa-twitter"),z(r,"href",f="https://twitter.com/"+o[0].data.twitter)},m(u,_){P(u,e,_),i(e,l),i(e,t),P(u,n,_),i(n,r),i(r,a)},p(u,_){_&1&&s!==(s=u[0].data.twitter+"")&&ee(a,s),_&1&&f!==(f="https://twitter.com/"+u[0].data.twitter)&&z(r,"href",f)},d(u){u&&m(e),u&&m(n)}}}function Ye(o){let e,l,t,n,r,s=o[0].data.youtube[1]+"",a,f;return{c(){e=v("dt"),l=v("i"),t=Q(" youtube"),n=v("dd"),r=v("a"),a=Q(s),this.h()},l(u){e=k(u,"DT",{});var _=w(e);l=k(_,"I",{class:!0}),w(l).forEach(m),t=V(_," youtube"),_.forEach(m),n=k(u,"DD",{});var d=w(n);r=k(d,"A",{href:!0});var H=w(r);a=V(H,s),H.forEach(m),d.forEach(m),this.h()},h(){z(l,"class","fab fa-youtube"),z(r,"href",f="https://www.youtube.com/channel/"+o[0].data.youtube[0])},m(u,_){P(u,e,_),i(e,l),i(e,t),P(u,n,_),i(n,r),i(r,a)},p(u,_){_&1&&s!==(s=u[0].data.youtube[1]+"")&&ee(a,s),_&1&&f!==(f="https://www.youtube.com/channel/"+u[0].data.youtube[0])&&z(r,"href",f)},d(u){u&&m(e),u&&m(n)}}}function qe(o){let e,l,t,n,r,s=o[0].data.twitch+"",a,f;return{c(){e=v("dt"),l=v("i"),t=Q(" twitch"),n=v("dd"),r=v("a"),a=Q(s),this.h()},l(u){e=k(u,"DT",{});var _=w(e);l=k(_,"I",{class:!0}),w(l).forEach(m),t=V(_," twitch"),_.forEach(m),n=k(u,"DD",{});var d=w(n);r=k(d,"A",{href:!0});var H=w(r);a=V(H,s),H.forEach(m),d.forEach(m),this.h()},h(){z(l,"class","fab fa-twitch"),z(r,"href",f="https://www.twitch.tv/"+o[0].data.twitch)},m(u,_){P(u,e,_),i(e,l),i(e,t),P(u,n,_),i(n,r),i(r,a)},p(u,_){_&1&&s!==(s=u[0].data.twitch+"")&&ee(a,s),_&1&&f!==(f="https://www.twitch.tv/"+u[0].data.twitch)&&z(r,"href",f)},d(u){u&&m(e),u&&m(n)}}}function Ht(o){var q;let e,l,t,n,r,s,a,f,u,_=((q=o[0].player.rating)!=null?q:0).toLocaleString()+"",d,H,T=o[0].data&&Se(o);r=new kt({props:{stats:De(Te({},o[0].player),{tournament_count:o[0].player.entries})}});let b=o[0].data&&Me(o);return{c(){e=v("dl"),T&&T.c(),l=v("dt"),t=Q("\u6226\u7E3E"),n=v("dd"),G(r.$$.fragment),s=A(),a=v("dt"),f=Q("\u30EC\u30FC\u30C8"),u=v("dd"),d=Q(_),b&&b.c()},l(h){e=k(h,"DL",{});var p=w(e);T&&T.l(p),l=k(p,"DT",{});var $=w(l);t=V($,"\u6226\u7E3E"),$.forEach(m),n=k(p,"DD",{});var D=w(n);J(r.$$.fragment,D),s=L(D),D.forEach(m),a=k(p,"DT",{});var N=w(a);f=V(N,"\u30EC\u30FC\u30C8"),N.forEach(m),u=k(p,"DD",{});var y=w(u);d=V(y,_),y.forEach(m),b&&b.l(p),p.forEach(m)},m(h,p){P(h,e,p),T&&T.m(e,null),i(e,l),i(l,t),i(e,n),K(r,n,null),i(n,s),i(e,a),i(a,f),i(e,u),i(u,d),b&&b.m(e,null),H=!0},p(h,[p]){var D;h[0].data?T?T.p(h,p):(T=Se(h),T.c(),T.m(e,l)):T&&(T.d(1),T=null);const $={};p&1&&($.stats=De(Te({},h[0].player),{tournament_count:h[0].player.entries})),r.$set($),(!H||p&1)&&_!==(_=((D=h[0].player.rating)!=null?D:0).toLocaleString()+"")&&ee(d,_),h[0].data?b?b.p(h,p):(b=Me(h),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i(h){H||(j(r.$$.fragment,h),H=!0)},o(h){R(r.$$.fragment,h),H=!1},d(h){h&&m(e),T&&T.d(),W(r),b&&b.d()}}}const Ie=o=>o.member_name;function Bt(o,e,l){let t;return ue(o,fe,n=>l(0,t=n)),[t]}class Nt extends he{constructor(e){super();$e(this,e,Bt,Ht,de,{})}}const jt=je(fe,o=>{if(o==null)return[];const e={};for(const l of o.tournaments){const t=l.team_current_name;e[t]===void 0?e[t]={name:t,tournament_count:1,last_match_at:l.tournament_date,first_match_at:l.tournament_date}:(e[t].tournament_count+=1,e[t].last_match_at=Math.max(l.tournament_date,e[t].last_match_at),e[t].first_match_at=Math.min(l.tournament_date,e[t].first_match_at))}return Object.values(e).sort(l=>-l.last_match_at)});function Fe(o,e,l){const t=o.slice();return t[1]=e[l],t}function Ot(o){let e,l;return e=new Tt({props:{date1:o[1].first_match_at,date2:o[1].last_match_at}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){K(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.date1=t[1].first_match_at),n&1&&(r.date2=t[1].last_match_at),e.$set(r)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Rt(o){let e,l;return e=new Ee({props:{date:o[1].first_match_at}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){K(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.date=t[1].first_match_at),e.$set(r)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ue(o){let e,l,t,n=o[1].tournament_count+"",r,s,a,f,u,_,d,H;l=new ve({props:{name:o[1].name,current_name:o[1].name}});const T=[Rt,Ot],b=[];function q(h,p){return h[1].first_match_at===h[1].last_match_at?0:1}return u=q(o),_=b[u]=T[u](o),{c(){e=v("dt"),G(l.$$.fragment),t=v("dd"),r=Q(n),s=Q("\u56DE\u51FA\u5834"),a=v("br"),f=A(),_.c(),d=A(),this.h()},l(h){e=k(h,"DT",{class:!0});var p=w(e);J(l.$$.fragment,p),p.forEach(m),t=k(h,"DD",{});var $=w(t);r=V($,n),s=V($,"\u56DE\u51FA\u5834"),a=k($,"BR",{}),f=L($),_.l($),d=L($),$.forEach(m),this.h()},h(){z(e,"class","tal nw")},m(h,p){P(h,e,p),K(l,e,null),P(h,t,p),i(t,r),i(t,s),i(t,a),i(t,f),b[u].m(t,null),i(t,d),H=!0},p(h,p){const $={};p&1&&($.name=h[1].name),p&1&&($.current_name=h[1].name),l.$set($),(!H||p&1)&&n!==(n=h[1].tournament_count+"")&&ee(r,n);let D=u;u=q(h),u===D?b[u].p(h,p):(ne(),R(b[D],1,1,()=>{b[D]=null}),le(),_=b[u],_?_.p(h,p):(_=b[u]=T[u](h),_.c()),j(_,1),_.m(t,d))},i(h){H||(j(l.$$.fragment,h),j(_),H=!0)},o(h){R(l.$$.fragment,h),R(_),H=!1},d(h){h&&m(e),W(l),h&&m(t),b[u].d()}}}function At(o){let e,l,t,n,r,s=o[0],a=[];for(let u=0;u<s.length;u+=1)a[u]=Ue(Fe(o,s,u));const f=u=>R(a[u],1,1,()=>{a[u]=null});return{c(){e=v("h3"),l=Q("\u30C1\u30FC\u30E0\u5C65\u6B74"),t=A(),n=v("dl");for(let u=0;u<a.length;u+=1)a[u].c()},l(u){e=k(u,"H3",{});var _=w(e);l=V(_,"\u30C1\u30FC\u30E0\u5C65\u6B74"),_.forEach(m),t=L(u),n=k(u,"DL",{});var d=w(n);for(let H=0;H<a.length;H+=1)a[H].l(d);d.forEach(m)},m(u,_){P(u,e,_),i(e,l),P(u,t,_),P(u,n,_);for(let d=0;d<a.length;d+=1)a[d].m(n,null);r=!0},p(u,[_]){if(_&1){s=u[0];let d;for(d=0;d<s.length;d+=1){const H=Fe(u,s,d);a[d]?(a[d].p(H,_),j(a[d],1)):(a[d]=Ue(H),a[d].c(),j(a[d],1),a[d].m(n,null))}for(ne(),d=s.length;d<a.length;d+=1)f(d);le()}},i(u){if(!r){for(let _=0;_<s.length;_+=1)j(a[_]);r=!0}},o(u){a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)R(a[_]);r=!1},d(u){u&&m(e),u&&m(t),u&&m(n),_e(a,u)}}}function Lt(o,e,l){let t;return ue(o,jt,n=>l(0,t=n)),[t]}class St extends he{constructor(e){super();$e(this,e,Lt,At,de,{})}}function Ce(o,e,l){const t=o.slice();return t[2]=e[l],t}function Qe(o,e,l){const t=o.slice();return t[2]=e[l],t[4]=l,t}function Ve(o){let e,l,t,n;const r=[Pt,Mt],s=[];function a(f,u){return f[1]?0:1}return e=a(o),l=s[e]=r[e](o),{c(){l.c(),t=te()},l(f){l.l(f),t=te()},m(f,u){s[e].m(f,u),P(f,t,u),n=!0},p(f,u){let _=e;e=a(f),e===_?s[e].p(f,u):(ne(),R(s[_],1,1,()=>{s[_]=null}),le(),l=s[e],l?l.p(f,u):(l=s[e]=r[e](f),l.c()),j(l,1),l.m(t.parentNode,t))},i(f){n||(j(l),n=!0)},o(f){R(l),n=!1},d(f){s[e].d(f),f&&m(t)}}}function Mt(o){let e,l,t,n,r,s,a,f,u,_,d,H,T,b,q,h,p,$,D,N,y,S,Z,C=o[0].tournaments,I=[];for(let E=0;E<C.length;E+=1)I[E]=Ze(Ce(o,C,E));const Y=E=>R(I[E],1,1,()=>{I[E]=null});return{c(){e=v("table"),l=v("thead"),t=v("tr"),n=v("th"),r=Q("\u958B\u50AC\u65E5"),s=A(),a=v("th"),f=Q("\u5927\u4F1A\u540D"),u=A(),_=v("th"),d=Q("\u7D50\u679C"),H=A(),T=v("th"),b=Q("rating"),q=A(),h=v("th"),p=Q("\u767B\u9332\u30C1\u30FC\u30E0\u540D"),$=A(),D=v("th"),N=Q("\u30E1\u30F3\u30D0\u30FC"),y=A(),S=v("tbody");for(let E=0;E<I.length;E+=1)I[E].c();this.h()},l(E){e=k(E,"TABLE",{});var g=w(e);l=k(g,"THEAD",{});var c=w(l);t=k(c,"TR",{});var M=w(t);n=k(M,"TH",{});var O=w(n);r=V(O,"\u958B\u50AC\u65E5"),O.forEach(m),s=L(M),a=k(M,"TH",{class:!0});var F=w(a);f=V(F,"\u5927\u4F1A\u540D"),F.forEach(m),u=L(M),_=k(M,"TH",{});var B=w(_);d=V(B,"\u7D50\u679C"),B.forEach(m),H=L(M),T=k(M,"TH",{});var U=w(T);b=V(U,"rating"),U.forEach(m),q=L(M),h=k(M,"TH",{class:!0});var X=w(h);p=V(X,"\u767B\u9332\u30C1\u30FC\u30E0\u540D"),X.forEach(m),$=L(M),D=k(M,"TH",{class:!0});var x=w(D);N=V(x,"\u30E1\u30F3\u30D0\u30FC"),x.forEach(m),M.forEach(m),c.forEach(m),y=L(g),S=k(g,"TBODY",{});var ae=w(S);for(let re=0;re<I.length;re+=1)I[re].l(ae);ae.forEach(m),g.forEach(m),this.h()},h(){z(a,"class","tal"),z(h,"class","tal"),z(D,"class","tal")},m(E,g){P(E,e,g),i(e,l),i(l,t),i(t,n),i(n,r),i(t,s),i(t,a),i(a,f),i(t,u),i(t,_),i(_,d),i(t,H),i(t,T),i(T,b),i(t,q),i(t,h),i(h,p),i(t,$),i(t,D),i(D,N),i(e,y),i(e,S);for(let c=0;c<I.length;c+=1)I[c].m(S,null);Z=!0},p(E,g){if(g&1){C=E[0].tournaments;let c;for(c=0;c<C.length;c+=1){const M=Ce(E,C,c);I[c]?(I[c].p(M,g),j(I[c],1)):(I[c]=Ze(M),I[c].c(),j(I[c],1),I[c].m(S,null))}for(ne(),c=C.length;c<I.length;c+=1)Y(c);le()}},i(E){if(!Z){for(let g=0;g<C.length;g+=1)j(I[g]);Z=!0}},o(E){I=I.filter(Boolean);for(let g=0;g<I.length;g+=1)R(I[g]);Z=!1},d(E){E&&m(e),_e(I,E)}}}function Pt(o){let e,l,t,n=o[0].tournaments,r=[];for(let a=0;a<n.length;a+=1)r[a]=ze(Qe(o,n,a));const s=a=>R(r[a],1,1,()=>{r[a]=null});return{c(){e=v("table"),l=v("tbody");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=k(a,"TABLE",{});var f=w(e);l=k(f,"TBODY",{class:!0});var u=w(l);for(let _=0;_<r.length;_+=1)r[_].l(u);u.forEach(m),f.forEach(m),this.h()},h(){z(l,"class","double")},m(a,f){P(a,e,f),i(e,l);for(let u=0;u<r.length;u+=1)r[u].m(l,null);t=!0},p(a,f){if(f&1){n=a[0].tournaments;let u;for(u=0;u<n.length;u+=1){const _=Qe(a,n,u);r[u]?(r[u].p(_,f),j(r[u],1)):(r[u]=ze(_),r[u].c(),j(r[u],1),r[u].m(l,null))}for(ne(),u=n.length;u<r.length;u+=1)s(u);le()}},i(a){if(!t){for(let f=0;f<n.length;f+=1)j(r[f]);t=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)R(r[f]);t=!1},d(a){a&&m(e),_e(r,a)}}}function Ze(o){let e,l,t,n,r,s,a=o[2].tournament_name+"",f,u,_,d,H,T,b,q=we(o[2].rating)+"",h,p,$,D,N,y,S=o[2].member_name+"",Z,C,I,Y,E;return t=new Ee({props:{date:o[2].tournament_date}}),H=new ke({props:{rank:o[2].team_result}}),D=new ve({props:{name:o[2].team_name,current_name:o[2].team_current_name}}),I=new ge({props:{players:o[2].mate_list}}),{c(){e=v("tr"),l=v("td"),G(t.$$.fragment),n=A(),r=v("td"),s=v("a"),f=Q(a),_=A(),d=v("td"),G(H.$$.fragment),T=A(),b=v("td"),h=Q(q),p=A(),$=v("td"),G(D.$$.fragment),N=A(),y=v("td"),Z=Q(S),C=Q(", "),G(I.$$.fragment),Y=A(),this.h()},l(g){e=k(g,"TR",{});var c=w(e);l=k(c,"TD",{});var M=w(l);J(t.$$.fragment,M),M.forEach(m),n=L(c),r=k(c,"TD",{class:!0});var O=w(r);s=k(O,"A",{href:!0});var F=w(s);f=V(F,a),F.forEach(m),O.forEach(m),_=L(c),d=k(c,"TD",{});var B=w(d);J(H.$$.fragment,B),B.forEach(m),T=L(c),b=k(c,"TD",{});var U=w(b);h=V(U,q),U.forEach(m),p=L(c),$=k(c,"TD",{class:!0});var X=w($);J(D.$$.fragment,X),X.forEach(m),N=L(c),y=k(c,"TD",{class:!0});var x=w(y);Z=V(x,S),C=V(x,", "),J(I.$$.fragment,x),x.forEach(m),Y=L(c),c.forEach(m),this.h()},h(){z(s,"href",u="#"+o[2].tournament_key),z(r,"class","tal"),z($,"class","tal"),z(y,"class","tal")},m(g,c){P(g,e,c),i(e,l),K(t,l,null),i(e,n),i(e,r),i(r,s),i(s,f),i(e,_),i(e,d),K(H,d,null),i(e,T),i(e,b),i(b,h),i(e,p),i(e,$),K(D,$,null),i(e,N),i(e,y),i(y,Z),i(y,C),K(I,y,null),i(e,Y),E=!0},p(g,c){const M={};c&1&&(M.date=g[2].tournament_date),t.$set(M),(!E||c&1)&&a!==(a=g[2].tournament_name+"")&&ee(f,a),(!E||c&1&&u!==(u="#"+g[2].tournament_key))&&z(s,"href",u);const O={};c&1&&(O.rank=g[2].team_result),H.$set(O),(!E||c&1)&&q!==(q=we(g[2].rating)+"")&&ee(h,q);const F={};c&1&&(F.name=g[2].team_name),c&1&&(F.current_name=g[2].team_current_name),D.$set(F),(!E||c&1)&&S!==(S=g[2].member_name+"")&&ee(Z,S);const B={};c&1&&(B.players=g[2].mate_list),I.$set(B)},i(g){E||(j(t.$$.fragment,g),j(H.$$.fragment,g),j(D.$$.fragment,g),j(I.$$.fragment,g),E=!0)},o(g){R(t.$$.fragment,g),R(H.$$.fragment,g),R(D.$$.fragment,g),R(I.$$.fragment,g),E=!1},d(g){g&&m(e),W(t),W(H),W(D),W(I)}}}function Yt(o){let e,l=o[4]+1+"",t;return{c(){e=Q("#"),t=Q(l)},l(n){e=V(n,"#"),t=V(n,l)},m(n,r){P(n,e,r),P(n,t,r)},p:it,d(n){n&&m(e),n&&m(t)}}}function qt(o){let e=we(o[2].rating)+"",l;return{c(){l=Q(e)},l(t){l=V(t,e)},m(t,n){P(t,l,n)},p(t,n){n&1&&e!==(e=we(t[2].rating)+"")&&ee(l,e)},d(t){t&&m(l)}}}function ze(o){let e,l,t,n,r,s,a,f,u,_,d,H,T,b,q,h=o[2].tournament_name+"",p,$,D,N;return t=new me({props:{$$slots:{default:[Yt]},$$scope:{ctx:o}}}),r=new Ee({props:{date:o[2].tournament_date,spacing:!1}}),f=new ke({props:{rank:o[2].team_result}}),d=new me({props:{$$slots:{default:[qt]},$$scope:{ctx:o}}}),{c(){e=v("tr"),l=v("td"),G(t.$$.fragment),n=A(),G(r.$$.fragment),s=A(),a=v("td"),G(f.$$.fragment),u=A(),_=v("td"),G(d.$$.fragment),H=A(),T=v("tr"),b=v("td"),q=v("a"),p=Q(h),D=A(),this.h()},l(y){e=k(y,"TR",{});var S=w(e);l=k(S,"TD",{class:!0});var Z=w(l);J(t.$$.fragment,Z),n=L(Z),J(r.$$.fragment,Z),Z.forEach(m),s=L(S),a=k(S,"TD",{class:!0});var C=w(a);J(f.$$.fragment,C),u=L(C),C.forEach(m),_=k(S,"TD",{class:!0});var I=w(_);J(d.$$.fragment,I),I.forEach(m),S.forEach(m),H=L(y),T=k(y,"TR",{});var Y=w(T);b=k(Y,"TD",{colspan:!0,class:!0});var E=w(b);q=k(E,"A",{href:!0});var g=w(q);p=V(g,h),g.forEach(m),E.forEach(m),D=L(Y),Y.forEach(m),this.h()},h(){z(l,"class","tal"),z(a,"class","nw"),z(_,"class","nw"),z(q,"href",$="#"+o[2].tournament_key),z(b,"colspan","3"),z(b,"class","tal")},m(y,S){P(y,e,S),i(e,l),K(t,l,null),i(l,n),K(r,l,null),i(e,s),i(e,a),K(f,a,null),i(a,u),i(e,_),K(d,_,null),P(y,H,S),P(y,T,S),i(T,b),i(b,q),i(q,p),i(T,D),N=!0},p(y,S){const Z={};S&128&&(Z.$$scope={dirty:S,ctx:y}),t.$set(Z);const C={};S&1&&(C.date=y[2].tournament_date),r.$set(C);const I={};S&1&&(I.rank=y[2].team_result),f.$set(I);const Y={};S&129&&(Y.$$scope={dirty:S,ctx:y}),d.$set(Y),(!N||S&1)&&h!==(h=y[2].tournament_name+"")&&ee(p,h),(!N||S&1&&$!==($="#"+y[2].tournament_key))&&z(q,"href",$)},i(y){N||(j(t.$$.fragment,y),j(r.$$.fragment,y),j(f.$$.fragment,y),j(d.$$.fragment,y),N=!0)},o(y){R(t.$$.fragment,y),R(r.$$.fragment,y),R(f.$$.fragment,y),R(d.$$.fragment,y),N=!1},d(y){y&&m(e),W(t),W(r),W(f),W(d),y&&m(H),y&&m(T)}}}function It(o){let e,l,t=o[0]&&Ve(o);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,r){t&&t.m(n,r),P(n,e,r),l=!0},p(n,[r]){n[0]?t?(t.p(n,r),r&1&&j(t,1)):(t=Ve(n),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(ne(),R(t,1,1,()=>{t=null}),le())},i(n){l||(j(t),l=!0)},o(n){R(t),l=!1},d(n){t&&t.d(n),n&&m(e)}}}function we(o){return o==null?"-":o.toLocaleString()}function Ft(o,e,l){let t,n;return ue(o,fe,r=>l(0,t=r)),ue(o,mt,r=>l(1,n=r)),[t,n]}class Ut extends he{constructor(e){super();$e(this,e,Ft,It,de,{})}}function Ge(o,e,l){const t=o.slice();return t[2]=e[l],t}function Je(o,e,l){const t=o.slice();return t[5]=e[l],t}function Ke(o,e,l){const t=o.slice();return t[5]=e[l],t}function Ct(o){let e,l,t,n,r,s,a,f,u,_,d,H,T,b,q,h,p,$,D,N,y,S,Z,C,I,Y,E,g=o[0].matches,c=[];for(let O=0;O<g.length;O+=1)c[O]=Xe(Je(o,g,O));const M=O=>R(c[O],1,1,()=>{c[O]=null});return{c(){e=v("table"),l=v("thead"),t=v("tr"),n=v("th"),r=Q("\u30D6\u30E9\u30B1\u30C3\u30C8"),s=A(),a=v("th"),f=Q("\u30E9\u30A6\u30F3\u30C9"),u=A(),_=v("th"),d=Q("\u52DD\u6557"),H=A(),T=v("th"),b=Q("\u30B9\u30B3\u30A2"),q=A(),h=v("th"),p=Q("\u5BFE\u6226\u76F8\u624B"),$=A(),D=v("th"),N=Q("\u9806\u4F4D"),y=A(),S=v("th"),Z=Q("\u30E1\u30F3\u30D0\u30FC"),C=A(),I=v("tbody");for(let O=0;O<c.length;O+=1)c[O].c();Y=A(),this.h()},l(O){e=k(O,"TABLE",{});var F=w(e);l=k(F,"THEAD",{});var B=w(l);t=k(B,"TR",{});var U=w(t);n=k(U,"TH",{style:!0});var X=w(n);r=V(X,"\u30D6\u30E9\u30B1\u30C3\u30C8"),X.forEach(m),s=L(U),a=k(U,"TH",{style:!0});var x=w(a);f=V(x,"\u30E9\u30A6\u30F3\u30C9"),x.forEach(m),u=L(U),_=k(U,"TH",{style:!0});var ae=w(_);d=V(ae,"\u52DD\u6557"),ae.forEach(m),H=L(U),T=k(U,"TH",{style:!0});var re=w(T);b=V(re,"\u30B9\u30B3\u30A2"),re.forEach(m),q=L(U),h=k(U,"TH",{style:!0});var oe=w(h);p=V(oe,"\u5BFE\u6226\u76F8\u624B"),oe.forEach(m),$=L(U),D=k(U,"TH",{style:!0});var ie=w(D);N=V(ie,"\u9806\u4F4D"),ie.forEach(m),y=L(U),S=k(U,"TH",{style:!0});var ce=w(S);Z=V(ce,"\u30E1\u30F3\u30D0\u30FC"),ce.forEach(m),U.forEach(m),B.forEach(m),C=L(F),I=k(F,"TBODY",{});var be=w(I);for(let pe=0;pe<c.length;pe+=1)c[pe].l(be);be.forEach(m),Y=L(F),F.forEach(m),this.h()},h(){se(n,"width","6%"),se(a,"width","6%"),se(_,"width","6%"),se(T,"width","6%"),se(h,"width","23%"),se(h,"text-align","left"),se(D,"width","6%"),se(S,"width","47%"),se(S,"text-align","left")},m(O,F){P(O,e,F),i(e,l),i(l,t),i(t,n),i(n,r),i(t,s),i(t,a),i(a,f),i(t,u),i(t,_),i(_,d),i(t,H),i(t,T),i(T,b),i(t,q),i(t,h),i(h,p),i(t,$),i(t,D),i(D,N),i(t,y),i(t,S),i(S,Z),i(e,C),i(e,I);for(let B=0;B<c.length;B+=1)c[B].m(I,null);i(e,Y),E=!0},p(O,F){if(F&1){g=O[0].matches;let B;for(B=0;B<g.length;B+=1){const U=Je(O,g,B);c[B]?(c[B].p(U,F),j(c[B],1)):(c[B]=Xe(U),c[B].c(),j(c[B],1),c[B].m(I,null))}for(ne(),B=g.length;B<c.length;B+=1)M(B);le()}},i(O){if(!E){for(let F=0;F<g.length;F+=1)j(c[F]);E=!0}},o(O){c=c.filter(Boolean);for(let F=0;F<c.length;F+=1)R(c[F]);E=!1},d(O){O&&m(e),_e(c,O)}}}function Qt(o){let e,l,t,n,r=o[0].matches,s=[];for(let f=0;f<r.length;f+=1)s[f]=et(Ke(o,r,f));const a=f=>R(s[f],1,1,()=>{s[f]=null});return{c(){e=v("table"),l=v("tbody");for(let f=0;f<s.length;f+=1)s[f].c();t=A(),this.h()},l(f){e=k(f,"TABLE",{});var u=w(e);l=k(u,"TBODY",{class:!0});var _=w(l);for(let d=0;d<s.length;d+=1)s[d].l(_);_.forEach(m),t=L(u),u.forEach(m),this.h()},h(){z(l,"class","triple")},m(f,u){P(f,e,u),i(e,l);for(let _=0;_<s.length;_+=1)s[_].m(l,null);i(e,t),n=!0},p(f,u){if(u&1){r=f[0].matches;let _;for(_=0;_<r.length;_+=1){const d=Ke(f,r,_);s[_]?(s[_].p(d,u),j(s[_],1)):(s[_]=et(d),s[_].c(),j(s[_],1),s[_].m(l,null))}for(ne(),_=r.length;_<s.length;_+=1)a(_);le()}},i(f){if(!n){for(let u=0;u<r.length;u+=1)j(s[u]);n=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)R(s[u]);n=!1},d(f){f&&m(e),_e(s,f)}}}function We(o){let e,l,t=o[5].bracket+"",n,r,s,a=o[5].round+"",f,u,_,d,H,T,b=o[5].score_text+"",q,h,p,$,D,N,y,S,Z,C,I,Y;return d=new _t({props:{win:o[5].wl}}),$=new ve({props:{name:o[5].opponent_team_name,current_name:o[5].opponent_team_current_name}}),y=new ke({props:{rank:o[5].opponent_team_rank}}),C=new ge({props:{players:o[5].opponents_list}}),{c(){e=v("tr"),l=v("td"),n=Q(t),r=A(),s=v("td"),f=Q(a),u=A(),_=v("td"),G(d.$$.fragment),H=A(),T=v("td"),q=Q(b),h=A(),p=v("td"),G($.$$.fragment),D=A(),N=v("td"),G(y.$$.fragment),S=A(),Z=v("td"),G(C.$$.fragment),I=A(),this.h()},l(E){e=k(E,"TR",{});var g=w(e);l=k(g,"TD",{});var c=w(l);n=V(c,t),c.forEach(m),r=L(g),s=k(g,"TD",{});var M=w(s);f=V(M,a),M.forEach(m),u=L(g),_=k(g,"TD",{});var O=w(_);J(d.$$.fragment,O),O.forEach(m),H=L(g),T=k(g,"TD",{});var F=w(T);q=V(F,b),F.forEach(m),h=L(g),p=k(g,"TD",{class:!0});var B=w(p);J($.$$.fragment,B),B.forEach(m),D=L(g),N=k(g,"TD",{});var U=w(N);J(y.$$.fragment,U),U.forEach(m),S=L(g),Z=k(g,"TD",{class:!0});var X=w(Z);J(C.$$.fragment,X),X.forEach(m),I=L(g),g.forEach(m),this.h()},h(){z(p,"class","tal"),z(Z,"class","tal")},m(E,g){P(E,e,g),i(e,l),i(l,n),i(e,r),i(e,s),i(s,f),i(e,u),i(e,_),K(d,_,null),i(e,H),i(e,T),i(T,q),i(e,h),i(e,p),K($,p,null),i(e,D),i(e,N),K(y,N,null),i(e,S),i(e,Z),K(C,Z,null),i(e,I),Y=!0},p(E,g){(!Y||g&1)&&t!==(t=E[5].bracket+"")&&ee(n,t),(!Y||g&1)&&a!==(a=E[5].round+"")&&ee(f,a);const c={};g&1&&(c.win=E[5].wl),d.$set(c),(!Y||g&1)&&b!==(b=E[5].score_text+"")&&ee(q,b);const M={};g&1&&(M.name=E[5].opponent_team_name),g&1&&(M.current_name=E[5].opponent_team_current_name),$.$set(M);const O={};g&1&&(O.rank=E[5].opponent_team_rank),y.$set(O);const F={};g&1&&(F.players=E[5].opponents_list),C.$set(F)},i(E){Y||(j(d.$$.fragment,E),j($.$$.fragment,E),j(y.$$.fragment,E),j(C.$$.fragment,E),Y=!0)},o(E){R(d.$$.fragment,E),R($.$$.fragment,E),R(y.$$.fragment,E),R(C.$$.fragment,E),Y=!1},d(E){E&&m(e),W(d),W($),W(y),W(C)}}}function Xe(o){let e,l,t=o[5].tnmt_key===o[2].tournament_key&&We(o);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,r){t&&t.m(n,r),P(n,e,r),l=!0},p(n,r){n[5].tnmt_key===n[2].tournament_key?t?(t.p(n,r),r&1&&j(t,1)):(t=We(n),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(ne(),R(t,1,1,()=>{t=null}),le())},i(n){l||(j(t),l=!0)},o(n){R(t),l=!1},d(n){t&&t.d(n),n&&m(e)}}}function xe(o){let e,l,t=o[5].bracket+"",n,r,s,a,f=o[5].round+"",u,_,d,H,T,b=o[5].score_text+"",q,h,p,$,D,N,y,S,Z,C,I,Y,E,g,c,M;return s=new me({props:{t:"R"}}),d=new _t({props:{win:o[5].wl}}),D=new me({props:{t:"vs."}}),y=new ve({props:{name:o[5].opponent_team_name,current_name:o[5].opponent_team_current_name}}),C=new ke({props:{rank:o[5].opponent_team_rank}}),g=new ge({props:{players:o[5].opponents_list}}),{c(){e=v("tr"),l=v("td"),n=Q(t),r=A(),G(s.$$.fragment),a=A(),u=Q(f),_=A(),G(d.$$.fragment),H=A(),T=v("td"),q=Q(b),h=A(),p=v("tr"),$=v("td"),G(D.$$.fragment),N=A(),G(y.$$.fragment),S=A(),Z=v("td"),G(C.$$.fragment),I=A(),Y=v("tr"),E=v("td"),G(g.$$.fragment),c=A(),this.h()},l(O){e=k(O,"TR",{});var F=w(e);l=k(F,"TD",{class:!0});var B=w(l);n=V(B,t),r=L(B),J(s.$$.fragment,B),a=L(B),u=V(B,f),_=L(B),J(d.$$.fragment,B),B.forEach(m),H=L(F),T=k(F,"TD",{class:!0});var U=w(T);q=V(U,b),U.forEach(m),F.forEach(m),h=L(O),p=k(O,"TR",{});var X=w(p);$=k(X,"TD",{class:!0});var x=w($);J(D.$$.fragment,x),N=L(x),J(y.$$.fragment,x),x.forEach(m),S=L(X),Z=k(X,"TD",{class:!0});var ae=w(Z);J(C.$$.fragment,ae),ae.forEach(m),X.forEach(m),I=L(O),Y=k(O,"TR",{});var re=w(Y);E=k(re,"TD",{colspan:!0,class:!0,style:!0});var oe=w(E);J(g.$$.fragment,oe),oe.forEach(m),c=L(re),re.forEach(m),this.h()},h(){z(l,"class","tal"),z(T,"class","nw"),z($,"class","tal"),z(Z,"class","nw"),z(E,"colspan","2"),z(E,"class","tal"),se(E,"padding-left","1em")},m(O,F){P(O,e,F),i(e,l),i(l,n),i(l,r),K(s,l,null),i(l,a),i(l,u),i(l,_),K(d,l,null),i(e,H),i(e,T),i(T,q),P(O,h,F),P(O,p,F),i(p,$),K(D,$,null),i($,N),K(y,$,null),i(p,S),i(p,Z),K(C,Z,null),P(O,I,F),P(O,Y,F),i(Y,E),K(g,E,null),i(Y,c),M=!0},p(O,F){(!M||F&1)&&t!==(t=O[5].bracket+"")&&ee(n,t),(!M||F&1)&&f!==(f=O[5].round+"")&&ee(u,f);const B={};F&1&&(B.win=O[5].wl),d.$set(B),(!M||F&1)&&b!==(b=O[5].score_text+"")&&ee(q,b);const U={};F&1&&(U.name=O[5].opponent_team_name),F&1&&(U.current_name=O[5].opponent_team_current_name),y.$set(U);const X={};F&1&&(X.rank=O[5].opponent_team_rank),C.$set(X);const x={};F&1&&(x.players=O[5].opponents_list),g.$set(x)},i(O){M||(j(s.$$.fragment,O),j(d.$$.fragment,O),j(D.$$.fragment,O),j(y.$$.fragment,O),j(C.$$.fragment,O),j(g.$$.fragment,O),M=!0)},o(O){R(s.$$.fragment,O),R(d.$$.fragment,O),R(D.$$.fragment,O),R(y.$$.fragment,O),R(C.$$.fragment,O),R(g.$$.fragment,O),M=!1},d(O){O&&m(e),W(s),W(d),O&&m(h),O&&m(p),W(D),W(y),W(C),O&&m(I),O&&m(Y),W(g)}}}function et(o){let e,l,t=o[5].tnmt_key===o[2].tournament_key&&xe(o);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,r){t&&t.m(n,r),P(n,e,r),l=!0},p(n,r){n[5].tnmt_key===n[2].tournament_key?t?(t.p(n,r),r&1&&j(t,1)):(t=xe(n),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(ne(),R(t,1,1,()=>{t=null}),le())},i(n){l||(j(t),l=!0)},o(n){R(t),l=!1},d(n){t&&t.d(n),n&&m(e)}}}function tt(o){let e,l,t,n,r,s,a,f,u,_,d,H,T,b,q,h,p=o[2].member_name+"",$,D,N,y,S,Z,C,I,Y,E,g,c;l=new Dt({props:{name:o[2].tournament_name,key:o[2].tournament_key,official:!1}}),u=new Ee({props:{date:o[2].tournament_date}}),T=new ve({props:{name:o[2].team_name,current_name:o[2].team_name}}),N=new ge({props:{players:o[2].mate_list}}),C=new ke({props:{rank:o[2].team_result}});const M=[Qt,Ct],O=[];function F(B,U){return B[1]?0:1}return Y=F(o),E=O[Y]=M[Y](o),{c(){e=v("h4"),G(l.$$.fragment),n=A(),r=v("dl"),s=v("dt"),a=Q("\u958B\u50AC\u65E5"),f=v("dd"),G(u.$$.fragment),_=v("dt"),d=Q("\u30C1\u30FC\u30E0"),H=v("dd"),G(T.$$.fragment),b=v("dt"),q=Q("\u30E1\u30F3\u30D0\u30FC"),h=v("dd"),$=Q(p),D=Q(", "),G(N.$$.fragment),y=v("dt"),S=Q("\u7D50\u679C"),Z=v("dd"),G(C.$$.fragment),I=A(),E.c(),g=te(),this.h()},l(B){e=k(B,"H4",{id:!0});var U=w(e);J(l.$$.fragment,U),U.forEach(m),n=L(B),r=k(B,"DL",{});var X=w(r);s=k(X,"DT",{});var x=w(s);a=V(x,"\u958B\u50AC\u65E5"),x.forEach(m),f=k(X,"DD",{});var ae=w(f);J(u.$$.fragment,ae),ae.forEach(m),_=k(X,"DT",{});var re=w(_);d=V(re,"\u30C1\u30FC\u30E0"),re.forEach(m),H=k(X,"DD",{});var oe=w(H);J(T.$$.fragment,oe),oe.forEach(m),b=k(X,"DT",{});var ie=w(b);q=V(ie,"\u30E1\u30F3\u30D0\u30FC"),ie.forEach(m),h=k(X,"DD",{});var ce=w(h);$=V(ce,p),D=V(ce,", "),J(N.$$.fragment,ce),ce.forEach(m),y=k(X,"DT",{});var be=w(y);S=V(be,"\u7D50\u679C"),be.forEach(m),Z=k(X,"DD",{});var pe=w(Z);J(C.$$.fragment,pe),pe.forEach(m),X.forEach(m),I=L(B),E.l(B),g=te(),this.h()},h(){z(e,"id",t=o[2].tournament_key)},m(B,U){P(B,e,U),K(l,e,null),P(B,n,U),P(B,r,U),i(r,s),i(s,a),i(r,f),K(u,f,null),i(r,_),i(_,d),i(r,H),K(T,H,null),i(r,b),i(b,q),i(r,h),i(h,$),i(h,D),K(N,h,null),i(r,y),i(y,S),i(r,Z),K(C,Z,null),P(B,I,U),O[Y].m(B,U),P(B,g,U),c=!0},p(B,U){const X={};U&1&&(X.name=B[2].tournament_name),U&1&&(X.key=B[2].tournament_key),l.$set(X),(!c||U&1&&t!==(t=B[2].tournament_key))&&z(e,"id",t);const x={};U&1&&(x.date=B[2].tournament_date),u.$set(x);const ae={};U&1&&(ae.name=B[2].team_name),U&1&&(ae.current_name=B[2].team_name),T.$set(ae),(!c||U&1)&&p!==(p=B[2].member_name+"")&&ee($,p);const re={};U&1&&(re.players=B[2].mate_list),N.$set(re);const oe={};U&1&&(oe.rank=B[2].team_result),C.$set(oe);let ie=Y;Y=F(B),Y===ie?O[Y].p(B,U):(ne(),R(O[ie],1,1,()=>{O[ie]=null}),le(),E=O[Y],E?E.p(B,U):(E=O[Y]=M[Y](B),E.c()),j(E,1),E.m(g.parentNode,g))},i(B){c||(j(l.$$.fragment,B),j(u.$$.fragment,B),j(T.$$.fragment,B),j(N.$$.fragment,B),j(C.$$.fragment,B),j(E),c=!0)},o(B){R(l.$$.fragment,B),R(u.$$.fragment,B),R(T.$$.fragment,B),R(N.$$.fragment,B),R(C.$$.fragment,B),R(E),c=!1},d(B){B&&m(e),W(l),B&&m(n),B&&m(r),W(u),W(T),W(N),W(C),B&&m(I),O[Y].d(B),B&&m(g)}}}function Vt(o){let e,l,t=o[0].tournaments,n=[];for(let s=0;s<t.length;s+=1)n[s]=tt(Ge(o,t,s));const r=s=>R(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=te()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=te()},m(s,a){for(let f=0;f<n.length;f+=1)n[f].m(s,a);P(s,e,a),l=!0},p(s,[a]){if(a&3){t=s[0].tournaments;let f;for(f=0;f<t.length;f+=1){const u=Ge(s,t,f);n[f]?(n[f].p(u,a),j(n[f],1)):(n[f]=tt(u),n[f].c(),j(n[f],1),n[f].m(e.parentNode,e))}for(ne(),f=t.length;f<n.length;f+=1)r(f);le()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)j(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)R(n[a]);l=!1},d(s){_e(n,s),s&&m(e)}}}function Zt(o,e,l){let t,n;return ue(o,fe,r=>l(0,t=r)),ue(o,mt,r=>l(1,n=r)),[t,n]}class zt extends he{constructor(e){super();$e(this,e,Zt,Vt,de,{})}}const Gt=je(fe,o=>{if(o==null)return[];const e={},l=[];for(const r of o.tournaments){const s={key:r.tournament_key,win:0,lose:0};for(const a of o.matches)a.tnmt_key===r.tournament_key&&(a.opponent_team_key===a.loser_key?s.win+=1:s.lose+=1);for(const a of r.mate_list)e[a]===void 0?e[a]={name:a,tournaments:[r.tournament_key]}:e[a].tournaments.push(r.tournament_key);l.push(s)}const t=Object.values(e);return[...new Set(Object.values(e).map(r=>r.tournaments.join("	")))].map(r=>r.split("	")).sort((r,s)=>s.length-r.length).map(r=>{const s=l.filter(a=>r.includes(a.key));return{names:t.filter(a=>a.tournaments.sort().join("	")===r.sort().join("	")).map(a=>a.name),entry:r.length,win:s.reduce((a,f)=>a+f.win,0),lose:s.reduce((a,f)=>a+f.lose,0)}})});function nt(o,e,l){const t=o.slice();return t[1]=e[l],t}function lt(o){let e,l,t=o[1].entry+"",n,r,s,a,f=o[1].win+"",u,_,d,H=o[1].lose+"",T,b,q,h,p,$,D;return r=new me({props:{t:" \u5927\u4F1A"}}),_=new me({props:{t:" \u52DD"}}),b=new me({props:{t:" \u6557"}}),p=new ge({props:{players:o[1].names}}),{c(){e=v("tr"),l=v("td"),n=Q(t),G(r.$$.fragment),s=A(),a=v("td"),u=Q(f),G(_.$$.fragment),d=A(),T=Q(H),G(b.$$.fragment),q=A(),h=v("td"),G(p.$$.fragment),$=A(),this.h()},l(N){e=k(N,"TR",{});var y=w(e);l=k(y,"TD",{class:!0});var S=w(l);n=V(S,t),J(r.$$.fragment,S),S.forEach(m),s=L(y),a=k(y,"TD",{class:!0});var Z=w(a);u=V(Z,f),J(_.$$.fragment,Z),d=L(Z),T=V(Z,H),J(b.$$.fragment,Z),Z.forEach(m),q=L(y),h=k(y,"TD",{class:!0});var C=w(h);J(p.$$.fragment,C),C.forEach(m),$=L(y),y.forEach(m),this.h()},h(){z(l,"class","nw"),z(a,"class","nw"),z(h,"class","tal")},m(N,y){P(N,e,y),i(e,l),i(l,n),K(r,l,null),i(e,s),i(e,a),i(a,u),K(_,a,null),i(a,d),i(a,T),K(b,a,null),i(e,q),i(e,h),K(p,h,null),i(e,$),D=!0},p(N,y){(!D||y&1)&&t!==(t=N[1].entry+"")&&ee(n,t),(!D||y&1)&&f!==(f=N[1].win+"")&&ee(u,f),(!D||y&1)&&H!==(H=N[1].lose+"")&&ee(T,H);const S={};y&1&&(S.players=N[1].names),p.$set(S)},i(N){D||(j(r.$$.fragment,N),j(_.$$.fragment,N),j(b.$$.fragment,N),j(p.$$.fragment,N),D=!0)},o(N){R(r.$$.fragment,N),R(_.$$.fragment,N),R(b.$$.fragment,N),R(p.$$.fragment,N),D=!1},d(N){N&&m(e),W(r),W(_),W(b),W(p)}}}function Jt(o){let e,l,t,n,r,s,a,f,u,_,d,H,T,b,q=o[0],h=[];for(let $=0;$<q.length;$+=1)h[$]=lt(nt(o,q,$));const p=$=>R(h[$],1,1,()=>{h[$]=null});return{c(){e=v("h4"),l=Q("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),t=A(),n=v("table"),r=v("thead"),s=v("tr"),a=v("th"),f=A(),u=v("th"),_=A(),d=v("th"),H=A(),T=v("tbody");for(let $=0;$<h.length;$+=1)h[$].c();this.h()},l($){e=k($,"H4",{});var D=w(e);l=V(D,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),D.forEach(m),t=L($),n=k($,"TABLE",{});var N=w(n);r=k(N,"THEAD",{});var y=w(r);s=k(y,"TR",{});var S=w(s);a=k(S,"TH",{class:!0,style:!0}),w(a).forEach(m),f=L(S),u=k(S,"TH",{class:!0,style:!0}),w(u).forEach(m),_=L(S),d=k(S,"TH",{}),w(d).forEach(m),S.forEach(m),y.forEach(m),H=L(N),T=k(N,"TBODY",{});var Z=w(T);for(let C=0;C<h.length;C+=1)h[C].l(Z);Z.forEach(m),N.forEach(m),this.h()},h(){z(a,"class","nw"),se(a,"width","5em"),z(u,"class","nw"),se(u,"width","7em")},m($,D){P($,e,D),i(e,l),P($,t,D),P($,n,D),i(n,r),i(r,s),i(s,a),i(s,f),i(s,u),i(s,_),i(s,d),i(n,H),i(n,T);for(let N=0;N<h.length;N+=1)h[N].m(T,null);b=!0},p($,[D]){if(D&1){q=$[0];let N;for(N=0;N<q.length;N+=1){const y=nt($,q,N);h[N]?(h[N].p(y,D),j(h[N],1)):(h[N]=lt(y),h[N].c(),j(h[N],1),h[N].m(T,null))}for(ne(),N=q.length;N<h.length;N+=1)p(N);le()}},i($){if(!b){for(let D=0;D<q.length;D+=1)j(h[D]);b=!0}},o($){h=h.filter(Boolean);for(let D=0;D<h.length;D+=1)R(h[D]);b=!1},d($){$&&m(e),$&&m(t),$&&m(n),_e(h,$)}}}function Kt(o,e,l){let t;return ue(o,Gt,n=>l(0,t=n)),[t]}class Wt extends he{constructor(e){super();$e(this,e,Kt,Jt,de,{})}}const Xt=je(fe,o=>{if(o==null)return[];const e={};for(const t of o.matches)for(const n of t.opponents_list){const r=t.opponent_team_key===t.loser_key,s=`${t.tnmt_key}/${t.bracket}/${t.round}`;e[n]===void 0?e[n]={name:n,win:r?1:0,lose:r?0:1,matches:[s]}:(e[n].matches.push(s),r?e[n].win+=1:e[n].lose+=1)}const l=Object.values(e);return[...new Set(Object.values(e).map(t=>t.matches.join("	")))].map(t=>t.split("	")).sort((t,n)=>n.length-t.length).filter(t=>t.length>=3).map(t=>{const n=l.filter(r=>r.matches.join("	")===t.join("	"));return{names:n.map(r=>r.name),win:n[0].win,lose:n[0].lose}}).sort((t,n)=>n.win-t.win)});function rt(o,e,l){const t=o.slice();return t[1]=e[l],t}function at(o){let e,l,t=o[1].win+"",n,r,s,a,f=o[1].lose+"",u,_,d,H,T,b,q,h;return s=new me({props:{t:"\u52DD"}}),d=new me({props:{t:"\u6557"}}),b=new ge({props:{players:o[1].names}}),{c(){e=v("tr"),l=v("td"),n=Q(t),r=A(),G(s.$$.fragment),a=A(),u=Q(f),_=A(),G(d.$$.fragment),H=A(),T=v("td"),G(b.$$.fragment),q=A(),this.h()},l(p){e=k(p,"TR",{});var $=w(e);l=k($,"TD",{class:!0});var D=w(l);n=V(D,t),r=L(D),J(s.$$.fragment,D),a=L(D),u=V(D,f),_=L(D),J(d.$$.fragment,D),D.forEach(m),H=L($),T=k($,"TD",{class:!0});var N=w(T);J(b.$$.fragment,N),N.forEach(m),q=L($),$.forEach(m),this.h()},h(){z(l,"class","nw"),z(T,"class","tal")},m(p,$){P(p,e,$),i(e,l),i(l,n),i(l,r),K(s,l,null),i(l,a),i(l,u),i(l,_),K(d,l,null),i(e,H),i(e,T),K(b,T,null),i(e,q),h=!0},p(p,$){(!h||$&1)&&t!==(t=p[1].win+"")&&ee(n,t),(!h||$&1)&&f!==(f=p[1].lose+"")&&ee(u,f);const D={};$&1&&(D.players=p[1].names),b.$set(D)},i(p){h||(j(s.$$.fragment,p),j(d.$$.fragment,p),j(b.$$.fragment,p),h=!0)},o(p){R(s.$$.fragment,p),R(d.$$.fragment,p),R(b.$$.fragment,p),h=!1},d(p){p&&m(e),W(s),W(d),W(b)}}}function xt(o){let e,l,t,n,r,s,a,f,u,_,d,H,T=o[0],b=[];for(let h=0;h<T.length;h+=1)b[h]=at(rt(o,T,h));const q=h=>R(b[h],1,1,()=>{b[h]=null});return{c(){e=v("h4"),l=Q("\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),t=A(),n=v("table"),r=v("thead"),s=v("tr"),a=v("th"),f=A(),u=v("th"),_=A(),d=v("tbody");for(let h=0;h<b.length;h+=1)b[h].c();this.h()},l(h){e=k(h,"H4",{});var p=w(e);l=V(p,"\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(3\u6226\u4EE5\u4E0A)"),p.forEach(m),t=L(h),n=k(h,"TABLE",{});var $=w(n);r=k($,"THEAD",{});var D=w(r);s=k(D,"TR",{});var N=w(s);a=k(N,"TH",{class:!0,style:!0}),w(a).forEach(m),f=L(N),u=k(N,"TH",{}),w(u).forEach(m),N.forEach(m),D.forEach(m),_=L($),d=k($,"TBODY",{});var y=w(d);for(let S=0;S<b.length;S+=1)b[S].l(y);y.forEach(m),$.forEach(m),this.h()},h(){z(a,"class","nw"),se(a,"width","7em")},m(h,p){P(h,e,p),i(e,l),P(h,t,p),P(h,n,p),i(n,r),i(r,s),i(s,a),i(s,f),i(s,u),i(n,_),i(n,d);for(let $=0;$<b.length;$+=1)b[$].m(d,null);H=!0},p(h,[p]){if(p&1){T=h[0];let $;for($=0;$<T.length;$+=1){const D=rt(h,T,$);b[$]?(b[$].p(D,p),j(b[$],1)):(b[$]=at(D),b[$].c(),j(b[$],1),b[$].m(d,null))}for(ne(),$=T.length;$<b.length;$+=1)q($);le()}},i(h){if(!H){for(let p=0;p<T.length;p+=1)j(b[p]);H=!0}},o(h){b=b.filter(Boolean);for(let p=0;p<b.length;p+=1)R(b[p]);H=!1},d(h){h&&m(e),h&&m(t),h&&m(n),_e(b,h)}}}function en(o,e,l){let t;return ue(o,Xt,n=>l(0,t=n)),[t]}class tn extends he{constructor(e){super();$e(this,e,en,xt,de,{})}}function nn(o){let e,l;return e=new Et({}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){K(e,t,n),l=!0},p:it,i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function ln(o){let e,l,t,n=o[2].player.collated_name+"",r,s,a,f,u,_,d,H,T,b,q,h,p,$,D;e=new wt({props:{title:o[2].player.collated_name,type:"article",url:"player/detail/?q="+o[1],description:""}});function N(c){o[3](c)}let y={mode:"basic",name:"\u57FA\u672C"};o[0]!==void 0&&(y.current_mode=o[0]),a=new Ne({props:y}),ye.push(()=>He(a,"current_mode",N));function S(c){o[4](c)}let Z={mode:"tournament",name:"\u5927\u4F1A"};o[0]!==void 0&&(Z.current_mode=o[0]),_=new Ne({props:Z}),ye.push(()=>He(_,"current_mode",S));function C(c){o[5](c)}let I={mode:"relation",name:"\u95A2\u9023"};o[0]!==void 0&&(I.current_mode=o[0]),T=new Ne({props:I}),ye.push(()=>He(T,"current_mode",C));let Y=o[0]==="basic"&&st(),E=o[0]==="tournament"&&ot(),g=o[0]==="relation"&&ft();return{c(){G(e.$$.fragment),l=A(),t=v("h2"),r=Q(n),s=A(),G(a.$$.fragment),u=A(),G(_.$$.fragment),H=A(),G(T.$$.fragment),q=A(),Y&&Y.c(),h=A(),E&&E.c(),p=A(),g&&g.c(),$=te()},l(c){J(e.$$.fragment,c),l=L(c),t=k(c,"H2",{});var M=w(t);r=V(M,n),M.forEach(m),s=L(c),J(a.$$.fragment,c),u=L(c),J(_.$$.fragment,c),H=L(c),J(T.$$.fragment,c),q=L(c),Y&&Y.l(c),h=L(c),E&&E.l(c),p=L(c),g&&g.l(c),$=te()},m(c,M){K(e,c,M),P(c,l,M),P(c,t,M),i(t,r),P(c,s,M),K(a,c,M),P(c,u,M),K(_,c,M),P(c,H,M),K(T,c,M),P(c,q,M),Y&&Y.m(c,M),P(c,h,M),E&&E.m(c,M),P(c,p,M),g&&g.m(c,M),P(c,$,M),D=!0},p(c,M){const O={};M&4&&(O.title=c[2].player.collated_name),M&2&&(O.url="player/detail/?q="+c[1]),e.$set(O),(!D||M&4)&&n!==(n=c[2].player.collated_name+"")&&ee(r,n);const F={};!f&&M&1&&(f=!0,F.current_mode=c[0],Be(()=>f=!1)),a.$set(F);const B={};!d&&M&1&&(d=!0,B.current_mode=c[0],Be(()=>d=!1)),_.$set(B);const U={};!b&&M&1&&(b=!0,U.current_mode=c[0],Be(()=>b=!1)),T.$set(U),c[0]==="basic"?Y?M&1&&j(Y,1):(Y=st(),Y.c(),j(Y,1),Y.m(h.parentNode,h)):Y&&(ne(),R(Y,1,1,()=>{Y=null}),le()),c[0]==="tournament"?E?M&1&&j(E,1):(E=ot(),E.c(),j(E,1),E.m(p.parentNode,p)):E&&(ne(),R(E,1,1,()=>{E=null}),le()),c[0]==="relation"?g?M&1&&j(g,1):(g=ft(),g.c(),j(g,1),g.m($.parentNode,$)):g&&(ne(),R(g,1,1,()=>{g=null}),le())},i(c){D||(j(e.$$.fragment,c),j(a.$$.fragment,c),j(_.$$.fragment,c),j(T.$$.fragment,c),j(Y),j(E),j(g),D=!0)},o(c){R(e.$$.fragment,c),R(a.$$.fragment,c),R(_.$$.fragment,c),R(T.$$.fragment,c),R(Y),R(E),R(g),D=!1},d(c){W(e,c),c&&m(l),c&&m(t),c&&m(s),W(a,c),c&&m(u),W(_,c),c&&m(H),W(T,c),c&&m(q),Y&&Y.d(c),c&&m(h),E&&E.d(c),c&&m(p),g&&g.d(c),c&&m($)}}}function st(o){let e,l,t,n;return e=new Nt({}),t=new St({}),{c(){G(e.$$.fragment),l=A(),G(t.$$.fragment)},l(r){J(e.$$.fragment,r),l=L(r),J(t.$$.fragment,r)},m(r,s){K(e,r,s),P(r,l,s),K(t,r,s),n=!0},i(r){n||(j(e.$$.fragment,r),j(t.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),R(t.$$.fragment,r),n=!1},d(r){W(e,r),r&&m(l),W(t,r)}}}function ot(o){let e,l,t,n,r,s,a;return n=new Ut({}),s=new zt({}),{c(){e=v("h3"),l=Q("\u53C2\u52A0\u5927\u4F1A"),t=A(),G(n.$$.fragment),r=A(),G(s.$$.fragment)},l(f){e=k(f,"H3",{});var u=w(e);l=V(u,"\u53C2\u52A0\u5927\u4F1A"),u.forEach(m),t=L(f),J(n.$$.fragment,f),r=L(f),J(s.$$.fragment,f)},m(f,u){P(f,e,u),i(e,l),P(f,t,u),K(n,f,u),P(f,r,u),K(s,f,u),a=!0},i(f){a||(j(n.$$.fragment,f),j(s.$$.fragment,f),a=!0)},o(f){R(n.$$.fragment,f),R(s.$$.fragment,f),a=!1},d(f){f&&m(e),f&&m(t),W(n,f),f&&m(r),W(s,f)}}}function ft(o){let e,l,t,n;return e=new Wt({}),t=new tn({}),{c(){G(e.$$.fragment),l=A(),G(t.$$.fragment)},l(r){J(e.$$.fragment,r),l=L(r),J(t.$$.fragment,r)},m(r,s){K(e,r,s),P(r,l,s),K(t,r,s),n=!0},i(r){n||(j(e.$$.fragment,r),j(t.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),R(t.$$.fragment,r),n=!1},d(r){W(e,r),r&&m(l),W(t,r)}}}function rn(o){let e,l,t,n;const r=[ln,nn],s=[];function a(f,u){return f[2]?0:1}return e=a(o),l=s[e]=r[e](o),{c(){l.c(),t=te()},l(f){l.l(f),t=te()},m(f,u){s[e].m(f,u),P(f,t,u),n=!0},p(f,[u]){let _=e;e=a(f),e===_?s[e].p(f,u):(ne(),R(s[_],1,1,()=>{s[_]=null}),le(),l=s[e],l?l.p(f,u):(l=s[e]=r[e](f),l.c()),j(l,1),l.m(t.parentNode,t))},i(f){n||(j(l),n=!0)},o(f){R(l),n=!1},d(f){s[e].d(f),f&&m(t)}}}function an(o,e,l){let t,n;ue(o,Le,d=>l(1,t=d)),ue(o,fe,d=>l(2,n=d));let r="basic";bt(()=>{a(null)}),gt(()=>fe.set(null));async function s(d){Ae("player/player_aliases.json").then(H=>H.json()).then(H=>a(H[d])).catch(()=>[])}async function a(d){fe.set(null),Le.set(vt(d,"p")),t!==null&&Ae(`player/${t}.json`).then(H=>{if(H.status===404)throw new Error("NOT FOUND");return H.json()}).then(H=>{yt(H)}).catch(H=>{H.message==="NOT FOUND"&&d===null&&s(t)})}function f(d){r=d,l(0,r)}function u(d){r=d,l(0,r)}function _(d){r=d,l(0,r)}return[r,t,n,f,u,_]}class En extends he{constructor(e){super();$e(this,e,an,rn,de,{})}}export{En as default};
