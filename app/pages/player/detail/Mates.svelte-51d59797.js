import{N as J,S as K,i as U,s as V,e as g,t as N,w as M,k as B,c as y,a as v,h as Q,x as P,d as _,m as O,b as L,g as Y,H as c,y as R,j as x,q as S,o as A,B as C,f as F,p as W,Q as X,M as Z,n as tt}from"../../../chunks/vendor-96e95496.js";import{a as et}from"../../../chunks/index_store-6581fd16.js";import{P as nt}from"../../../chunks/PlayersLine-628c0c55.js";import{T as z}from"../../../chunks/T-afcbe7b3.js";import"../../../chunks/paths-4b3c6e7e.js";import"../../../chunks/util-4543d778.js";const at=J(et,u=>{if(u==null)return[];const s={},i=[];for(const r of u.tournaments){const l={key:r.tournament_key,win:0,lose:0};for(const e of u.matches)e.tnmt_key===r.tournament_key&&(e.opponent_team_key===e.loser_key?l.win+=1:l.lose+=1);for(const e of r.mate_list)s[e]===void 0?s[e]={name:e,tournaments:[r.tournament_key]}:s[e].tournaments.push(r.tournament_key);i.push(l)}const f=Object.values(s);return[...new Set(Object.values(s).map(r=>r.tournaments.join("	")))].map(r=>r.split("	")).sort((r,l)=>l.length-r.length).map(r=>{const l=i.filter(e=>r.includes(e.key));return{names:f.filter(e=>e.tournaments.sort().join("	")===r.sort().join("	")).map(e=>e.name),entry:r.length,win:l.reduce((e,p)=>e+p.win,0),lose:l.reduce((e,p)=>e+p.lose,0)}})});function G(u,s,i){const f=u.slice();return f[1]=s[i],f}function I(u){let s,i,f=u[1].entry+"",h,r,l,e,p=u[1].win+"",w,E,H,j=u[1].lose+"",b,$,k,a,T,n,o;return r=new z({props:{t:" \u5927\u4F1A"}}),E=new z({props:{t:" \u52DD"}}),$=new z({props:{t:" \u6557"}}),T=new nt({props:{players:u[1].names}}),{c(){s=g("tr"),i=g("td"),h=N(f),M(r.$$.fragment),l=B(),e=g("td"),w=N(p),M(E.$$.fragment),H=B(),b=N(j),M($.$$.fragment),k=B(),a=g("td"),M(T.$$.fragment),n=B(),this.h()},l(t){s=y(t,"TR",{});var m=v(s);i=y(m,"TD",{class:!0});var d=v(i);h=Q(d,f),P(r.$$.fragment,d),d.forEach(_),l=O(m),e=y(m,"TD",{class:!0});var D=v(e);w=Q(D,p),P(E.$$.fragment,D),H=O(D),b=Q(D,j),P($.$$.fragment,D),D.forEach(_),k=O(m),a=y(m,"TD",{class:!0});var q=v(a);P(T.$$.fragment,q),q.forEach(_),n=O(m),m.forEach(_),this.h()},h(){L(i,"class","nw"),L(e,"class","nw"),L(a,"class","tal")},m(t,m){Y(t,s,m),c(s,i),c(i,h),R(r,i,null),c(s,l),c(s,e),c(e,w),R(E,e,null),c(e,H),c(e,b),R($,e,null),c(s,k),c(s,a),R(T,a,null),c(s,n),o=!0},p(t,m){(!o||m&1)&&f!==(f=t[1].entry+"")&&x(h,f),(!o||m&1)&&p!==(p=t[1].win+"")&&x(w,p),(!o||m&1)&&j!==(j=t[1].lose+"")&&x(b,j);const d={};m&1&&(d.players=t[1].names),T.$set(d)},i(t){o||(S(r.$$.fragment,t),S(E.$$.fragment,t),S($.$$.fragment,t),S(T.$$.fragment,t),o=!0)},o(t){A(r.$$.fragment,t),A(E.$$.fragment,t),A($.$$.fragment,t),A(T.$$.fragment,t),o=!1},d(t){t&&_(s),C(r),C(E),C($),C(T)}}}function st(u){let s,i,f,h,r,l,e,p,w,E,H,j,b,$,k=u[0],a=[];for(let n=0;n<k.length;n+=1)a[n]=I(G(u,k,n));const T=n=>A(a[n],1,1,()=>{a[n]=null});return{c(){s=g("h4"),i=N("\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),f=B(),h=g("table"),r=g("thead"),l=g("tr"),e=g("th"),p=B(),w=g("th"),E=B(),H=g("th"),j=B(),b=g("tbody");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){s=y(n,"H4",{});var o=v(s);i=Q(o,"\u30C1\u30FC\u30E0\u30E1\u30A4\u30C8"),o.forEach(_),f=O(n),h=y(n,"TABLE",{});var t=v(h);r=y(t,"THEAD",{});var m=v(r);l=y(m,"TR",{});var d=v(l);e=y(d,"TH",{class:!0,style:!0}),v(e).forEach(_),p=O(d),w=y(d,"TH",{class:!0,style:!0}),v(w).forEach(_),E=O(d),H=y(d,"TH",{}),v(H).forEach(_),d.forEach(_),m.forEach(_),j=O(t),b=y(t,"TBODY",{});var D=v(b);for(let q=0;q<a.length;q+=1)a[q].l(D);D.forEach(_),t.forEach(_),this.h()},h(){L(e,"class","nw"),F(e,"width","5em"),L(w,"class","nw"),F(w,"width","7em")},m(n,o){Y(n,s,o),c(s,i),Y(n,f,o),Y(n,h,o),c(h,r),c(r,l),c(l,e),c(l,p),c(l,w),c(l,E),c(l,H),c(h,j),c(h,b);for(let t=0;t<a.length;t+=1)a[t].m(b,null);$=!0},p(n,[o]){if(o&1){k=n[0];let t;for(t=0;t<k.length;t+=1){const m=G(n,k,t);a[t]?(a[t].p(m,o),S(a[t],1)):(a[t]=I(m),a[t].c(),S(a[t],1),a[t].m(b,null))}for(tt(),t=k.length;t<a.length;t+=1)T(t);W()}},i(n){if(!$){for(let o=0;o<k.length;o+=1)S(a[o]);$=!0}},o(n){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)A(a[o]);$=!1},d(n){n&&_(s),n&&_(f),n&&_(h),X(a,n)}}}function rt(u,s,i){let f;return Z(u,at,h=>i(0,f=h)),[f]}class ut extends K{constructor(s){super();U(this,s,rt,st,V,{})}}export{ut as default};
