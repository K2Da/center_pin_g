import{N as F,S as G,i as I,s as J,e as $,t as P,k as E,w as q,c as g,a as w,h as R,m as T,x,d as _,b as C,g as O,H as h,y as A,j as N,q as D,o as B,B as L,f as K,p as U,Q as V,M as W,n as X}from"../../../chunks/vendor-96e95496.js";import{a as Z}from"../../../chunks/index_store-6581fd16.js";import{T as Q}from"../../../chunks/T-afcbe7b3.js";import{P as tt}from"../../../chunks/PlayersLine-628c0c55.js";import"../../../chunks/paths-4b3c6e7e.js";import"../../../chunks/util-4543d778.js";const et=F(Z,m=>{if(m==null)return[];const l={};for(const n of m.matches)for(const o of n.opponents_list){const c=n.opponent_team_key===n.loser_key,i=`${n.tnmt_key}/${n.bracket}/${n.round}`;l[o]===void 0?l[o]={name:o,win:c?1:0,lose:c?0:1,matches:[i]}:(l[o].matches.push(i),c?l[o].win+=1:l[o].lose+=1)}const r=Object.values(l);return[...new Set(Object.values(l).map(n=>n.matches.join("	")))].map(n=>n.split("	")).sort((n,o)=>o.length-n.length).filter(n=>n.length>1).map(n=>{const o=r.filter(c=>c.matches.join("	")===n.join("	"));return{names:o.map(c=>c.name),win:o[0].win,lose:o[0].lose}}).sort((n,o)=>o.win-n.win)});function Y(m,l,r){const n=m.slice();return n[1]=l[r],n}function z(m){let l,r,n=m[1].win+"",o,c,i,d,v=m[1].lose+"",y,k,p,b,u,a,H,t;return i=new Q({props:{t:"\u52DD"}}),p=new Q({props:{t:"\u6557"}}),a=new tt({props:{players:m[1].names}}),{c(){l=$("tr"),r=$("td"),o=P(n),c=E(),q(i.$$.fragment),d=E(),y=P(v),k=E(),q(p.$$.fragment),b=E(),u=$("td"),q(a.$$.fragment),H=E(),this.h()},l(s){l=g(s,"TR",{});var e=w(l);r=g(e,"TD",{class:!0});var f=w(r);o=R(f,n),c=T(f),x(i.$$.fragment,f),d=T(f),y=R(f,v),k=T(f),x(p.$$.fragment,f),f.forEach(_),b=T(e),u=g(e,"TD",{class:!0});var j=w(u);x(a.$$.fragment,j),j.forEach(_),H=T(e),e.forEach(_),this.h()},h(){C(r,"class","nw"),C(u,"class","tal")},m(s,e){O(s,l,e),h(l,r),h(r,o),h(r,c),A(i,r,null),h(r,d),h(r,y),h(r,k),A(p,r,null),h(l,b),h(l,u),A(a,u,null),h(l,H),t=!0},p(s,e){(!t||e&1)&&n!==(n=s[1].win+"")&&N(o,n),(!t||e&1)&&v!==(v=s[1].lose+"")&&N(y,v);const f={};e&1&&(f.players=s[1].names),a.$set(f)},i(s){t||(D(i.$$.fragment,s),D(p.$$.fragment,s),D(a.$$.fragment,s),t=!0)},o(s){B(i.$$.fragment,s),B(p.$$.fragment,s),B(a.$$.fragment,s),t=!1},d(s){s&&_(l),L(i),L(p),L(a)}}}function nt(m){let l,r,n,o,c,i,d,v,y,k,p,b,u=m[0],a=[];for(let t=0;t<u.length;t+=1)a[t]=z(Y(m,u,t));const H=t=>B(a[t],1,1,()=>{a[t]=null});return{c(){l=$("h4"),r=P("\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(2\u6226\u4EE5\u4E0A)"),n=E(),o=$("table"),c=$("thead"),i=$("tr"),d=$("th"),v=E(),y=$("th"),k=E(),p=$("tbody");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){l=g(t,"H4",{});var s=w(l);r=R(s,"\u5BFE\u6226\u306E\u591A\u3044\u30D7\u30EC\u30A4\u30E4\u30FC(2\u6226\u4EE5\u4E0A)"),s.forEach(_),n=T(t),o=g(t,"TABLE",{});var e=w(o);c=g(e,"THEAD",{});var f=w(c);i=g(f,"TR",{});var j=w(i);d=g(j,"TH",{class:!0,style:!0}),w(d).forEach(_),v=T(j),y=g(j,"TH",{}),w(y).forEach(_),j.forEach(_),f.forEach(_),k=T(e),p=g(e,"TBODY",{});var M=w(p);for(let S=0;S<a.length;S+=1)a[S].l(M);M.forEach(_),e.forEach(_),this.h()},h(){C(d,"class","nw"),K(d,"width","7em")},m(t,s){O(t,l,s),h(l,r),O(t,n,s),O(t,o,s),h(o,c),h(c,i),h(i,d),h(i,v),h(i,y),h(o,k),h(o,p);for(let e=0;e<a.length;e+=1)a[e].m(p,null);b=!0},p(t,[s]){if(s&1){u=t[0];let e;for(e=0;e<u.length;e+=1){const f=Y(t,u,e);a[e]?(a[e].p(f,s),D(a[e],1)):(a[e]=z(f),a[e].c(),D(a[e],1),a[e].m(p,null))}for(X(),e=u.length;e<a.length;e+=1)H(e);U()}},i(t){if(!b){for(let s=0;s<u.length;s+=1)D(a[s]);b=!0}},o(t){a=a.filter(Boolean);for(let s=0;s<a.length;s+=1)B(a[s]);b=!1},d(t){t&&_(l),t&&_(n),t&&_(o),V(a,t)}}}function st(m,l,r){let n;return W(m,et,o=>r(0,n=o)),[n]}class ft extends G{constructor(l){super();I(this,l,st,nt,J,{})}}export{ft as default};
